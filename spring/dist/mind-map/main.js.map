{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/MPNode.ts","webpack:///./src/app/Submit.ts","webpack:///./src/app/account.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/course.ts","webpack:///./src/app/courses.ts","webpack:///./src/app/descripQ.ts","webpack:///./src/app/download.service.ts","webpack:///./src/app/index/index.component.css","webpack:///./src/app/index/index.component.html","webpack:///./src/app/index/index.component.ts","webpack:///./src/app/jsmind/js/jsmind.js","webpack:///./src/app/jsmind/js/jsmind.screenshot.js","webpack:///./src/app/lesson.ts","webpack:///./src/app/lessons.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/mindmap.ts","webpack:///./src/app/number.ts","webpack:///./src/app/person.ts","webpack:///./src/app/register/register.component.css","webpack:///./src/app/register/register.component.html","webpack:///./src/app/register/register.component.ts","webpack:///./src/app/response.ts","webpack:///./src/app/selectQ.ts","webpack:///./src/app/student/courses/courses.component.css","webpack:///./src/app/student/courses/courses.component.html","webpack:///./src/app/student/courses/courses.component.ts","webpack:///./src/app/student/scourseware/scourseware.component.css","webpack:///./src/app/student/scourseware/scourseware.component.html","webpack:///./src/app/student/scourseware/scourseware.component.ts","webpack:///./src/app/student/shomework/shomework.component.css","webpack:///./src/app/student/shomework/shomework.component.html","webpack:///./src/app/student/shomework/shomework.component.ts","webpack:///./src/app/student/sresource/sresource.component.css","webpack:///./src/app/student/sresource/sresource.component.html","webpack:///./src/app/student/sresource/sresource.component.ts","webpack:///./src/app/student/studentmap/studentmap.component.css","webpack:///./src/app/student/studentmap/studentmap.component.html","webpack:///./src/app/student/studentmap/studentmap.component.ts","webpack:///./src/app/teacher/lessons/lessons.component.css","webpack:///./src/app/teacher/lessons/lessons.component.html","webpack:///./src/app/teacher/lessons/lessons.component.ts","webpack:///./src/app/teacher/mindmap/mindmap.component.css","webpack:///./src/app/teacher/mindmap/mindmap.component.html","webpack:///./src/app/teacher/mindmap/mindmap.component.ts","webpack:///./src/app/teacher/tcourseware/tcourseware.component.css","webpack:///./src/app/teacher/tcourseware/tcourseware.component.html","webpack:///./src/app/teacher/tcourseware/tcourseware.component.ts","webpack:///./src/app/teacher/thomework/thomework.component.css","webpack:///./src/app/teacher/thomework/thomework.component.html","webpack:///./src/app/teacher/thomework/thomework.component.ts","webpack:///./src/app/teacher/tresource/tresource.component.css","webpack:///./src/app/teacher/tresource/tresource.component.html","webpack:///./src/app/teacher/tresource/tresource.component.ts","webpack:///./src/app/upfile.ts","webpack:///./src/app/upfiles.ts","webpack:///./src/app/user.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB,qBAAqB;;AAErB;AACA,iBAAiB,+BAA+B;AAChD,sCAAsC,mCAAmC;AACzE,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe,KAAK,gDAAgD,KAAK,KAAK;AAC9G;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,wBAAwB;AACxB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,KAAK;AACjC;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,iBAAiB,KAAK;AACtB;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,4BAA4B,eAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,wBAAwB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;;AAEA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F;AAC3F;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA,kDAAkD;AAClD,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,kDAAkD,WAAW;AAC7D,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,yDAAyD,YAAY;AACrE,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,mEAAmE;AACpI;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,uEAAuE;AACxI;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,qEAAqE;AACtI;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,8CAA8C;AAC3G;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,kDAAkD;AACnH;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,sEAAsE;AACvI;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,4BAA4B,WAAW;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,4BAA4B,WAAW;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA,wBAAwB,IAAI;AAC5B;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,2BAA2B;AAC3B,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;;AAEjB;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;;AAErB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sCAAsC,kBAAkB;AACxD,aAAa;AACb;AACA;AACA,aAAa;;AAEb;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,sCAAsC;AACtC;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,mBAAmB;AACnB,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,QAAQ;AACtE,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,yBAAyB,kCAAkC;AAC3D;AACA;AACA;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,mFAAmF;AACnF;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA,0CAA0C;AAC1C;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,WAAW;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,oBAAoB,IAAI;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK,QAIL;AACA,CAAC;;;;;;;;;;;;;AC12FD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB,gDAAgD;;AAEhD;AACA,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;A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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","/**\n * Created by sunlu on 2018/6/20.\n */\nexport class MPNode {\n    lid: string;\n    node_id: string;\n    mapid: string;\n}\n","/**\n * Created by sunlu on 2018/6/23.\n */\nexport class Submit {\n    title: string;\n    lid: string;\n    node_id: string;\n    mapid: string;\n    username: string;\n    answer: string;\n}","/**\n * Created by sunlu on 2018/6/23.\n */\nexport class Account {\n    username: string;\n    password: string;\n}","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { RegisterComponent } from './register/register.component';\nimport {LoginComponent} from './login/login.component';\nimport {IndexComponent} from './index/index.component';\nimport {LessonsComponent} from './teacher/lessons/lessons.component';\nimport {MindmapComponent} from './teacher/mindmap/mindmap.component';\nimport {CoursesComponent} from './student/courses/courses.component';\nimport {StudentmapComponent} from './student/studentmap/studentmap.component';\n\n\nimport {ShomeworkComponent} from './student/shomework/shomework.component';\nimport {SresourceComponent} from './student/sresource/sresource.component';\nimport {ScoursewareComponent} from './student/scourseware/scourseware.component';\nimport {ThomeworkComponent} from './teacher/thomework/thomework.component';\nimport {TresourceComponent} from './teacher/tresource/tresource.component';\nimport {TcoursewareComponent} from './teacher/tcourseware/tcourseware.component';\n\n\nconst routes: Routes = [\n  { path: 'register', component: RegisterComponent },\n  { path: 'login', component: LoginComponent },\n  { path: 'index', component: IndexComponent },\n  { path: 'mindmap/:username/:id', component: MindmapComponent },\n  { path: 'studentmap/:username/:id', component: StudentmapComponent},\n  { path: 'teacher/:username', component: LessonsComponent },\n  { path: 'student/:username', component: CoursesComponent },\n  { path: 'shomework/:username/:mapid/:lid/:node_id', component: ShomeworkComponent},\n  { path: 'sresource/:username/:mapid/:lid/:node_id', component: SresourceComponent},\n  { path: 'scourseware/:username/:mapid/:lid/:node_id', component: ScoursewareComponent},\n  { path: 'thomework/:username/:mapid/:lid/:node_id', component: ThomeworkComponent},\n  { path: 'tresource/:username/:mapid/:lid/:node_id', component: TresourceComponent},\n  { path: 'tcourseware/:username/:mapid/:lid/:node_id', component: TcoursewareComponent},\n\n  { path: 'mindmap', component: MindmapComponent },\n  { path: 'studentmap', component: StudentmapComponent},\n  { path: 'teacher', component: LessonsComponent },\n  { path: 'student', component: CoursesComponent },\n  { path: 'shomework', component: ShomeworkComponent},\n  { path: 'sresource', component: SresourceComponent},\n  { path: 'scourseware', component: ScoursewareComponent},\n  { path: 'thomework', component: ThomeworkComponent},\n  { path: 'tresource', component: TresourceComponent},\n  { path: 'tcourseware', component: TcoursewareComponent},\n  { path: '', redirectTo: '/index', pathMatch: 'full' },\n];\n\n@NgModule({\n  exports: [ RouterModule ],\n  imports: [ RouterModule.forRoot(routes) ],\n})\nexport class AppRoutingModule {}\n","module.exports = \"#title{\\n    padding: 10px 0 0 0;\\n}\\n\\n#content{\\n    margin: 5% 0 0 0;\\n}\\n\\n\"","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n\\n\\n<router-outlet></router-outlet>\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = '';\n  content = '+++';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n// import { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { AppComponent } from './app.component';\nimport { RegisterComponent } from './register/register.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { LoginComponent } from './login/login.component';\nimport { LessonsComponent } from './teacher/lessons/lessons.component';\nimport { IndexComponent } from './index/index.component';\nimport { MindmapComponent } from './teacher/mindmap/mindmap.component';\nimport { CoursesComponent } from './student/courses/courses.component';\n\nimport {HttpHeaders, HttpClientModule } from '@angular/common/http';\nimport { FormsModule} from '@angular/forms';\nimport {HttpModule} from '@angular/http';\nimport { StudentmapComponent } from './student/studentmap/studentmap.component';\nimport { ThomeworkComponent } from './teacher/thomework/thomework.component';\nimport { TresourceComponent } from './teacher/tresource/tresource.component';\nimport { TcoursewareComponent } from './teacher/tcourseware/tcourseware.component';\nimport { ShomeworkComponent } from './student/shomework/shomework.component';\nimport { SresourceComponent } from './student/sresource/sresource.component';\nimport { ScoursewareComponent } from './student/scourseware/scourseware.component';\nimport { FileUploadModule } from 'ng2-file-upload';\n\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    RegisterComponent,\n    LoginComponent,\n    LessonsComponent,\n    IndexComponent,\n    MindmapComponent,\n    CoursesComponent,\n    StudentmapComponent,\n    ThomeworkComponent,\n    TresourceComponent,\n    TcoursewareComponent,\n    ShomeworkComponent,\n    SresourceComponent,\n    ScoursewareComponent,\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    // NgbModule.forRoot(),\n    AppRoutingModule,\n    FormsModule,\n      HttpModule,\n    HttpClientModule,\n      FileUploadModule\n  ],\n  providers: [HttpClientModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","/**\n * Created by sunlu on 2018/6/14.\n */\nexport class Course {\n    cid: string;\n    name: string;\n    people_num: string;\n    student: string;\n    lid: string;\n}\n","/**\n * Created by sunlu on 2018/6/14.\n */\nimport {Course} from './course';\n\nexport class Courses {\n    list: Array<Course>;\n}\n","/**\n * Created by sunlu on 2018/6/20.\n */\nexport class DescripQ1 {\n    lid: string;\n    node_id: string;\n    mapid: string;\n    title: string;\n}\n","import { Injectable } from '@angular/core';\n\nimport { HttpHeaders, HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {UpFiles} from './upfiles';\nimport {Upfile} from './upfile';\n\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DownloadService {\n\n  constructor( private http: HttpClient ) {}\n\n  showfile(url: string): Observable<UpFiles> {\n    const body = {};\n    return this.http.post<UpFiles>(url, body);\n  }\n\n  showlink(url: string, data?: any): Observable<any> {//  Upfile\n    const body = {};\n    return this.http.post<any>(url, data);\n  }\n\n  // Blob\n  requestBlob(url: any, data?: any): Observable<any> {\n    return this.http.request( 'post', url, {body: data, observe: 'response', responseType: 'blob'});\n  }\n\n  // Blob\n  downFile(result: any, fileName: string) {\n    var data = result.body;\n\n    var blob = new Blob([data]);\n    var objectUrl = URL.createObjectURL(blob);\n    var a = document.createElement('a');\n    a.setAttribute('style', 'display:none');\n    a.setAttribute('href', objectUrl);\n    a.setAttribute('download', fileName);\n    a.click();\n    a.addEventListener('click', function() {\n      URL.revokeObjectURL(objectUrl);\n      document.getElementById('download').remove();\n    });\n  }\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UploadService {\n\n  constructor( private http: HttpClient ) {}\n\n  uploadLink(url: any, data?: any): Observable<any> {\n    return this.http.post(url, data);\n  }\n\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RestService {\n\n  constructor( private downloadService: DownloadService, private uploadService: UploadService,private http: HttpClient) {}\n  // \n  download(fileName: string, lid: string,mapid: string) {\n    console.log('restservice export start');\n    let url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/download';\n    let body = {'filename': fileName,\n      'lid': lid,\n      'mapid': mapid\n    };\n    this.downloadService.requestBlob(url, body).subscribe(result => {\n      this.downloadService.downFile(result, fileName);\n    });\n  }\n  download1(fileName: string, lid: string,mapid: string) {\n    console.log('restservice export start');\n    let url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/download1';\n    let body = {'filename': fileName,\n      'lid': lid,\n      'mapid': mapid};\n    this.downloadService.requestBlob(url, body).subscribe(result => {\n      this.downloadService.downFile(result, fileName);\n    });\n  }\n\n  show(): Observable<UpFiles> {\n    const url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/showfile/1';\n    // \n    return this.downloadService.showfile(url);\n  }\n\n  showLink(lid: string, node_id: string, mapid:string): Observable<any> {\n    const url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/get_link';\n    let body = {\n      'lid': lid,\n      'node_id': node_id,\n      'mapid':mapid,\n    };\n    return this.downloadService.showlink(url,body);\n  }\n\n  uploadLink(linkname: string, linkcontent: string, lid: string, node_id: string,mapid:string) {\n    let url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/upload_link';\n    let body = {\n      'linkname': linkname,\n      'linkcontent': linkcontent,\n      'lid': lid,\n      'node_id': node_id,\n      'mapid':mapid,\n    };\n\n    return this.uploadService.uploadLink( url, body);\n  }\n\n  uploadFileDescription(filename: string, fd: string, lid: string, node_id: string,mapid:string): Observable<any> {\n    console.log(\"enter\");\n    let upFile=new Upfile();\n    upFile.node_id=node_id;\n    upFile.lid=lid;\n    upFile.filename=filename;\n    upFile.fd=fd;\n    upFile.mapid=mapid;\n    console.log(upFile);\n    let url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/upload_fd';\n    return this.http.post<any>( url, upFile);\n  }\n  uploadFileDescription1(filename: string, fd: string, lid: string, node_id: string,mapid:string): Observable<any> {\n    console.log(\"enter\");\n    let upFile=new Upfile();\n    upFile.node_id=node_id;\n    upFile.lid=lid;\n    upFile.filename=filename;\n    upFile.fd=fd;\n    upFile.mapid=mapid;\n    console.log(upFile);\n    let url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/upload_fd1';\n    return this.http.post<any>( url, upFile);\n  }\n\n}\n","module.exports = \".index-top{\\n    margin-top: 100px;\\n    margin-bottom: 50px;\\n}\\n\\n#title{\\n    margin-bottom: 50px;\\n    text-align: center; \\n}\\n\\n#subtitle{\\n    margin-right: 180px;\\n    text-align: right;\\n}\\n\\n#bt1{\\n    padding: 8px 24px;\\n    margin:  2% 0px 2% 42%;\\n}\\n\\n#bt2{\\n    padding: 8px 24px;\\n    margin:  2% 0px 2% 5%;\\n}\\n\\n#bt3{\\n    padding: 8px 24px;\\n    margin:  2% 0px 2% 5%;\\n}\"","module.exports = \"<head> \\n  <meta charset=\\\"utf-8\\\"> \\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">  \\n</head>\\n  \\n<div class=\\\"index-top\\\">\\n  <h1 id=\\\"title\\\">\\n    \\n  </h1>\\n  <h5 id=\\\"subtitle\\\">\\n      \\n  </h5>\\n</div>\\n\\n\\n<a routerLink=\\\"/login\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" id=\\\"bt1\\\" ></button></a>\\n\\n<a routerLink=\\\"/register\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" id=\\\"bt2\\\"></button></a>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-index',\n  templateUrl: './index.component.html',\n  styleUrls: ['./index.component.css']\n})\nexport class IndexComponent implements OnInit {\n\n  title=\"\"\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","/*\n * Released under BSD License\n * Copyright (c) 2014-2016 hizzgdev@163.com\n *\n * Project Home:\n *   https://github.com/hizzgdev/jsmind/\n */\n\n;(function($w){\n    'use strict';       \n    // set 'jsMind' as the library name.\n    // __name__ should be a const value, Never try to change it easily.\n    var __name__ = 'jsMind';\n    // library version\n    var __version__ = '0.4.6';\n    // author\n    var __author__ = 'hizzgdev@163.com';\n\n    // an noop function define\n    var _noop = function(){};\n    var logger = (typeof console === 'undefined')?{\n            log:_noop, debug:_noop, error:_noop, warn:_noop, info:_noop\n        }:console;\n\n    // check global variables\n    if(typeof module === 'undefined' || !module.exports){\n        if(typeof $w[__name__] != 'undefined'){\n            logger.log(__name__+' has been already exist.');\n            return;\n        }\n    }\n\n    // shortcut of methods in dom\n    var $d = $w.document;\n    var $g = function(id){return $d.getElementById(id);};\n    var $c = function(tag){return $d.createElement(tag);};\n    var $t = function(n,t){if(n.hasChildNodes()){n.firstChild.nodeValue = t;}else{n.appendChild($d.createTextNode(t));}};\n    var $h = function(n,t){n.innerHTML = t;};\n    // detect isElement\n    var $i = function(el){return !!el&&(typeof el==='object')&&(el.nodeType===1)&&(typeof el.style==='object')&&(typeof el.ownerDocument==='object');};\n    if(typeof String.prototype.startsWith != 'function'){String.prototype.startsWith=function(p){return this.slice(0,p.length)===p;};}\n\n    var DEFAULT_OPTIONS = {\n        container : '',   // id of the container\n        editable : false, // you can change it in your options\n        theme : null,\n        mode :'full',     // full or side\n        support_html : true,\n\n        view:{\n            hmargin:100,\n            vmargin:50,\n            line_width:2,\n            line_color:'#555'\n        },\n        layout:{\n            hspace:30,\n            vspace:20,\n            pspace:13\n        },\n        default_event_handle:{\n            enable_mousedown_handle:true,\n            enable_click_handle:true,\n            enable_dblclick_handle:true\n        },\n        shortcut:{\n            enable:true,\n            handles:{\n            },\n            mapping:{\n                addchild   : 45, // Insert\n                addbrother : 13, // Enter\n                editnode   : 113,// F2\n                delnode    : 46, // Delete\n                toggle     : 32, // Space\n                left       : 37, // Left\n                up         : 38, // Up\n                right      : 39, // Right\n                down       : 40, // Down\n            }\n        },\n    };\n\n    // core object\n    var jm = function(options){\n        jm.current = this;\n\n        this.version = __version__;\n        var opts = {};\n        jm.util.json.merge(opts, DEFAULT_OPTIONS);\n        jm.util.json.merge(opts, options);\n\n        if(!opts.container){\n            logger.error('the options.container should not be null or empty.');\n            return;\n        }\n        this.options = opts;\n        this.inited = false;\n        this.mind = null;\n        this.event_handles = [];\n        this.init();\n    };\n\n    // ============= static object =============================================\n    jm.direction = {left:-1,center:0,right:1};\n    jm.event_type = {show:1,resize:2,edit:3,select:4};\n\n    jm.node = function(sId,iIndex,sTopic,oData,bIsRoot,oParent,eDirection,bExpanded){\n        if(!sId){logger.error('invalid nodeid');return;}\n        if(typeof iIndex != 'number'){logger.error('invalid node index');return;}\n        if(typeof bExpanded === 'undefined'){bExpanded = true;}\n        this.id = sId;\n        this.index = iIndex;\n        this.topic = sTopic;\n        this.data = oData || {};\n        this.isroot = bIsRoot;\n        this.parent = oParent;\n        this.direction = eDirection;\n        this.expanded = !!bExpanded;\n        this.children = [];\n        this._data = {};\n    };\n\n    jm.node.compare=function(node1,node2){\n        // '-1' is alwary the last\n        var r = 0;\n        var i1 = node1.index;\n        var i2 = node2.index;\n        if(i1>=0 && i2>=0){\n            r = i1-i2;\n        }else if(i1==-1 && i2==-1){\n            r = 0;\n        }else if(i1==-1){\n            r = 1;\n        }else if(i2==-1){\n            r = -1;\n        }else{\n            r = 0;\n        }\n        //logger.debug(i1+' <> '+i2+'  =  '+r);\n        return r;\n    };\n\n    jm.node.inherited=function(pnode,node){\n        if(!!pnode && !!node){\n            if(pnode.id === node.id){\n                return true;\n            }\n            if(pnode.isroot){\n                return true;\n            }\n            var pid = pnode.id;\n            var p = node;\n            while(!p.isroot){\n                p = p.parent;\n                if(p.id === pid){\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n\n    jm.node.prototype = {\n        get_location:function(){\n            var vd = this._data.view;\n            return {\n                x:vd.abs_x,\n                y:vd.abs_y\n            };\n        },\n        get_size:function(){\n            var vd = this._data.view;\n            return {\n                w:vd.width,\n                h:vd.height\n            }\n        }\n    };\n\n\n    jm.mind = function(){\n        this.name = null;\n        this.author = null;\n        this.version = null;\n        this.root = null;\n        this.selected = null;\n        this.nodes = {};\n    };\n\n    jm.mind.prototype = {\n        get_node:function(nodeid){\n            if(nodeid in this.nodes){\n                return this.nodes[nodeid];\n            }else{\n                logger.warn('the node[id='+nodeid+'] can not be found');\n                return null;\n            }\n        },\n\n        set_root:function(nodeid, topic, data){\n            if(this.root == null){\n                this.root = new jm.node(nodeid, 0, topic, data, true);\n                this._put_node(this.root);\n            }else{\n                logger.error('root node is already exist');\n            }\n        },\n\n        add_node:function(parent_node, nodeid, topic, data, idx, direction, expanded){\n            if(!jm.util.is_node(parent_node)){\n                var the_parent_node = this.get_node(parent_node);\n                if(!the_parent_node){\n                    logger.error('the parent_node[id='+parent_node+'] can not be found.');\n                    return null;\n                }else{\n                    return this.add_node(the_parent_node, nodeid, topic, data, idx, direction, expanded);\n                }\n            }\n            var nodeindex = idx || -1;\n            var node = null;\n            if(parent_node.isroot){\n                var d = jm.direction.right;\n                if(isNaN(direction)){\n                    var children = parent_node.children;\n                    var children_len = children.length;\n                    var r = 0;\n                    for(var i=0;i<children_len;i++){if(children[i].direction === jm.direction.left){r--;}else{r++;}}\n                    d = (children_len > 1 && r > 0) ? jm.direction.left : jm.direction.right\n                }else{\n                    d = (direction != jm.direction.left) ? jm.direction.right : jm.direction.left;\n                }\n                node = new jm.node(nodeid,nodeindex,topic,data,false,parent_node,d,expanded);\n            }else{\n                node = new jm.node(nodeid,nodeindex,topic,data,false,parent_node,parent_node.direction,expanded);\n            }\n            if(this._put_node(node)){\n                parent_node.children.push(node);\n                this._reindex(parent_node);\n            }else{\n                logger.error('fail, the nodeid \\''+node.id+'\\' has been already exist.');\n                node = null;\n            }\n            return node;\n        },\n\n        insert_node_before:function(node_before, nodeid, topic, data){\n            if(!jm.util.is_node(node_before)){\n                var the_node_before = this.get_node(node_before);\n                if(!the_node_before){\n                    logger.error('the node_before[id='+node_before+'] can not be found.');\n                    return null;\n                }else{\n                    return this.insert_node_before(the_node_before, nodeid, topic, data);\n                }\n            }\n            var node_index = node_before.index-0.5;\n            return this.add_node(node_before.parent, nodeid, topic, data, node_index);\n        },\n\n        get_node_before:function(node){\n            if(!jm.util.is_node(node)){\n                var the_node = this.get_node(node);\n                if(!the_node){\n                    logger.error('the node[id='+node+'] can not be found.');\n                    return null;\n                }else{\n                    return this.get_node_before(the_node);\n                }\n            }\n            if(node.isroot){return null;}\n            var idx = node.index - 2;\n            if(idx >= 0){\n                return node.parent.children[idx];\n            }else{\n                return null;\n            }\n        },\n\n        insert_node_after:function(node_after, nodeid, topic, data){\n            if(!jm.util.is_node(node_after)){\n                var the_node_after = this.get_node(node_before);\n                if(!the_node_after){\n                    logger.error('the node_after[id='+node_after+'] can not be found.');\n                    return null;\n                }else{\n                    return this.insert_node_after(the_node_after, nodeid, topic, data);\n                }\n            }\n            var node_index = node_after.index + 0.5;\n            return this.add_node(node_after.parent, nodeid, topic, data, node_index);\n        },\n\n        get_node_after:function(node){\n            if(!jm.util.is_node(node)){\n                var the_node = this.get_node(node);\n                if(!the_node){\n                    logger.error('the node[id='+node+'] can not be found.');\n                    return null;\n                }else{\n                    return this.get_node_after(the_node);\n                }\n            }\n            if(node.isroot){return null;}\n            var idx = node.index;\n            var brothers = node.parent.children;\n            if(brothers.length >= idx){\n                return node.parent.children[idx];\n            }else{\n                return null;\n            }\n        },\n\n        move_node:function(node, beforeid, parentid, direction){\n            if(!jm.util.is_node(node)){\n                var the_node = this.get_node(node);\n                if(!the_node){\n                    logger.error('the node[id='+node+'] can not be found.');\n                    return null;\n                }else{\n                    return this.move_node(the_node, beforeid, parentid, direction);\n                }\n            }\n            if(!parentid){\n                parentid = node.parent.id;\n            }\n            return this._move_node(node, beforeid, parentid, direction);\n        },\n\n        _flow_node_direction:function(node,direction){\n            if(typeof direction === 'undefined'){\n                direction = node.direction;\n            }else{\n                node.direction = direction;\n            }\n            var len = node.children.length;\n            while(len--){\n                this._flow_node_direction(node.children[len],direction);\n            }\n        },\n\n        _move_node_internal:function(node, beforeid){\n            if(!!node && !!beforeid){\n                if(beforeid == '_last_'){\n                    node.index = -1;\n                    this._reindex(node.parent);\n                }else if(beforeid == '_first_'){\n                    node.index = 0;\n                    this._reindex(node.parent);\n                }else{\n                    var node_before = (!!beforeid)?this.get_node(beforeid):null;\n                    if(node_before!=null && node_before.parent!=null && node_before.parent.id==node.parent.id){\n                        node.index = node_before.index - 0.5;\n                        this._reindex(node.parent);\n                    }\n                }\n            }\n            return node;\n        },\n\n        _move_node:function(node, beforeid, parentid, direction){\n            if(!!node && !!parentid){\n                if(node.parent.id != parentid){\n                    // remove from parent's children\n                    var sibling = node.parent.children;\n                    var si = sibling.length;\n                    while(si--){\n                        if(sibling[si].id == node.id){\n                            sibling.splice(si,1);\n                            break;\n                        }\n                    }\n                    node.parent = this.get_node(parentid);\n                    node.parent.children.push(node);\n                }\n\n                if(node.parent.isroot){\n                    if(direction == jsMind.direction.left){\n                        node.direction = direction;\n                    }else{\n                        node.direction = jm.direction.right;\n                    }\n                }else{\n                    node.direction = node.parent.direction;\n                }\n                this._move_node_internal(node, beforeid);\n                this._flow_node_direction(node);\n            }\n            return node;\n        },\n\n        remove_node:function(node){\n            if(!jm.util.is_node(node)){\n                var the_node = this.get_node(node);\n                if(!the_node){\n                    logger.error('the node[id='+node+'] can not be found.');\n                    return false;\n                }else{\n                    return this.remove_node(the_node);\n                }\n            }\n            if(!node){\n                logger.error('fail, the node can not be found');\n                return false;\n            }\n            if(node.isroot){\n                logger.error('fail, can not remove root node');\n                return false;\n            }\n            if(this.selected!=null && this.selected.id == node.id){\n                this.selected = null;\n            }\n            // clean all subordinate nodes\n            var children = node.children;\n            var ci = children.length;\n            while(ci--){\n                this.remove_node(children[ci]);\n            }\n            // clean all children\n            children.length = 0;\n            // remove from parent's children\n            var sibling = node.parent.children;\n            var si = sibling.length;\n            while(si--){\n                if(sibling[si].id == node.id){\n                    sibling.splice(si,1);\n                    break;\n                }\n            }\n            // remove from global nodes\n            delete this.nodes[node.id];\n            // clean all properties\n            for(var k in node){\n                delete node[k];\n            }\n            // remove it's self\n            node = null;\n            //delete node;\n            return true;\n        },\n\n        _put_node:function(node){\n            if(node.id in this.nodes){\n                logger.warn('the nodeid \\''+node.id+'\\' has been already exist.');\n                return false;\n            }else{\n                this.nodes[node.id] = node;\n                return true;\n            }\n        },\n\n        _reindex:function(node){\n            if(node instanceof jm.node){\n                node.children.sort(jm.node.compare);\n                for(var i=0;i<node.children.length;i++){\n                    node.children[i].index = i+1;\n                }\n            }\n        },\n    };\n\n    jm.format = {\n        node_tree:{\n            example:{\n                \"meta\":{\n                    \"name\":__name__,\n                    \"author\":__author__,\n                    \"version\":__version__\n                },\n                \"format\":\"node_tree\",\n                \"data\":{\"id\":\"root\",\"topic\":\"jsMind Example\"}\n            },\n            get_mind:function(source){\n                var df = jm.format.node_tree;\n                var mind = new jm.mind();\n                mind.name = source.meta.name;\n                mind.author = source.meta.author;\n                mind.version = source.meta.version;\n                df._parse(mind,source.data);\n                return mind;\n            },\n            get_data:function(mind){\n                var df = jm.format.node_tree;\n                var json = {};\n                json.meta = {\n                    name : mind.name,\n                    author : mind.author,\n                    version : mind.version\n                };\n                json.format = 'node_tree';\n                json.data = df._buildnode(mind.root);\n                return json;\n            },\n\n            _parse:function(mind, node_root){\n                var df = jm.format.node_tree;\n                var data = df._extract_data(node_root);\n                mind.set_root(node_root.id, node_root.topic, data);\n                if('children' in node_root){\n                    var children = node_root.children;\n                    for(var i=0;i<children.length;i++){\n                        df._extract_subnode(mind, mind.root, children[i]);\n                    }\n                }\n            },\n\n            _extract_data:function(node_json){\n                var data = {};\n                for(var k in node_json){\n                    if(k == 'id' || k=='topic' || k=='children' || k=='direction' || k=='expanded'){\n                        continue;\n                    }\n                    data[k] = node_json[k];\n                }\n                return data;\n            },\n\n            _extract_subnode:function(mind, node_parent, node_json){\n                var df = jm.format.node_tree;\n                var data = df._extract_data(node_json);\n                var d = null;\n                if(node_parent.isroot){\n                    d = node_json.direction == 'left'?jm.direction.left:jm.direction.right;\n                }\n                var node = mind.add_node(node_parent, node_json.id, node_json.topic, data, null, d, node_json.expanded);\n                if('children' in node_json){\n                    var children = node_json.children;\n                    for(var i=0;i<children.length;i++){\n                        df._extract_subnode(mind, node, children[i]);\n                    }\n                }\n            },\n\n            _buildnode:function(node){\n                var df = jm.format.node_tree;\n                if(!(node instanceof jm.node)){return;}\n                var o = {\n                    id : node.id,\n                    topic : node.topic,\n                    expanded : node.expanded\n                };\n                if(!!node.parent && node.parent.isroot){\n                    o.direction = node.direction == jm.direction.left?'left':'right';\n                }\n                if(node.data != null){\n                    var node_data = node.data;\n                    for(var k in node_data){\n                        o[k] = node_data[k];\n                    }\n                }\n                var children = node.children;\n                if(children.length > 0){\n                    o.children = [];\n                    for(var i=0;i<children.length;i++){\n                        o.children.push(df._buildnode(children[i]));\n                    }\n                }\n                return o;\n            }\n        },\n\n        node_array:{\n            example:{\n                \"meta\":{\n                    \"name\":__name__,\n                    \"author\":__author__,\n                    \"version\":__version__\n                },\n                \"format\":\"node_array\",\n                \"data\":[\n                    {\"id\":\"root\",\"topic\":\"jsMind Example\", \"isroot\":true}\n                ]\n            },\n\n            get_mind:function(source){\n                var df = jm.format.node_array;\n                var mind = new jm.mind();\n                mind.name = source.meta.name;\n                mind.author = source.meta.author;\n                mind.version = source.meta.version;\n                df._parse(mind,source.data);\n                return mind;\n            },\n\n            get_data:function(mind){\n                var df = jm.format.node_array;\n                var json = {};\n                json.meta = {\n                    name : mind.name,\n                    author : mind.author,\n                    version : mind.version\n                };\n                json.format = 'node_array';\n                json.data = [];\n                df._array(mind,json.data);\n                return json;\n            },\n\n            _parse:function(mind, node_array){\n                var df = jm.format.node_array;\n                var narray = node_array.slice(0);\n                // reverse array for improving looping performance\n                narray.reverse();\n                var root_id = df._extract_root(mind, narray);\n                if(!!root_id){\n                    df._extract_subnode(mind, root_id, narray);\n                }else{\n                    logger.error('root node can not be found');\n                }\n            },\n\n            _extract_root:function(mind, node_array){\n                var df = jm.format.node_array;\n                var i = node_array.length;\n                while(i--){\n                    if('isroot' in node_array[i] && node_array[i].isroot){\n                        var root_json = node_array[i];\n                        var data = df._extract_data(root_json);\n                        mind.set_root(root_json.id,root_json.topic,data);\n                        node_array.splice(i,1);\n                        return root_json.id;\n                    }\n                }\n                return null;\n            },\n\n            _extract_subnode:function(mind, parentid, node_array){\n                var df = jm.format.node_array;\n                var i = node_array.length;\n                var node_json = null;\n                var data = null;\n                var extract_count = 0;\n                while(i--){\n                    node_json = node_array[i];\n                    if(node_json.parentid == parentid){\n                        data = df._extract_data(node_json);\n                        var d = null;\n                        var node_direction = node_json.direction;\n                        if(!!node_direction){\n                            d = node_direction == 'left'?jm.direction.left:jm.direction.right;\n                        }\n                        mind.add_node(parentid, node_json.id, node_json.topic, data, null, d, node_json.expanded);\n                        node_array.splice(i,1);\n                        extract_count ++;\n                        var sub_extract_count = df._extract_subnode(mind, node_json.id, node_array);\n                        if(sub_extract_count > 0){\n                            // reset loop index after extract subordinate node\n                            i = node_array.length;\n                            extract_count += sub_extract_count;\n                        }\n                    }\n                }\n                return extract_count;\n            },\n\n            _extract_data:function(node_json){\n                var data = {};\n                for(var k in node_json){\n                    if(k == 'id' || k=='topic' || k=='parentid' || k=='isroot' || k=='direction' || k=='expanded'){\n                        continue;\n                    }\n                    data[k] = node_json[k];\n                }\n                return data;\n            },\n\n            _array:function(mind, node_array){\n                var df = jm.format.node_array;\n                df._array_node(mind.root, node_array);\n            },\n\n            _array_node:function(node, node_array){\n                var df = jm.format.node_array;\n                if(!(node instanceof jm.node)){return;}\n                var o = {\n                    id : node.id,\n                    topic : node.topic,\n                    expanded : node.expanded\n                };\n                if(!!node.parent){\n                    o.parentid = node.parent.id;\n                }\n                if(node.isroot){\n                    o.isroot = true;\n                }\n                if(!!node.parent && node.parent.isroot){\n                    o.direction = node.direction == jm.direction.left?'left':'right';\n                }\n                if(node.data != null){\n                    var node_data = node.data;\n                    for(var k in node_data){\n                        o[k] = node_data[k];\n                    }\n                }\n                node_array.push(o);\n                var ci = node.children.length;\n                for(var i=0;i<ci;i++){\n                    df._array_node(node.children[i], node_array);\n                }\n            },\n        },\n\n        freemind:{\n            example:{\n                \"meta\":{\n                    \"name\":__name__,\n                    \"author\":__author__,\n                    \"version\":__version__\n                },\n                \"format\":\"freemind\",\n                \"data\":\"<map version=\\\"1.0.1\\\"><node ID=\\\"root\\\" TEXT=\\\"freemind Example\\\"/></map>\"\n            },\n            get_mind:function(source){\n                var df = jm.format.freemind;\n                var mind = new jm.mind();\n                mind.name = source.meta.name;\n                mind.author = source.meta.author;\n                mind.version = source.meta.version;\n                var xml = source.data;\n                var xml_doc = df._parse_xml(xml);\n                var xml_root = df._find_root(xml_doc);\n                df._load_node(mind, null, xml_root);\n                return mind;\n            },\n\n            get_data:function(mind){\n                var df = jm.format.freemind;\n                var json = {};\n                json.meta = {\n                    name : mind.name,\n                    author : mind.author,\n                    version : mind.version\n                };\n                json.format = 'freemind';\n                var xmllines = [];\n                xmllines.push('<map version=\\\"1.0.1\\\">');\n                df._buildmap(mind.root, xmllines);\n                xmllines.push('</map>');\n                json.data = xmllines.join(' ');\n                return json;\n            },\n\n            _parse_xml:function(xml){\n                var xml_doc = null;\n                if (window.DOMParser){\n                    var parser = new DOMParser();\n                    xml_doc = parser.parseFromString(xml,'text/xml');\n                }else{ // Internet Explorer\n                    xml_doc = new ActiveXObject('Microsoft.XMLDOM');\n                    xml_doc.async = false;\n                    xml_doc.loadXML(xml);\n                }\n                return xml_doc;\n            },\n\n            _find_root:function(xml_doc){\n                var nodes = xml_doc.childNodes;\n                var node = null;\n                var root = null;\n                var n = null;\n                for(var i=0;i<nodes.length;i++){\n                    n = nodes[i];\n                    if(n.nodeType == 1 && n.tagName == 'map'){\n                        node = n;\n                        break;\n                    }\n                }\n                if(!!node){\n                    var ns = node.childNodes;\n                    node = null;\n                    for(var i=0;i<ns.length;i++){\n                        n = ns[i];\n                        if(n.nodeType == 1 && n.tagName == 'node'){\n                            node = n;\n                            break;\n                        }\n                    }\n                }\n                return node;\n            },\n\n            _load_node:function(mind, parent_id, xml_node){\n                var df = jm.format.freemind;\n                var node_id = xml_node.getAttribute('ID');\n                var node_topic = xml_node.getAttribute('TEXT');\n                // look for richcontent\n                if(node_topic == null){\n                    var topic_children = xml_node.childNodes;\n                    var topic_child = null;\n                    for(var i=0;i<topic_children.length;i++){\n                        topic_child = topic_children[i];\n                        //logger.debug(topic_child.tagName);\n                        if(topic_child.nodeType == 1 && topic_child.tagName === 'richcontent'){\n                            node_topic = topic_child.textContent;\n                            break;\n                        }\n                    }\n                }\n                var node_data = df._load_attributes(xml_node);\n                var node_expanded = ('expanded' in node_data)?(node_data.expanded == 'true') : true;\n                delete node_data.expanded;\n\n                var node_position = xml_node.getAttribute('POSITION');\n                var node_direction = null;\n                if(!!node_position){\n                    node_direction = node_position=='left'?jm.direction.left:jm.direction.right;\n                }\n                //logger.debug(node_position +':'+ node_direction);\n                if(!!parent_id){\n                    mind.add_node(parent_id, node_id, node_topic, node_data, null, node_direction, node_expanded);\n                }else{\n                    mind.set_root(node_id, node_topic, node_data);\n                }\n                var children = xml_node.childNodes;\n                var child = null;\n                for(var i=0;i<children.length;i++){\n                    child = children[i];\n                    if(child.nodeType == 1 && child.tagName == 'node'){\n                        df._load_node(mind, node_id, child);\n                    }\n                }\n            },\n\n            _load_attributes:function(xml_node){\n                var children = xml_node.childNodes;\n                var attr = null;\n                var attr_data = {};\n                for(var i=0;i<children.length;i++){\n                    attr = children[i];\n                    if(attr.nodeType == 1 && attr.tagName === 'attribute'){\n                        attr_data[attr.getAttribute('NAME')] = attr.getAttribute('VALUE');\n                    }\n                }\n                return attr_data;\n            },\n\n            _buildmap:function(node, xmllines){\n                var df = jm.format.freemind;\n                var pos = null;\n                if(!!node.parent && node.parent.isroot){\n                    pos = node.direction === jm.direction.left?'left':'right';\n                }\n                xmllines.push('<node');\n                xmllines.push('ID=\\\"'+node.id+'\\\"');\n                if(!!pos){\n                    xmllines.push('POSITION=\\\"'+pos+'\\\"');\n                }\n                xmllines.push('TEXT=\\\"'+node.topic+'\\\">');\n\n                // store expanded status as an attribute\n                xmllines.push('<attribute NAME=\\\"expanded\\\" VALUE=\\\"'+node.expanded+'\\\"/>');\n\n                // for attributes\n                var node_data = node.data;\n                if(node_data != null){\n                    for(var k in node_data){\n                        xmllines.push('<attribute NAME=\\\"'+k+'\\\" VALUE=\\\"'+node_data[k]+'\\\"/>');\n                    }\n                }\n\n                // for children\n                var children = node.children;\n                for(var i=0;i<children.length;i++){\n                    df._buildmap(children[i], xmllines);\n                }\n\n                xmllines.push('</node>');\n            },\n        },\n    };\n\n    // ============= utility object =============================================\n\n    jm.util = {\n        is_node: function(node){\n            return !!node && node instanceof jm.node;\n        },\n        ajax:{\n            _xhr:function(){\n                var xhr = null;\n                if(window.XMLHttpRequest){\n                    xhr = new XMLHttpRequest();\n                }else{\n                    try{\n                        xhr = new ActiveXObject('Microsoft.XMLHTTP');\n                    }catch(e){}\n                }\n                return xhr;\n            },\n            _eurl:function(url){\n                return encodeURIComponent(url);\n            },\n            request:function(url,param,method,callback,fail_callback){\n                var a = jm.util.ajax;\n                var p = null;\n                var tmp_param = [];\n                for(var k in param){\n                    tmp_param.push(a._eurl(k)+'='+a._eurl(param[k]));\n                }\n                if(tmp_param.length>0){\n                    p = tmp_param.join('&');\n                }\n                var xhr = a._xhr();\n                if(!xhr){return;}\n                xhr.onreadystatechange = function(){\n                    if(xhr.readyState == 4){\n                        if(xhr.status == 200 || xhr.status == 0){\n                            if(typeof callback === 'function'){\n                                var data = jm.util.json.string2json(xhr.responseText);\n                                if(data != null){\n                                    callback(data);\n                                }else{\n                                    callback(xhr.responseText);\n                                }\n                            }\n                        }else{\n                            if(typeof fail_callback === 'function'){\n                                fail_callback(xhr);\n                            }else{\n                                logger.error('xhr request failed.',xhr);\n                            }\n                        }\n                    }\n                }\n                method = method || 'GET';\n                xhr.open(method,url,true);\n                xhr.setRequestHeader('If-Modified-Since','0');\n                if(method == 'POST'){\n                    xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded;charset=utf-8');\n                    xhr.send(p);\n                }else{\n                    xhr.send();\n                }\n            },\n            get:function(url,callback){\n                return jm.util.ajax.request(url,{},'GET',callback);\n            },\n            post:function(url,param,callback){\n                return jm.util.ajax.request(url,param,'POST',callback);\n            }\n        },\n\n        dom:{\n            //target,eventType,handler\n            add_event:function(t,e,h){\n                if(!!t.addEventListener){\n                    t.addEventListener(e,h,false);\n                }else{\n                    t.attachEvent('on'+e,h);\n                }\n            }\n        },\n\n        canvas:{\n            bezierto: function(ctx,x1,y1,x2,y2){\n                ctx.beginPath();\n                ctx.moveTo(x1,y1);\n                ctx.bezierCurveTo(x1+(x2-x1)*2/3,y1,x1,y2,x2,y2);\n                ctx.stroke();\n            },\n            lineto : function(ctx,x1,y1,x2,y2){\n                ctx.beginPath();\n                ctx.moveTo(x1,y1);\n                ctx.lineTo(x2,y2);\n                ctx.stroke();\n            },\n            clear:function(ctx,x,y,w,h){\n                ctx.clearRect(x,y,w,h);\n            }\n        },\n\n        file:{\n            read:function(file_data,fn_callback){\n                var reader = new FileReader();\n                reader.onload = function(){\n                    if(typeof fn_callback === 'function'){\n                        fn_callback(this.result, file_data.name);\n                    }\n                };\n                reader.readAsText(file_data);\n            },\n\n            save:function(file_data, type, name) {\n                var blob;\n                if (typeof $w.Blob === 'function') {\n                    blob = new Blob([file_data], {type: type});\n                } else {\n                    var BlobBuilder = $w.BlobBuilder || $w.MozBlobBuilder || $w.WebKitBlobBuilder || $w.MSBlobBuilder;\n                    var bb = new BlobBuilder();\n                    bb.append(file_data);\n                    blob = bb.getBlob(type);\n                }\n                if (navigator.msSaveBlob) {\n                    navigator.msSaveBlob(blob, name);\n                } else {\n                    var URL = $w.URL || $w.webkitURL;\n                    var bloburl = URL.createObjectURL(blob);\n                    var anchor = $c('a');\n                    if ('download' in anchor) {\n                        anchor.style.visibility = 'hidden';\n                        anchor.href = bloburl;\n                        anchor.download = name;\n                        $d.body.appendChild(anchor);\n                        var evt = $d.createEvent('MouseEvents');\n                        evt.initEvent('click', true, true);\n                        anchor.dispatchEvent(evt);\n                        $d.body.removeChild(anchor);\n                    } else {\n                        location.href = bloburl;\n                    }\n                }\n            }\n        },\n\n        json:{\n            json2string:function(json){\n                if(!!JSON){\n                    try{\n                        var json_str = JSON.stringify(json);\n                        return json_str;\n                    }catch(e){\n                        logger.warn(e);\n                        logger.warn('can not convert to string');\n                        return null;\n                    }\n                }\n            },\n            string2json:function(json_str){\n                if(!!JSON){\n                    try{\n                        var json = JSON.parse(json_str);\n                        return json;\n                    }catch(e){\n                        logger.warn(e);\n                        logger.warn('can not parse to json');\n                        return null;\n                    }\n                }\n            },\n            merge:function(b,a){\n                for(var o in a){\n                    if(o in b){\n                        if(typeof b[o] === 'object' &&\n                            Object.prototype.toString.call(b[o]).toLowerCase() == '[object object]' &&\n                            !b[o].length){\n                            jm.util.json.merge(b[o], a[o]);\n                        }else{\n                            b[o] = a[o];\n                        }\n                    }else{\n                        b[o] = a[o];\n                    }\n                }\n                return b;\n            }\n        },\n\n        uuid:{\n            newid:function(){\n                return (new Date().getTime().toString(16)+Math.random().toString(16).substr(2)).substr(2,16);\n            }\n        },\n\n        text:{\n            is_empty:function(s){\n                if(!s){return true;}\n                return s.replace(/\\s*/,'').length == 0;\n            }\n        }\n    };\n\n    jm.prototype={\n        init : function(){\n            if(this.inited){return;}\n            this.inited = true;\n\n            var opts = this.options;\n\n            var opts_layout = {\n                mode:opts.mode,\n                hspace:opts.layout.hspace,\n                vspace:opts.layout.vspace,\n                pspace:opts.layout.pspace\n            }\n            var opts_view = {\n                container:opts.container,\n                support_html:opts.support_html,\n                hmargin:opts.view.hmargin,\n                vmargin:opts.view.vmargin,\n                line_width:opts.view.line_width,\n                line_color:opts.view.line_color\n            };\n            // create instance of function provider\n            this.data = new jm.data_provider(this);\n            this.layout = new jm.layout_provider(this, opts_layout);\n            this.view = new jm.view_provider(this, opts_view);\n            this.shortcut = new jm.shortcut_provider(this, opts.shortcut);\n\n            this.data.init();\n            this.layout.init();\n            this.view.init();\n            this.shortcut.init();\n\n            this._event_bind();\n\n            jm.init_plugins(this);\n        },\n\n        enable_edit:function(){\n            this.options.editable = true;\n        },\n\n        disable_edit:function(){\n            this.options.editable = false;\n        },\n\n        // call enable_event_handle('dblclick')\n        // options are 'mousedown', 'click', 'dblclick'\n        enable_event_handle: function(event_handle){\n            this.options.default_event_handle['enable_'+event_handle+'_handle'] = true;\n        },\n\n        // call disable_event_handle('dblclick')\n        // options are 'mousedown', 'click', 'dblclick'\n        disable_event_handle: function(event_handle){\n            this.options.default_event_handle['enable_'+event_handle+'_handle'] = false;\n        },\n\n        get_editable:function(){\n            return this.options.editable;\n        },\n\n        set_theme:function(theme){\n            var theme_old = this.options.theme;\n            this.options.theme = (!!theme) ? theme : null;\n            if(theme_old != this.options.theme){\n                this.view.reset_theme();\n                this.view.reset_custom_style();\n            }\n        },\n        _event_bind:function(){\n            this.view.add_event(this,'mousedown',this.mousedown_handle);\n            this.view.add_event(this,'click',this.click_handle);\n            this.view.add_event(this,'dblclick',this.dblclick_handle);\n        },\n\n        mousedown_handle:function(e){\n            if (!this.options.default_event_handle['enable_mousedown_handle']) {\n                return;\n            }\n            var element = e.target || event.srcElement;\n            var nodeid = this.view.get_binded_nodeid(element);\n            if(!!nodeid){\n                this.select_node(nodeid);\n            }else{\n                this.select_clear();\n            }\n        },\n\n        click_handle:function(e){\n            if (!this.options.default_event_handle['enable_click_handle']) {\n                return;\n            }\n            var element = e.target || event.srcElement;\n            var isexpander = this.view.is_expander(element);\n            if(isexpander){\n                var nodeid = this.view.get_binded_nodeid(element);\n                if(!!nodeid){\n                    this.toggle_node(nodeid);\n                }\n            }\n        },\n\n        dblclick_handle:function(e){\n            if (!this.options.default_event_handle['enable_dblclick_handle']) {\n                return;\n            }\n            if(this.get_editable()){\n                var element = e.target || event.srcElement;\n                var nodeid = this.view.get_binded_nodeid(element);\n                if(!!nodeid){\n                    this.begin_edit(nodeid);\n                }\n            }\n        },\n\n        begin_edit:function(node){\n            if(!jm.util.is_node(node)){\n                var the_node = this.get_node(node);\n                if(!the_node){\n                    logger.error('the node[id='+node+'] can not be found.');\n                    return false;\n                }else{\n                    return this.begin_edit(the_node);\n                }\n            }\n            if(this.get_editable()){\n                this.view.edit_node_begin(node);\n            }else{\n                logger.error('fail, this mind map is not editable.');\n                return;\n            }\n        },\n\n        end_edit:function(){\n            this.view.edit_node_end();\n        },\n\n        toggle_node:function(node){\n            if(!jm.util.is_node(node)){\n                var the_node = this.get_node(node);\n                if(!the_node){\n                    logger.error('the node[id='+node+'] can not be found.');\n                    return;\n                }else{\n                    return this.toggle_node(the_node);\n                }\n            }\n            if(node.isroot){return;}\n            this.view.save_location(node);\n            this.layout.toggle_node(node);\n            this.view.relayout();\n            this.view.restore_location(node);\n        },\n\n        expand_node:function(node){\n            if(!jm.util.is_node(node)){\n                var the_node = this.get_node(node);\n                if(!the_node){\n                    logger.error('the node[id='+node+'] can not be found.');\n                    return;\n                }else{\n                    return this.expand_node(the_node);\n                }\n            }\n            if(node.isroot){return;}\n            this.view.save_location(node);\n            this.layout.expand_node(node);\n            this.view.relayout();\n            this.view.restore_location(node);\n        },\n\n        collapse_node:function(node){\n            if(!jm.util.is_node(node)){\n                var the_node = this.get_node(node);\n                if(!the_node){\n                    logger.error('the node[id='+node+'] can not be found.');\n                    return;\n                }else{\n                    return this.collapse_node(the_node);\n                }\n            }\n            if(node.isroot){return;}\n            this.view.save_location(node);\n            this.layout.collapse_node(node);\n            this.view.relayout();\n            this.view.restore_location(node);\n        },\n\n        expand_all:function(){\n            this.layout.expand_all();\n            this.view.relayout();\n        },\n\n        collapse_all:function(){\n            this.layout.collapse_all();\n            this.view.relayout();\n        },\n\n        expand_to_depth:function(depth){\n            this.layout.expand_to_depth(depth);\n            this.view.relayout();\n        },\n\n        _reset:function(){\n            this.view.reset();\n            this.layout.reset();\n            this.data.reset();\n        },\n\n        _show:function(mind){\n            var m = mind || jm.format.node_array.example;\n\n            this.mind = this.data.load(m);\n            if(!this.mind){\n                logger.error('data.load error');\n                return;\n            }else{\n                logger.debug('data.load ok');\n            }\n\n            this.view.load();\n            logger.debug('view.load ok');\n\n            this.layout.layout();\n            logger.debug('layout.layout ok');\n\n            this.view.show(true);\n            logger.debug('view.show ok');\n\n            this.invoke_event_handle(jm.event_type.show,{data:[mind]});\n        },\n\n        show : function(mind){\n            this._reset();\n            this._show(mind);\n        },\n\n        get_meta: function(){\n            return {\n                name : this.mind.name,\n                author : this.mind.author,\n                version : this.mind.version\n            };\n        },\n\n        get_data: function(data_format){\n            var df = data_format || 'node_tree';\n            return this.data.get_data(df);\n        },\n\n        get_root:function(){\n            return this.mind.root;\n        },\n\n        get_node:function(nodeid){\n            return this.mind.get_node(nodeid);\n        },\n\n        add_node:function(parent_node, nodeid, topic, data){\n            if(this.get_editable()){\n                var node = this.mind.add_node(parent_node, nodeid, topic, data);\n                if(!!node){\n                    this.view.add_node(node);\n                    this.layout.layout();\n                    this.view.show(false);\n                    this.view.reset_node_custom_style(node);\n                    this.expand_node(parent_node);\n                    this.invoke_event_handle(jm.event_type.edit,{evt:'add_node',data:[parent_node.id,nodeid,topic,data],node:nodeid});\n                }\n                return node;\n            }else{\n                logger.error('fail, this mind map is not editable');\n                return null;\n            }\n        },\n\n        insert_node_before:function(node_before, nodeid, topic, data){\n            if(this.get_editable()){\n                var beforeid = jm.util.is_node(node_before) ? node_before.id : node_before;\n                var node = this.mind.insert_node_before(node_before, nodeid, topic, data);\n                if(!!node){\n                    this.view.add_node(node);\n                    this.layout.layout();\n                    this.view.show(false);\n                    this.invoke_event_handle(jm.event_type.edit,{evt:'insert_node_before',data:[beforeid,nodeid,topic,data],node:nodeid});\n                }\n                return node;\n            }else{\n                logger.error('fail, this mind map is not editable');\n                return null;\n            }\n        },\n\n        insert_node_after:function(node_after, nodeid, topic, data){\n            if(this.get_editable()){\n                var afterid = jm.util.is_node(node_after) ? node_after.id : node_after;\n                var node = this.mind.insert_node_after(node_after, nodeid, topic, data);\n                if(!!node){\n                    this.view.add_node(node);\n                    this.layout.layout();\n                    this.view.show(false);\n                    this.invoke_event_handle(jm.event_type.edit,{evt:'insert_node_after',data:[afterid,nodeid,topic,data],node:nodeid});\n                }\n                return node;\n            }else{\n                logger.error('fail, this mind map is not editable');\n                return null;\n            }\n        },\n\n        remove_node:function(node){\n            if(!jm.util.is_node(node)){\n                var the_node = this.get_node(node);\n                if(!the_node){\n                    logger.error('the node[id='+node+'] can not be found.');\n                    return false;\n                }else{\n                    return this.remove_node(the_node);\n                }\n            }\n            if(this.get_editable()){\n                if(node.isroot){\n                    logger.error('fail, can not remove root node');\n                    return false;\n                }\n                var nodeid = node.id;\n                var parentid = node.parent.id;\n                var parent_node = this.get_node(parentid);\n                this.view.save_location(parent_node);\n                this.view.remove_node(node);\n                this.mind.remove_node(node);\n                this.layout.layout();\n                this.view.show(false);\n                this.view.restore_location(parent_node);\n                this.invoke_event_handle(jm.event_type.edit,{evt:'remove_node',data:[nodeid],node:parentid});\n                return true;\n            }else{\n                logger.error('fail, this mind map is not editable');\n                return false;\n            }\n        },\n\n        update_node:function(nodeid, topic){\n            if(this.get_editable()){\n                if(jm.util.text.is_empty(topic)){\n                    logger.warn('fail, topic can not be empty');\n                    return;\n                }\n                var node = this.get_node(nodeid);\n                if(!!node){\n                    if(node.topic === topic){\n                        logger.info('nothing changed');\n                        this.view.update_node(node);\n                        return;\n                    }\n                    node.topic = topic;\n                    this.view.update_node(node);\n                    this.layout.layout();\n                    this.view.show(false);\n                    this.invoke_event_handle(jm.event_type.edit,{evt:'update_node',data:[nodeid,topic],node:nodeid});\n                }\n            }else{\n                logger.error('fail, this mind map is not editable');\n                return;\n            }\n        },\n\n        move_node:function(nodeid, beforeid, parentid, direction){\n            if(this.get_editable()){\n                var node = this.mind.move_node(nodeid,beforeid,parentid,direction);\n                if(!!node){\n                    this.view.update_node(node);\n                    this.layout.layout();\n                    this.view.show(false);\n                    this.invoke_event_handle(jm.event_type.edit,{evt:'move_node',data:[nodeid,beforeid,parentid,direction],node:nodeid});\n                }\n            }else{\n                logger.error('fail, this mind map is not editable');\n                return;\n            }\n        },\n\n        select_node:function(node){\n            if(!jm.util.is_node(node)){\n                var the_node = this.get_node(node);\n                if(!the_node){\n                    logger.error('the node[id='+node+'] can not be found.');\n                    return;\n                }else{\n                    return this.select_node(the_node);\n                }\n            }\n            if(!this.layout.is_visible(node)){\n                return;\n            }\n            this.mind.selected = node;\n            this.view.select_node(node);\n        },\n\n        get_selected_node:function(){\n            if(!!this.mind){\n                return this.mind.selected;\n            }else{\n                return null;\n            }\n        },\n\n        select_clear:function(){\n            if(!!this.mind){\n                this.mind.selected = null;\n                this.view.select_clear();\n            }\n        },\n\n        is_node_visible:function(node){\n            return this.layout.is_visible(node);\n        },\n\n        find_node_before:function(node){\n            if(!jm.util.is_node(node)){\n                var the_node = this.get_node(node);\n                if(!the_node){\n                    logger.error('the node[id='+node+'] can not be found.');\n                    return;\n                }else{\n                    return this.find_node_before(the_node);\n                }\n            }\n            if(node.isroot){return null;}\n            var n = null;\n            if(node.parent.isroot){\n                var c = node.parent.children;\n                var prev = null;\n                var ni = null;\n                for(var i=0;i<c.length;i++){\n                    ni = c[i];\n                    if(node.direction === ni.direction){\n                        if(node.id === ni.id){\n                            n = prev;\n                        }\n                        prev = ni;\n                    }\n                }\n            }else{\n                n = this.mind.get_node_before(node);\n            }\n            return n;\n        },\n\n        find_node_after:function(node){\n            if(!jm.util.is_node(node)){\n                var the_node = this.get_node(node);\n                if(!the_node){\n                    logger.error('the node[id='+node+'] can not be found.');\n                    return;\n                }else{\n                    return this.find_node_after(the_node);\n                }\n            }\n            if(node.isroot){return null;}\n            var n = null;\n            if(node.parent.isroot){\n                var c = node.parent.children;\n                var getthis = false;\n                var ni = null;\n                for(var i=0;i<c.length;i++){\n                    ni = c[i];\n                    if(node.direction === ni.direction){\n                        if(getthis){\n                            n = ni;\n                            break;\n                        }\n                        if(node.id === ni.id){\n                            getthis = true;\n                        }\n                    }\n                }\n            }else{\n                n = this.mind.get_node_after(node);\n            }\n            return n;\n        },\n\n        set_node_color:function(nodeid, bgcolor, fgcolor){\n            if(this.get_editable()){\n                var node = this.mind.get_node(nodeid);\n                if(!!node){\n                    if(!!bgcolor){\n                        node.data['background-color'] = bgcolor;\n                    }\n                    if(!!fgcolor){\n                        node.data['foreground-color'] = fgcolor;\n                    }\n                    this.view.reset_node_custom_style(node);\n                }\n            }else{\n                logger.error('fail, this mind map is not editable');\n                return null;\n            }\n        },\n\n        set_node_font_style:function(nodeid, size, weight, style){\n            if(this.get_editable()){\n                var node = this.mind.get_node(nodeid);\n                if(!!node){\n                    if(!!size){\n                        node.data['font-size'] = size;\n                    }\n                    if(!!weight){\n                        node.data['font-weight'] = weight;\n                    }\n                    if(!!style){\n                        node.data['font-style'] = style;\n                    }\n                    this.view.reset_node_custom_style(node);\n                    this.view.update_node(node);\n                    this.layout.layout();\n                    this.view.show(false);\n                }\n            }else{\n                logger.error('fail, this mind map is not editable');\n                return null;\n            }\n        },\n\n        set_node_background_image:function(nodeid, image, width, height, rotation){\n            if(this.get_editable()){\n                var node = this.mind.get_node(nodeid);\n                if(!!node){\n                    if(!!image){\n                        node.data['background-image'] = image;\n                    }\n                    if(!!width){\n                        node.data['width'] = width;\n                    }\n                    if(!!height){\n                        node.data['height'] = height;\n                    }\n                    if(!!rotation){\n                        node.data['background-rotation'] = rotation;\n                    }\n                    this.view.reset_node_custom_style(node);\n                    this.view.update_node(node);\n                    this.layout.layout();\n                    this.view.show(false);\n                }\n            }else{\n                logger.error('fail, this mind map is not editable');\n                return null;\n            }\n        },\n\n        set_node_background_rotation:function(nodeid, rotation){\n            if(this.get_editable()){\n                var node = this.mind.get_node(nodeid);\n                if(!!node){\n                    if(!node.data['background-image']) {\n                        logger.error('fail, only can change rotation angle of node with background image');\n                        return null;\n                    }\n                    node.data['background-rotation'] = rotation;\n                    this.view.reset_node_custom_style(node);\n                    this.view.update_node(node);\n                    this.layout.layout();\n                    this.view.show(false);\n                }\n            }else{\n                logger.error('fail, this mind map is not editable');\n                return null;\n            }\n        },\n\n        resize:function(){\n            this.view.resize();\n        },\n\n        // callback(type ,data)\n        add_event_listener:function(callback){\n            if(typeof callback === 'function'){\n                this.event_handles.push(callback);\n            }\n        },\n\n        invoke_event_handle:function(type, data){\n            var j = this;\n            $w.setTimeout(function(){\n                j._invoke_event_handle(type,data);\n            },0);\n        },\n\n        _invoke_event_handle:function(type,data){\n            var l = this.event_handles.length;\n            for(var i=0;i<l;i++){\n                this.event_handles[i](type,data);\n            }\n        }\n\n    };\n\n// ============= data provider =============================================\n\n    jm.data_provider = function(jm){\n        this.jm = jm;\n    };\n\n    jm.data_provider.prototype={\n        init:function(){\n            logger.debug('data.init');\n        },\n\n        reset:function(){\n            logger.debug('data.reset');\n        },\n\n        load:function(mind_data){\n            var df = null;\n            var mind = null;\n            if(typeof mind_data === 'object'){\n                if(!!mind_data.format){\n                    df = mind_data.format;\n                }else{\n                    df = 'node_tree';\n                }\n            }else{\n                df = 'freemind';\n            }\n\n            if(df == 'node_array'){\n                mind = jm.format.node_array.get_mind(mind_data);\n            }else if(df == 'node_tree'){\n                mind = jm.format.node_tree.get_mind(mind_data);\n            }else if(df == 'freemind'){\n                mind = jm.format.freemind.get_mind(mind_data);\n            }else{\n                logger.warn('unsupported format');\n            }\n            return mind;\n        },\n\n        get_data:function(data_format){\n            var data = null;\n            if(data_format == 'node_array'){\n                data = jm.format.node_array.get_data(this.jm.mind);\n            }else if(data_format == 'node_tree'){\n                data = jm.format.node_tree.get_data(this.jm.mind);\n            }else if(data_format == 'freemind'){\n                data = jm.format.freemind.get_data(this.jm.mind);\n            }else{\n                logger.error('unsupported '+data_format+' format');\n            }\n            return data;\n        },\n    };\n\n    // ============= layout provider ===========================================\n\n    jm.layout_provider = function(jm, options){\n        this.opts = options;\n        this.jm = jm;\n        this.isside = (this.opts.mode == 'side');\n        this.bounds = null;\n\n        this.cache_valid = false;\n    };\n\n    jm.layout_provider.prototype={\n        init:function(){\n            logger.debug('layout.init');\n        },\n        reset:function(){\n            logger.debug('layout.reset');\n            this.bounds = {n:0,s:0,w:0,e:0};\n        },\n        layout:function(){\n            logger.debug('layout.layout');\n            this.layout_direction();\n            this.layout_offset();\n        },\n\n        layout_direction:function(){\n            this._layout_direction_root();\n        },\n\n        _layout_direction_root:function(){\n            var node = this.jm.mind.root;\n            // logger.debug(node);\n            var layout_data = null;\n            if('layout' in node._data){\n                layout_data = node._data.layout;\n            }else{\n                layout_data = {};\n                node._data.layout = layout_data;\n            }\n            var children = node.children;\n            var children_count = children.length;\n            layout_data.direction = jm.direction.center;\n            layout_data.side_index = 0;\n            if(this.isside){\n                var i = children_count;\n                while(i--){\n                    this._layout_direction_side(children[i], jm.direction.right, i);\n                }\n            }else{\n                var i = children_count;\n                var subnode = null;\n                while(i--){\n                    subnode = children[i];\n                    if(subnode.direction == jm.direction.left){\n                        this._layout_direction_side(subnode,jm.direction.left, i);\n                    }else{\n                        this._layout_direction_side(subnode,jm.direction.right, i);\n                    }\n                }\n                /*\n                var boundary = Math.ceil(children_count/2);\n                var i = children_count;\n                while(i--){\n                    if(i>=boundary){\n                        this._layout_direction_side(children[i],jm.direction.left, children_count-i-1);\n                    }else{\n                        this._layout_direction_side(children[i],jm.direction.right, i);\n                    }\n                }*/\n\n            }\n        },\n\n        _layout_direction_side:function(node, direction, side_index){\n            var layout_data = null;\n            if('layout' in node._data){\n                layout_data = node._data.layout;\n            }else{\n                layout_data = {};\n                node._data.layout = layout_data;\n            }\n            var children = node.children;\n            var children_count = children.length;\n\n            layout_data.direction = direction;\n            layout_data.side_index = side_index;\n            var i = children_count;\n            while(i--){\n                this._layout_direction_side(children[i], direction, i);\n            }\n        },\n\n        layout_offset:function(){\n            var node = this.jm.mind.root;\n            var layout_data = node._data.layout;\n            layout_data.offset_x = 0;\n            layout_data.offset_y = 0;\n            layout_data.outer_height = 0;\n            var children = node.children;\n            var i = children.length;\n            var left_nodes = [];\n            var right_nodes = [];\n            var subnode = null;\n            while(i--){\n                subnode = children[i];\n                if(subnode._data.layout.direction == jm.direction.right){\n                    right_nodes.unshift(subnode);\n                }else{\n                    left_nodes.unshift(subnode);\n                }\n            }\n            layout_data.left_nodes = left_nodes;\n            layout_data.right_nodes = right_nodes;\n            layout_data.outer_height_left = this._layout_offset_subnodes(left_nodes);\n            layout_data.outer_height_right = this._layout_offset_subnodes(right_nodes);\n            this.bounds.e=node._data.view.width/2;\n            this.bounds.w=0-this.bounds.e;\n            //logger.debug(this.bounds.w);\n            this.bounds.n=0;\n            this.bounds.s = Math.max(layout_data.outer_height_left,layout_data.outer_height_right);\n        },\n\n        // layout both the x and y axis\n        _layout_offset_subnodes:function(nodes){\n            var total_height = 0;\n            var nodes_count = nodes.length;\n            var i = nodes_count;\n            var node = null;\n            var node_outer_height = 0;\n            var layout_data = null;\n            var base_y = 0;\n            var pd = null; // parent._data\n            while(i--){\n                node = nodes[i];\n                layout_data = node._data.layout;\n                if(pd == null){\n                    pd = node.parent._data;\n                }\n\n                node_outer_height = this._layout_offset_subnodes(node.children);\n                if(!node.expanded){\n                    node_outer_height=0;\n                    this.set_visible(node.children,false);\n                }\n                node_outer_height = Math.max(node._data.view.height,node_outer_height);\n\n                layout_data.outer_height = node_outer_height;\n                layout_data.offset_y = base_y - node_outer_height/2;\n                layout_data.offset_x = this.opts.hspace * layout_data.direction + pd.view.width * (pd.layout.direction + layout_data.direction)/2;\n                if(!node.parent.isroot){\n                    layout_data.offset_x += this.opts.pspace * layout_data.direction;\n                }\n\n                base_y = base_y - node_outer_height - this.opts.vspace;\n                total_height += node_outer_height;\n            }\n            if(nodes_count>1){\n                total_height += this.opts.vspace * (nodes_count-1);\n            }\n            i = nodes_count;\n            var middle_height = total_height/2;\n            while(i--){\n                node = nodes[i];\n                node._data.layout.offset_y += middle_height;\n            }\n            return total_height;\n        },\n\n        // layout the y axis only, for collapse/expand a node\n        _layout_offset_subnodes_height:function(nodes){\n            var total_height = 0;\n            var nodes_count = nodes.length;\n            var i = nodes_count;\n            var node = null;\n            var node_outer_height = 0;\n            var layout_data = null;\n            var base_y = 0;\n            var pd = null; // parent._data\n            while(i--){\n                node = nodes[i];\n                layout_data = node._data.layout;\n                if(pd == null){\n                    pd = node.parent._data;\n                }\n\n                node_outer_height = this._layout_offset_subnodes_height(node.children);\n                if(!node.expanded){\n                    node_outer_height=0;\n                }\n                node_outer_height = Math.max(node._data.view.height,node_outer_height);\n\n                layout_data.outer_height = node_outer_height;\n                layout_data.offset_y = base_y - node_outer_height/2;\n                base_y = base_y - node_outer_height - this.opts.vspace;\n                total_height += node_outer_height;\n            }\n            if(nodes_count>1){\n                total_height += this.opts.vspace * (nodes_count-1);\n            }\n            i = nodes_count;\n            var middle_height = total_height/2;\n            while(i--){\n                node = nodes[i];\n                node._data.layout.offset_y += middle_height;\n                //logger.debug(node.topic);\n                //logger.debug(node._data.layout.offset_y);\n            }\n            return total_height;\n        },\n\n        get_node_offset:function(node){\n            var layout_data = node._data.layout;\n            var offset_cache = null;\n            if(('_offset_' in layout_data) && this.cache_valid){\n                offset_cache = layout_data._offset_;\n            }else{\n                offset_cache = {x:-1, y:-1};\n                layout_data._offset_ = offset_cache;\n            }\n            if(offset_cache.x == -1 || offset_cache.y == -1){\n                var x = layout_data.offset_x;\n                var y = layout_data.offset_y;\n                if(!node.isroot){\n                    var offset_p = this.get_node_offset(node.parent);\n                    x += offset_p.x;\n                    y += offset_p.y;\n                }\n                offset_cache.x = x;\n                offset_cache.y = y;\n            }\n            return offset_cache;\n        },\n\n        get_node_point:function(node){\n            var view_data = node._data.view;\n            var offset_p = this.get_node_offset(node);\n            //logger.debug(offset_p);\n            var p = {};\n            p.x = offset_p.x + view_data.width*(node._data.layout.direction-1)/2;\n            p.y = offset_p.y-view_data.height/2;\n            //logger.debug(p);\n            return p;\n        },\n\n        get_node_point_in:function(node){\n            var p = this.get_node_offset(node);\n            return p;\n        },\n\n        get_node_point_out:function(node){\n            var layout_data = node._data.layout;\n            var pout_cache = null;\n            if(('_pout_' in layout_data) && this.cache_valid){\n                pout_cache = layout_data._pout_;\n            }else{\n                pout_cache = {x:-1, y:-1};\n                layout_data._pout_ = pout_cache;\n            }\n            if(pout_cache.x == -1 || pout_cache.y == -1){\n                if(node.isroot){\n                    pout_cache.x = 0;\n                    pout_cache.y = 0;\n                }else{\n                    var view_data = node._data.view;\n                    var offset_p = this.get_node_offset(node);\n                    pout_cache.x = offset_p.x + (view_data.width+this.opts.pspace)*node._data.layout.direction;\n                    pout_cache.y = offset_p.y;\n                    //logger.debug('pout');\n                    //logger.debug(pout_cache);\n                }\n            }\n            return pout_cache;\n        },\n\n        get_expander_point:function(node){\n            var p = this.get_node_point_out(node);\n            var ex_p = {};\n            if(node._data.layout.direction == jm.direction.right){\n                ex_p.x = p.x - this.opts.pspace;\n            }else{\n                ex_p.x = p.x;\n            }\n            ex_p.y = p.y - Math.ceil(this.opts.pspace/2);\n            return ex_p;\n        },\n\n        get_min_size:function(){\n            var nodes = this.jm.mind.nodes;\n            var node = null;\n            var pout = null;\n            for(var nodeid in nodes){\n                node = nodes[nodeid];\n                pout = this.get_node_point_out(node);\n                //logger.debug(pout.x);\n                if(pout.x > this.bounds.e){this.bounds.e = pout.x;}\n                if(pout.x < this.bounds.w){this.bounds.w = pout.x;}\n            }\n            return {\n                w:this.bounds.e - this.bounds.w,\n                h:this.bounds.s - this.bounds.n\n            }\n        },\n\n        toggle_node:function(node){\n            if(node.isroot){\n                return;\n            }\n            if(node.expanded){\n                this.collapse_node(node);\n            }else{\n                this.expand_node(node);\n            }\n        },\n\n        expand_node:function(node){\n            node.expanded = true;\n            this.part_layout(node);\n            this.set_visible(node.children,true);\n        },\n\n        collapse_node:function(node){\n            node.expanded = false;\n            this.part_layout(node);\n            this.set_visible(node.children,false);\n        },\n\n        expand_all:function(){\n            var nodes = this.jm.mind.nodes;\n            var c = 0;\n            var node;\n            for(var nodeid in nodes){\n                node = nodes[nodeid];\n                if(!node.expanded){\n                    node.expanded = true;\n                    c++;\n                }\n            }\n            if(c>0){\n                var root = this.jm.mind.root;\n                this.part_layout(root);\n                this.set_visible(root.children,true);\n            }\n        },\n\n        collapse_all:function(){\n            var nodes = this.jm.mind.nodes;\n            var c = 0;\n            var node;\n            for(var nodeid in nodes){\n                node = nodes[nodeid];\n                if(node.expanded && !node.isroot){\n                    node.expanded = false\n                    c++;\n                }\n            }\n            if(c>0){\n                var root = this.jm.mind.root;\n                this.part_layout(root);\n                this.set_visible(root.children,true);\n            }\n        },\n\n        expand_to_depth:function(target_depth,curr_nodes,curr_depth){\n            if(target_depth < 1){return;}\n            var nodes = curr_nodes || this.jm.mind.root.children;\n            var depth = curr_depth || 1;\n            var i = nodes.length;\n            var node = null;\n            while(i--){\n                node = nodes[i];\n                if(depth < target_depth){\n                    if(!node.expanded){\n                        this.expand_node(node);\n                    }\n                    this.expand_to_depth(target_depth, node.children, depth+1);\n                }\n                if(depth == target_depth){\n                    if(node.expanded){\n                        this.collapse_node(node);\n                    }\n                }\n            }\n        },\n\n        part_layout:function(node){\n            var root = this.jm.mind.root;\n            if(!!root){\n                var root_layout_data = root._data.layout;\n                if(node.isroot){\n                    root_layout_data.outer_height_right=this._layout_offset_subnodes_height(root_layout_data.right_nodes);\n                    root_layout_data.outer_height_left=this._layout_offset_subnodes_height(root_layout_data.left_nodes);\n                }else{\n                    if(node._data.layout.direction == jm.direction.right){\n                        root_layout_data.outer_height_right=this._layout_offset_subnodes_height(root_layout_data.right_nodes);\n                    }else{\n                        root_layout_data.outer_height_left=this._layout_offset_subnodes_height(root_layout_data.left_nodes);\n                    }\n                }\n                this.bounds.s = Math.max(root_layout_data.outer_height_left,root_layout_data.outer_height_right);\n                this.cache_valid = false;\n            }else{\n                logger.warn('can not found root node');\n            }\n        },\n\n        set_visible:function(nodes,visible){\n            var i = nodes.length;\n            var node = null;\n            var layout_data = null;\n            while(i--){\n                node = nodes[i];\n                layout_data = node._data.layout;\n                if(node.expanded){\n                    this.set_visible(node.children,visible);\n                }else{\n                    this.set_visible(node.children,false);\n                }\n                if(!node.isroot){\n                    node._data.layout.visible = visible;\n                }\n            }\n        },\n\n        is_expand:function(node){\n            return node.expanded;\n        },\n\n        is_visible:function(node){\n            var layout_data = node._data.layout;\n            if(('visible' in layout_data) && !layout_data.visible){\n                return false;\n            }else{\n                return true;\n            }\n        },\n    };\n\n    // view provider\n    jm.view_provider= function(jm, options){\n        this.opts = options;\n        this.jm = jm;\n        this.layout = jm.layout;\n\n        this.container = null;\n        this.e_panel = null;\n        this.e_nodes= null;\n        this.e_canvas = null;\n\n        this.canvas_ctx = null;\n        this.size = {w:0,h:0};\n\n        this.selected_node = null;\n        this.editing_node = null;\n    };\n\n    jm.view_provider.prototype={\n        init:function(){\n            logger.debug('view.init');\n\n            this.container = $i(this.opts.container) ? this.opts.container : $g(this.opts.container);\n            if(!this.container){\n                logger.error('the options.view.container was not be found in dom');\n                return;\n            }\n            this.e_panel = $c('div');\n            this.e_canvas = $c('canvas');\n            this.e_nodes = $c('jmnodes');\n            this.e_editor = $c('input');\n\n            this.e_panel.className = 'jsmind-inner';\n            this.e_panel.appendChild(this.e_canvas);\n            this.e_panel.appendChild(this.e_nodes);\n\n            this.e_editor.className = 'jsmind-editor';\n            this.e_editor.type = 'text';\n\n            this.actualZoom = 1;\n            this.zoomStep = 0.1;\n            this.minZoom = 0.5;\n            this.maxZoom = 2;\n\n            var v = this;\n            jm.util.dom.add_event(this.e_editor,'keydown',function(e){\n                var evt = e || event;\n                if(evt.keyCode == 13){v.edit_node_end();evt.stopPropagation();}\n            });\n            jm.util.dom.add_event(this.e_editor,'blur',function(e){\n                v.edit_node_end();\n            });\n\n            this.container.appendChild(this.e_panel);\n\n            this.init_canvas();\n        },\n\n        add_event:function(obj,event_name,event_handle){\n            jm.util.dom.add_event(this.e_nodes,event_name,function(e){\n                var evt = e || event;\n                event_handle.call(obj,evt);\n            });\n        },\n\n        get_binded_nodeid:function(element){\n            if(element == null){\n                return null;\n            }\n            var tagName = element.tagName.toLowerCase();\n            if(tagName == 'jmnodes' || tagName == 'body' || tagName == 'html'){\n                return null;\n            }\n            if(tagName == 'jmnode' || tagName == 'jmexpander'){\n                return element.getAttribute('nodeid');\n            }else{\n                return this.get_binded_nodeid(element.parentElement);\n            }\n        },\n\n        is_expander:function(element){\n            return (element.tagName.toLowerCase() == 'jmexpander');\n        },\n\n        reset:function(){\n            logger.debug('view.reset');\n            this.selected_node = null;\n            this.clear_lines();\n            this.clear_nodes();\n            this.reset_theme();\n        },\n\n        reset_theme:function(){\n            var theme_name = this.jm.options.theme;\n            if(!!theme_name){\n                this.e_nodes.className = 'theme-' + theme_name;\n            }else{\n                this.e_nodes.className = '';\n            }\n        },\n\n        reset_custom_style:function(){\n            var nodes = this.jm.mind.nodes;\n            for(var nodeid in nodes){\n                this.reset_node_custom_style(nodes[nodeid]);\n            }\n        },\n\n        load:function(){\n            logger.debug('view.load');\n            this.init_nodes();\n        },\n\n        expand_size:function(){\n            var min_size = this.layout.get_min_size();\n            var min_width = min_size.w + this.opts.hmargin*2;\n            var min_height = min_size.h + this.opts.vmargin*2;\n            var client_w = this.e_panel.clientWidth;\n            var client_h = this.e_panel.clientHeight;\n            if(client_w < min_width){client_w = min_width;}\n            if(client_h < min_height){client_h = min_height;}\n            this.size.w = client_w;\n            this.size.h = client_h;\n        },\n\n        init_canvas:function(){\n            var ctx = this.e_canvas.getContext('2d');\n            this.canvas_ctx = ctx;\n        },\n\n        init_nodes_size:function(node){\n            var view_data = node._data.view;\n            view_data.width = view_data.element.clientWidth;\n            view_data.height = view_data.element.clientHeight;\n        },\n\n        init_nodes:function(){\n            var nodes = this.jm.mind.nodes;\n            var doc_frag = $d.createDocumentFragment();\n            for(var nodeid in nodes){\n                this.create_node_element(nodes[nodeid],doc_frag);\n            }\n            this.e_nodes.appendChild(doc_frag);\n            for(var nodeid in nodes){\n                this.init_nodes_size(nodes[nodeid]);\n            }\n        },\n\n        add_node:function(node){\n            this.create_node_element(node,this.e_nodes);\n            this.init_nodes_size(node);\n        },\n\n        create_node_element:function(node,parent_node){\n            var view_data = null;\n            if('view' in node._data){\n                view_data = node._data.view;\n            }else{\n                view_data = {};\n                node._data.view = view_data;\n            }\n\n            var d = $c('jmnode');\n            if(node.isroot){\n                d.className = 'root';\n            }else{\n                var d_e = $c('jmexpander');\n                $t(d_e,'-');\n                d_e.setAttribute('nodeid',node.id);\n                d_e.style.visibility = 'hidden';\n                parent_node.appendChild(d_e);\n                view_data.expander = d_e;\n            }\n            if (!!node.topic) {\n                if(this.opts.support_html){\n                    $h(d,node.topic);\n                }else{\n                    $t(d,node.topic);\n                }\n            }\n            d.setAttribute('nodeid',node.id);\n            d.style.visibility='hidden';\n            this._reset_node_custom_style(d, node.data);\n\n            parent_node.appendChild(d);\n            view_data.element = d;\n        },\n\n        remove_node:function(node){\n            if(this.selected_node != null && this.selected_node.id == node.id){\n                this.selected_node = null;\n            }\n            if(this.editing_node != null && this.editing_node.id == node.id){\n                node._data.view.element.removeChild(this.e_editor);\n                this.editing_node = null;\n            }\n            var children = node.children;\n            var i = children.length;\n            while(i--){\n                this.remove_node(children[i]);\n            }\n            if(node._data.view){\n                var element = node._data.view.element;\n                var expander = node._data.view.expander;\n                this.e_nodes.removeChild(element);\n                this.e_nodes.removeChild(expander);\n                node._data.view.element = null;\n                node._data.view.expander = null;\n            }\n        },\n\n        update_node:function(node){\n            var view_data = node._data.view;\n            var element = view_data.element;\n            if (!!node.topic) {\n                if(this.opts.support_html){\n                    $h(element,node.topic);\n                }else{\n                    $t(element,node.topic);\n                }\n            }\n            view_data.width = element.clientWidth;\n            view_data.height = element.clientHeight;\n        },\n\n        select_node:function(node){\n            if(!!this.selected_node){\n                this.selected_node._data.view.element.className =\n                this.selected_node._data.view.element.className.replace(/\\s*selected\\b/i,'');\n                this.reset_node_custom_style(this.selected_node);\n            }\n            if(!!node){\n                this.selected_node = node;\n                node._data.view.element.className += ' selected';\n                this.clear_node_custom_style(node);\n            }\n        },\n\n        select_clear:function(){\n            this.select_node(null);\n        },\n\n        get_editing_node:function(){\n            return this.editing_node;\n        },\n\n        is_editing:function(){\n            return (!!this.editing_node);\n        },\n\n        edit_node_begin:function(node){\n            if(!node.topic) {\n                logger.warn(\"don't edit image nodes\");\n                return;\n            }\n            if(this.editing_node != null){\n                this.edit_node_end();\n            }\n            this.editing_node = node;\n            var view_data = node._data.view;\n            var element = view_data.element;\n            var topic = node.topic;\n            var ncs = getComputedStyle(element);\n            this.e_editor.value = topic;\n            this.e_editor.style.width = (element.clientWidth-parseInt(ncs.getPropertyValue('padding-left'))-parseInt(ncs.getPropertyValue('padding-right')))+'px';\n            element.innerHTML = '';\n            element.appendChild(this.e_editor);\n            element.style.zIndex = 5;\n            this.e_editor.focus();\n            this.e_editor.select();\n        },\n\n        edit_node_end:function(){\n            if(this.editing_node != null){\n                var node = this.editing_node;\n                this.editing_node = null;\n                var view_data = node._data.view;\n                var element = view_data.element;\n                var topic = this.e_editor.value;\n                element.style.zIndex = 'auto';\n                element.removeChild(this.e_editor);\n                if(jm.util.text.is_empty(topic) || node.topic === topic){\n                    if(this.opts.support_html){\n                        $h(element,node.topic);\n                    }else{\n                        $t(element,node.topic);\n                    }\n                }else{\n                    this.jm.update_node(node.id,topic);\n                }\n            }\n        },\n\n        get_view_offset:function(){\n            var bounds = this.layout.bounds;\n            var _x = (this.size.w - bounds.e - bounds.w)/2;\n            var _y = this.size.h / 2;\n            return{x:_x, y:_y};\n        },\n\n        resize:function(){\n            this.e_canvas.width = 1;\n            this.e_canvas.height = 1;\n            this.e_nodes.style.width = '1px';\n            this.e_nodes.style.height = '1px';\n\n            this.expand_size();\n            this._show();\n        },\n\n        _show:function(){\n            this.e_canvas.width = this.size.w;\n            this.e_canvas.height = this.size.h;\n            this.e_nodes.style.width = this.size.w+'px';\n            this.e_nodes.style.height = this.size.h+'px';\n            this.show_nodes();\n            this.show_lines();\n            //this.layout.cache_valid = true;\n            this.jm.invoke_event_handle(jm.event_type.resize,{data:[]});\n        },\n\n        zoomIn: function() {\n            return this.setZoom(this.actualZoom + this.zoomStep);\n        },\n\n        zoomOut: function() {\n            return this.setZoom(this.actualZoom - this.zoomStep);\n        },\n\n        setZoom: function(zoom) {\n            if ((zoom < this.minZoom) || (zoom > this.maxZoom)) {\n                return false;\n            }\n            this.actualZoom = zoom;\n            for (var i=0; i < this.e_panel.children.length; i++) {\n                this.e_panel.children[i].style.transform = 'scale(' + zoom + ')';\n            };\n            this.show(true);\n            return true;\n\n        },\n\n        _center_root:function(){\n            // center root node\n            var outer_w = this.e_panel.clientWidth;\n            var outer_h = this.e_panel.clientHeight;\n            if(this.size.w > outer_w){\n                var _offset = this.get_view_offset();\n                this.e_panel.scrollLeft = _offset.x - outer_w/2;\n            }\n            if(this.size.h > outer_h){\n                this.e_panel.scrollTop = (this.size.h - outer_h)/2;\n            }\n        },\n\n        show:function(keep_center){\n            logger.debug('view.show');\n            this.expand_size();\n            this._show();\n            if(!!keep_center){\n                this._center_root();\n            }\n        },\n\n        relayout:function(){\n            this.expand_size();\n            this._show();\n        },\n\n        save_location:function(node){\n            var vd = node._data.view;\n            vd._saved_location={\n                x:parseInt(vd.element.style.left)-this.e_panel.scrollLeft,\n                y:parseInt(vd.element.style.top)-this.e_panel.scrollTop,\n            };\n        },\n\n        restore_location:function(node){\n            var vd = node._data.view;\n            this.e_panel.scrollLeft = parseInt(vd.element.style.left)-vd._saved_location.x;\n            this.e_panel.scrollTop = parseInt(vd.element.style.top)-vd._saved_location.y;\n        },\n\n        clear_nodes:function(){\n            var mind = this.jm.mind;\n            if(mind == null){\n                return;\n            }\n            var nodes = mind.nodes;\n            var node = null;\n            for(var nodeid in nodes){\n                node = nodes[nodeid];\n                node._data.view.element = null;\n                node._data.view.expander = null;\n            }\n            this.e_nodes.innerHTML = '';\n        },\n\n        show_nodes:function(){\n            var nodes = this.jm.mind.nodes;\n            var node = null;\n            var node_element = null;\n            var expander = null;\n            var p = null;\n            var p_expander= null;\n            var expander_text = '-';\n            var view_data = null;\n            var _offset = this.get_view_offset();\n            for(var nodeid in nodes){\n                node = nodes[nodeid];\n                view_data = node._data.view;\n                node_element = view_data.element;\n                expander = view_data.expander;\n                if(!this.layout.is_visible(node)){\n                    node_element.style.display = 'none';\n                    expander.style.display = 'none';\n                    continue;\n                }\n                this.reset_node_custom_style(node);\n                p = this.layout.get_node_point(node);\n                view_data.abs_x = _offset.x + p.x;\n                view_data.abs_y = _offset.y + p.y;\n                node_element.style.left = (_offset.x+p.x) + 'px';\n                node_element.style.top = (_offset.y+p.y) + 'px';\n                node_element.style.display = '';\n                node_element.style.visibility = 'visible';\n                if(!node.isroot && node.children.length>0){\n                    expander_text = node.expanded?'-':'+';\n                    p_expander= this.layout.get_expander_point(node);\n                    expander.style.left = (_offset.x + p_expander.x) + 'px';\n                    expander.style.top = (_offset.y + p_expander.y) + 'px';\n                    expander.style.display = '';\n                    expander.style.visibility = 'visible';\n                    $t(expander,expander_text);\n                }\n                // hide expander while all children have been removed\n                if(!node.isroot && node.children.length==0){\n                    expander.style.display = 'none';\n                    expander.style.visibility = 'hidden';\n                }\n            }\n        },\n\n        reset_node_custom_style:function(node){\n            this._reset_node_custom_style(node._data.view.element, node.data);\n        },\n\n        _reset_node_custom_style:function(node_element, node_data){\n            if('background-color' in node_data){\n                node_element.style.backgroundColor = node_data['background-color'];\n            }\n            if('foreground-color' in node_data){\n                node_element.style.color = node_data['foreground-color'];\n            }\n            if('width' in node_data){\n                node_element.style.width = node_data['width']+'px';\n            }\n            if('height' in node_data){\n                node_element.style.height = node_data['height']+'px';\n            }\n            if('font-size' in node_data){\n                node_element.style.fontSize = node_data['font-size']+'px';\n            }\n            if('font-weight' in node_data){\n                node_element.style.fontWeight = node_data['font-weight'];\n            }\n            if('font-style' in node_data){\n                node_element.style.fontStyle = node_data['font-style'];\n            }\n            if('background-image' in node_data) {\n                var backgroundImage = node_data['background-image'];\n                if (backgroundImage.startsWith('data') && node_data['width'] && node_data['height']) {\n                    var img = new Image();\n\n                    img.onload = function() {\n                        var c = $c('canvas');\n                        c.width = node_element.clientWidth;\n                        c.height = node_element.clientHeight;\n                        var img = this;\n                        if(c.getContext) {\n                            var ctx = c.getContext('2d');\n                            ctx.drawImage(img, 2, 2, node_element.clientWidth, node_element.clientHeight);\n                            var scaledImageData = c.toDataURL();\n                            node_element.style.backgroundImage='url('+scaledImageData+')';\n                        }\n                    };\n                    img.src = backgroundImage;\n\n                } else {\n                    node_element.style.backgroundImage='url('+backgroundImage+')';\n                }\n                node_element.style.backgroundSize='99%';\n\n                if('background-rotation' in node_data){\n                    node_element.style.transform = 'rotate(' + node_data['background-rotation'] + 'deg)';\n                }\n\n            }\n        },\n\n        clear_node_custom_style:function(node){\n            var node_element = node._data.view.element;\n            node_element.style.backgroundColor = \"\";\n            node_element.style.color = \"\";\n        },\n\n        clear_lines:function(canvas_ctx){\n            var ctx = canvas_ctx || this.canvas_ctx;\n            jm.util.canvas.clear(ctx,0,0,this.size.w,this.size.h);\n        },\n\n        show_lines:function(canvas_ctx){\n            this.clear_lines(canvas_ctx);\n            var nodes = this.jm.mind.nodes;\n            var node = null;\n            var pin = null;\n            var pout = null;\n            var _offset = this.get_view_offset();\n            for(var nodeid in nodes){\n                node = nodes[nodeid];\n                if(!!node.isroot){continue;}\n                if(('visible' in node._data.layout) && !node._data.layout.visible){continue;}\n                pin = this.layout.get_node_point_in(node);\n                pout = this.layout.get_node_point_out(node.parent);\n                this.draw_line(pout,pin,_offset,canvas_ctx);\n            }\n        },\n\n        draw_line:function(pin,pout,offset,canvas_ctx){\n            var ctx = canvas_ctx || this.canvas_ctx;\n            ctx.strokeStyle = this.opts.line_color;\n            ctx.lineWidth = this.opts.line_width;\n            ctx.lineCap = 'round';\n\n            jm.util.canvas.bezierto(\n                ctx,\n                pin.x + offset.x,\n                pin.y + offset.y,\n                pout.x + offset.x,\n                pout.y + offset.y);\n        },\n    };\n\n    // shortcut provider\n    jm.shortcut_provider= function(jm, options){\n        this.jm = jm;\n        this.opts = options;\n        this.mapping = options.mapping;\n        this.handles = options.handles;\n        this._mapping = {};\n    };\n\n    jm.shortcut_provider.prototype = {\n        init : function(){\n            jm.util.dom.add_event($d,'keydown',this.handler.bind(this));\n\n            this.handles['addchild'] = this.handle_addchild;\n            this.handles['addbrother'] = this.handle_addbrother;\n            this.handles['editnode'] = this.handle_editnode;\n            this.handles['delnode'] = this.handle_delnode;\n            this.handles['toggle'] = this.handle_toggle;\n            this.handles['up'] = this.handle_up;\n            this.handles['down'] = this.handle_down;\n            this.handles['left'] = this.handle_left;\n            this.handles['right'] = this.handle_right;\n\n            for(var handle in this.mapping){\n                if(!!this.mapping[handle] && (handle in this.handles)){\n                    this._mapping[this.mapping[handle]] = this.handles[handle];\n                }\n            }\n        },\n\n        enable_shortcut : function(){\n            this.opts.enable = true;\n        },\n\n        disable_shortcut : function(){\n            this.opts.enable = false;\n        },\n\n        handler : function(e){\n            if(this.jm.view.is_editing()){return;}\n            var evt = e || event;\n            if(!this.opts.enable){return true;}\n            var kc = evt.keyCode;\n            if(kc in this._mapping){\n                this._mapping[kc].call(this,this.jm,e);\n            }\n        },\n\n        handle_addchild: function(_jm,e){\n            var selected_node = _jm.get_selected_node();\n            if(!!selected_node){\n                var nodeid = jm.util.uuid.newid();\n                var node = _jm.add_node(selected_node, nodeid, 'New Node');\n                if(!!node){\n                    _jm.select_node(nodeid);\n                    _jm.begin_edit(nodeid);\n                }\n            }\n        },\n        handle_addbrother:function(_jm,e){\n            var selected_node = _jm.get_selected_node();\n            if(!!selected_node && !selected_node.isroot){\n                var nodeid = jm.util.uuid.newid();\n                var node = _jm.insert_node_after(selected_node, nodeid, 'New Node');\n                if(!!node){\n                    _jm.select_node(nodeid);\n                    _jm.begin_edit(nodeid);\n                }\n            }\n        },\n        handle_editnode:function(_jm,e){\n            var selected_node = _jm.get_selected_node();\n            if(!!selected_node){\n                _jm.begin_edit(selected_node);\n            }\n        },\n        handle_delnode:function(_jm,e){\n            var selected_node = _jm.get_selected_node();\n            if(!!selected_node && !selected_node.isroot){\n                _jm.select_node(selected_node.parent);\n                _jm.remove_node(selected_node);\n            }\n        },\n        handle_toggle:function(_jm,e){\n            var evt = e || event;\n            var selected_node = _jm.get_selected_node();\n            if(!!selected_node){\n                _jm.toggle_node(selected_node.id);\n                evt.stopPropagation();\n                evt.preventDefault();\n            }\n        },\n        handle_up:function(_jm,e){\n            var evt = e || event;\n            var selected_node = _jm.get_selected_node();\n            if(!!selected_node){\n                var up_node = _jm.find_node_before(selected_node);\n                if(!up_node){\n                    var np = _jm.find_node_before(selected_node.parent);\n                    if(!!np && np.children.length > 0){\n                        up_node = np.children[np.children.length-1];\n                    }\n                }\n                if(!!up_node){\n                    _jm.select_node(up_node);\n                }\n                evt.stopPropagation();\n                evt.preventDefault();\n            }\n        },\n\n        handle_down:function(_jm,e){\n            var evt = e || event;\n            var selected_node = _jm.get_selected_node();\n            if(!!selected_node){\n                var down_node = _jm.find_node_after(selected_node);\n                if(!down_node){\n                    var np = _jm.find_node_after(selected_node.parent);\n                    if(!!np && np.children.length > 0){\n                        down_node = np.children[0];\n                    }\n                }\n                if(!!down_node){\n                    _jm.select_node(down_node);\n                }\n                evt.stopPropagation();\n                evt.preventDefault();\n            }\n        },\n\n        handle_left:function(_jm,e){\n            this._handle_direction(_jm,e,jm.direction.left);\n        },\n        handle_right:function(_jm,e){\n            this._handle_direction(_jm,e,jm.direction.right);\n        },\n        _handle_direction:function(_jm,e,d){\n            var evt = e || event;\n            var selected_node = _jm.get_selected_node();\n            var node = null;\n            if(!!selected_node){\n                if(selected_node.isroot){\n                    var c = selected_node.children;\n                    var children = [];\n                    for(var i=0;i<c.length;i++){\n                        if(c[i].direction === d){\n                            children.push(i)\n                        }\n                    }\n                    node = c[children[Math.floor((children.length-1)/2)]];\n                }\n                else if(selected_node.direction === d){\n                    var children = selected_node.children;\n                    var childrencount = children.length;\n                    if(childrencount > 0){\n                        node = children[Math.floor((childrencount-1)/2)]\n                    }\n                }else{\n                    node = selected_node.parent;\n                }\n                if(!!node){\n                    _jm.select_node(node);\n                }\n                evt.stopPropagation();\n                evt.preventDefault();\n            }\n        },\n    };\n\n\n    // plugin\n    jm.plugin = function(name,init){\n        this.name = name;\n        this.init = init;\n    };\n\n    jm.plugins = [];\n\n    jm.register_plugin = function(plugin){\n        if(plugin instanceof jm.plugin){\n            jm.plugins.push(plugin);\n        }\n    };\n\n    jm.init_plugins = function(sender){\n        $w.setTimeout(function(){\n            jm._init_plugins(sender);\n        },0);\n    };\n\n    jm._init_plugins = function(sender){\n        var l = jm.plugins.length;\n        var fn_init = null;\n        for(var i=0;i<l;i++){\n            fn_init = jm.plugins[i].init;\n            if(typeof fn_init === 'function'){\n                fn_init(sender);\n            }\n        }\n    };\n\n    // quick way\n    jm.show = function(options,mind){\n        var _jm = new jm(options);\n        _jm.show(mind);\n        return _jm;\n    };\n\n    // export jsmind\n    if (typeof module !== 'undefined' && typeof exports === 'object') {\n        module.exports = jm;\n        $w[__name__] = jm;\n    } else if (typeof define === 'function' && (define.amd || define.cmd)) {\n        define(function() { return jm; });\n    } else {\n        $w[__name__] = jm;\n    }\n})(typeof window !== 'undefined' ? window : global);\n\n","/*\n * Released under BSD License\n * Copyright (c) 2014-2015 hizzgdev@163.com\n * \n * Project Home:\n *   https://github.com/hizzgdev/jsmind/\n */\n\n(function($w){\n    'use strict';\n\n    var __name__ = 'jsMind';\n    var jsMind = $w[__name__];\n    if(!jsMind){return;}\n    if(typeof jsMind.screenshot != 'undefined'){return;}\n\n    var $d = $w.document;\n    var $c = function(tag){return $d.createElement(tag);};\n\n    var css = function(cstyle,property_name){\n        return cstyle.getPropertyValue(property_name);\n    };\n    var is_visible = function(cstyle){\n        var visibility = css(cstyle,'visibility');\n        var display  = css(cstyle,'display');\n        return (visibility !== 'hidden' && display !== 'none');\n    };\n    var jcanvas = jsMind.util.canvas;\n    jcanvas.rect = function (ctx,x,y,w,h,r) {\n        if (w < 2 * r) r = w / 2;\n        if (h < 2 * r) r = h / 2;\n        ctx.moveTo(x+r, y);\n        ctx.arcTo(x+w, y,   x+w, y+h, r);\n        ctx.arcTo(x+w, y+h, x,   y+h, r);\n        ctx.arcTo(x,   y+h, x,   y,   r);\n        ctx.arcTo(x,   y,   x+w, y,   r);\n    };\n\n    jcanvas.text_multiline = function(ctx,text,x,y,w,h,lineheight){\n        var line = '';\n        var text_len = text.length;\n        var chars = text.split('');\n        var test_line = null;\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'top';\n        for(var i=0;i<text_len;i++){\n            test_line = line + chars[i];\n            if(ctx.measureText(test_line).width > w && i>0){\n                ctx.fillText(line,x,y);\n                line = chars[i];\n                y += lineheight;\n            }else{\n                line = test_line;\n            }\n        }\n        ctx.fillText(line,x,y);\n    };\n\n    jcanvas.text_ellipsis = function(ctx,text,x,y,w,h){\n        var center_y = y+h/2;\n        var text = jcanvas.fittingString(ctx,text,w);\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n        ctx.fillText(text,x,center_y,w);\n    };\n\n    jcanvas.fittingString = function(ctx,text,max_width) {\n        var width = ctx.measureText(text).width;\n        var ellipsis = ''\n        var ellipsis_width = ctx.measureText(ellipsis).width;\n        if (width<=max_width || width<=ellipsis_width) {\n            return text;\n        } else {\n            var len = text.length;\n            while (width>=max_width-ellipsis_width && len-->0) {\n                text = text.substring(0, len);\n                width = ctx.measureText(text).width;\n            }\n            return text+ellipsis;\n        }\n    };\n\n    jcanvas.image = function(ctx,backgroundUrl,x,y,w,h,r,rotation,callback){\n        var img = new Image();\n        img.onload = function () {\n            ctx.save();\n            ctx.translate(x,y);\n            ctx.save();\n            ctx.beginPath();\n            jcanvas.rect(ctx,0,0,w,h,r);\n            ctx.closePath();\n            ctx.clip();\n            ctx.translate(w/2,h/2);\n            ctx.rotate(rotation*Math.PI/180);\n            ctx.drawImage(img,-w/2,-h/2);\n            ctx.restore();\n            ctx.restore();\n            callback();\n        }\n        img.src = backgroundUrl;\n    };\n\n    jsMind.screenshot = function(jm){\n        this.jm = jm;\n        this.canvas_elem = null;\n        this.canvas_ctx = null;\n        this._inited = false;\n    };\n\n    jsMind.screenshot.prototype = {\n        init:function(){\n            if(this._inited){return;}\n            console.log('init');\n            var c = $c('canvas');\n            var ctx = c.getContext('2d');\n\n            this.canvas_elem = c;\n            this.canvas_ctx = ctx;\n            this.jm.view.e_panel.appendChild(c);\n            this._inited = true;\n            this.resize();\n        },\n\n        shoot:function(callback){\n            this.init();\n            this._watermark();\n            var jms = this;\n            this._draw(function(){\n                if(!!callback){\n                    callback(jms);\n                }\n                jms.clean();\n            });\n        },\n\n        shootDownload: function(){\n            this.shoot(function(jms){\n                jms._download();\n            });\n        },\n\n        shootAsDataURL: function(callback){\n            this.shoot(function(jms){\n                callback(jms.canvas_elem.toDataURL());\n            });\n        },\n\n        resize:function(){\n            if(this._inited){\n                this.canvas_elem.width=this.jm.view.size.w;\n                this.canvas_elem.height=this.jm.view.size.h;\n            }\n        },\n\n        clean:function(){\n            var c = this.canvas_elem;\n            this.canvas_ctx.clearRect(0,0,c.width,c.height);\n        },\n\n        _draw:function(callback){\n            var ctx = this.canvas_ctx;\n            ctx.textAlign = 'left';\n            ctx.textBaseline = 'top';\n            this._draw_lines();\n            this._draw_nodes(callback);\n        },\n\n        _watermark:function(){\n            var c = this.canvas_elem;\n            var ctx = this.canvas_ctx;\n            ctx.textAlign='right';\n            ctx.textBaseline='bottom';\n            ctx.fillStyle='#000';\n            ctx.font='11px Verdana,Arial,Helvetica,sans-serif';\n            ctx.fillText('hizzgdev.github.io/jsmind',c.width-5.5,c.height-2.5);\n            ctx.textAlign='left';\n            ctx.fillText($w.location,5.5,c.height-2.5);\n        },\n\n        _draw_lines:function(){\n            this.jm.view.show_lines(this.canvas_ctx);\n        },\n\n        _draw_nodes:function(callback){\n            var nodes = this.jm.mind.nodes;\n            var node;\n            for(var nodeid in nodes){\n                node = nodes[nodeid];\n                this._draw_node(node);\n            }\n\n            function check_nodes_ready() {\n                console.log('check_node_ready'+new Date());\n                var allOk = true;\n                for(var nodeid in nodes){\n                    node = nodes[nodeid];\n                    allOk = allOk & node.ready;\n                }\n\n                if(!allOk) {\n                    $w.setTimeout(check_nodes_ready, 200);\n                } else {\n                    $w.setTimeout(callback, 200);\n                }\n            }\n            check_nodes_ready();\n        },\n\n        _draw_node:function(node){\n            var ctx = this.canvas_ctx;\n            var view_data = node._data.view;\n            var node_element = view_data.element;\n            var ncs = getComputedStyle(node_element);\n            if(!is_visible(ncs)){\n                node.ready = true;\n                return;\n            }\n\n            var bgcolor = css(ncs,'background-color');\n            var round_radius = parseInt(css(ncs,'border-top-left-radius'));\n            var color = css(ncs,'color');\n            var padding_left = parseInt(css(ncs,'padding-left'));\n            var padding_right = parseInt(css(ncs,'padding-right'));\n            var padding_top = parseInt(css(ncs,'padding-top'));\n            var padding_bottom = parseInt(css(ncs,'padding-bottom'));\n            var text_overflow = css(ncs,'text-overflow');\n            var font = css(ncs,'font-style')+' '+\n                        css(ncs,'font-variant')+' '+\n                        css(ncs,'font-weight')+' '+\n                        css(ncs,'font-size')+'/'+css(ncs,'line-height')+' '+\n                        css(ncs,'font-family');\n\n            var rb = {x:view_data.abs_x,\n                      y:view_data.abs_y,\n                      w:view_data.width+1,\n                      h:view_data.height+1};\n            var tb = {x:rb.x+padding_left,\n                      y:rb.y+padding_top,\n                      w:rb.w-padding_left-padding_right,\n                      h:rb.h-padding_top-padding_bottom};\n\n            ctx.font=font;\n            ctx.fillStyle = bgcolor;\n            ctx.beginPath();\n            jcanvas.rect(ctx, rb.x, rb.y, rb.w, rb.h, round_radius);\n            ctx.closePath();\n            ctx.fill();\n\n            ctx.fillStyle = color;\n            if ('background-image' in node.data) {\n                var backgroundUrl = css(ncs,'background-image').slice(5, -2);\n                node.ready = false;\n                var rotation = 0;\n                if ('background-rotation' in node.data) {\n                    rotation = node.data['background-rotation'];\n                }\n                jcanvas.image(ctx, backgroundUrl, rb.x, rb.y, rb.w, rb.h, round_radius, rotation,\n                    function() {\n                        node.ready = true;\n                    });\n            }\n            if (!!node.topic) {\n                if(text_overflow === 'ellipsis'){\n                    jcanvas.text_ellipsis(ctx, node.topic, tb.x, tb.y, tb.w, tb.h);\n                }else{\n                    var line_height = parseInt(css(ncs,'line-height'));\n                    jcanvas.text_multiline(ctx, node.topic, tb.x, tb.y, tb.w, tb.h,line_height);\n                }\n            }\n            if(!!view_data.expander){\n                this._draw_expander(view_data.expander);\n            }\n            if (!('background-image' in node.data)) {\n                node.ready = true;\n            }\n        },\n\n        _draw_expander:function(expander){\n            var ctx = this.canvas_ctx;\n            var ncs = getComputedStyle(expander);\n            if(!is_visible(ncs)){ return; }\n\n            var style_left = css(ncs,'left');\n            var style_top = css(ncs,'top');\n            var font = css(ncs,'font');\n            var left = parseInt(style_left);\n            var top = parseInt(style_top);\n            var is_plus = expander.innerHTML === '+';\n\n            ctx.lineWidth = 1;\n\n            ctx.beginPath();\n            ctx.arc(left+7,top+7,5,0,Math.PI*2,true);\n            ctx.moveTo(left+10,top+7);\n            ctx.lineTo(left+4,top+7);\n            if(is_plus){\n                ctx.moveTo(left+7,top+4);\n                ctx.lineTo(left+7,top+10);\n            }\n            ctx.closePath();\n            ctx.stroke();\n        },\n\n        _download:function(){\n            var c = this.canvas_elem;\n            var name = this.jm.mind.name+'.png';\n\n            if (navigator.msSaveBlob && (!!c.msToBlob)) {\n                var blob = c.msToBlob();\n                navigator.msSaveBlob(blob,name);\n            } else {\n                var bloburl = this.canvas_elem.toDataURL();\n                var anchor = $c('a');\n                if ('download' in anchor) {\n                    anchor.style.visibility = 'hidden';\n                    anchor.href = bloburl;\n                    anchor.download = name;\n                    $d.body.appendChild(anchor);\n                    var evt = $d.createEvent('MouseEvents');\n                    evt.initEvent('click', true, true);\n                    anchor.dispatchEvent(evt);\n                    $d.body.removeChild(anchor);\n                } else {\n                    location.href = bloburl;\n                }\n            }\n        },\n\n        jm_event_handle:function(type,data){\n            if(type === jsMind.event_type.resize){\n                this.resize();\n            }\n        }\n    };\n\n    var screenshot_plugin = new jsMind.plugin('screenshot',function(jm){\n        var jss = new jsMind.screenshot(jm);\n        jm.screenshot = jss;\n        jm.shoot = function(){\n            jss.shoot();\n        };\n        jm.add_event_listener(function(type,data){\n            jss.jm_event_handle.call(jss,type,data);\n        });\n    });\n\n    jsMind.register_plugin(screenshot_plugin);\n\n})(window);\n","export class Lesson {\n    id: string;\n    name: string;\n    people_num: string;\n    teacher: string;\n}\n","/**\n * Created by sunlu on 2018/6/14.\n */\nimport { Lesson } from './lesson';\n\nexport class Lessons {\n    list: Array<Lesson>;\n}\n","module.exports = \".index-top{\\n    margin-top: 100px;\\n    margin-bottom: 50px;\\n}\\n\\n#title{\\n    margin-bottom: 50px;\\n    text-align: center; \\n}\\n\\n#subtitle{\\n    margin-right: 180px;\\n    text-align: right;\\n}\\n\\n.container{\\n    margin: 0 0 0 10%;\\n}\\n\\nh4{\\n    margin: 3% 0 0 0;\\n}\\n\\n.row{\\n    margin: 5% 10% 0 32%;\\n}\\n\\n.form-control{\\n    width: 300px;\\n}\\n\\n#bt1{\\n    padding: 8px 24px;\\n    margin:  0% 0px 2% 100px;\\n}\\n\\n#bt2{\\n    padding: 8px 24px;\\n    margin:  0% 0px 2% 100px;\\n}\\n\\n.identity{\\n    margin:  4% 0px 0% 3%;\\n}\"","module.exports = \"<head>\\n    <meta charset=\\\"utf-8\\\">\\n    <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">\\n</head>\\n\\n\\n<div class=\\\"index-top\\\">\\n    <h1 id=\\\"title\\\">\\n        \\n    </h1>\\n    <h5 id=\\\"subtitle\\\">\\n        \\n    </h5>\\n</div>\\n\\n<div style=\\\"text-align:center\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-2\\\">\\n                <h4>{{con1}}</h4>\\n            </div>\\n            <div class=\\\"col-md-2\\\">\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"user.username\\\" id=\\\"ip1\\\">\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-2\\\">\\n                <h4>{{con2}}</h4>\\n            </div>\\n            <div class=\\\"col-md-2\\\">\\n                <input type=\\\"password\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"user.password\\\" id=\\\"ip2\\\">\\n            </div>\\n        </div>\\n\\n        <div class=\\\"radio\\\">\\n            <label class=\\\"identity\\\">\\n                <input type=\\\"radio\\\" name=\\\"Radios\\\" id=\\\"teacherRdio\\\" value=\\\"teacher\\\" checked (click)=\\\"getType('teacher')\\\">\\n            </label>\\n            <label class=\\\"identity\\\">\\n                <input type=\\\"radio\\\" name=\\\"Radios\\\" id=\\\"studentRadio\\\" value=\\\"student\\\" (click)=\\\"getType('student')\\\"> \\n            </label>\\n        </div>\\n\\n\\n        <div class=\\\"row\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" id=\\\"bt1\\\" (click)=\\\"login()\\\"></button>\\n\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" id=\\\"bt2\\\" routerLink=\\\"/index\\\"></button>\\n        </div>\\n    </div>\\n</div>\\n\\n\"","import { Component, OnInit } from '@angular/core';\nimport {User} from '../person';\nimport {UserService} from '../user.service';\nimport {Router} from '@angular/router';\nimport { Response } from '../response';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  con1 = '';\n  con2 = '';\n  user: User = new User();\n  response: Response = new Response();\n  constructor(private router: Router, private userService: UserService) { }\n\n  type : string = 'teacher';\n\n  getType(type : string) {\n    this.type = type;\n  }\n\n  ngOnInit() {\n  }\n\n  login(): void {\n    this.user.type = this.type;\n    this.user.status =\"online\";\n    this.userService.login(this.user).subscribe(data => {\n      console.log(data);\n      this.response = data ;\n      console.log(this.response);\n      if (this.response.status === 'yes') {\n        console.log(1);\n        alert('User login successfully.');\n        if (this.response.type === 'teacher') {\n          this.router.navigateByUrl('teacher/' + this.response.username);\n        } else {\n          this.router.navigateByUrl('student/' + this.response.username);\n        }\n      } else {\n        alert('User login failure, please input again !');\n      }\n    });\n  }\n}\n","/**\n * Created by sunlu on 2018/6/19.\n */\nexport class MindMap {\n    lid: string;\n    items: any[];\n}\n","/**\n * Created by sunlu on 2018/6/19.\n */\nexport class Number {\n    lid: string;\n    ids: Array<string>;\n}\n","/**\n * Created by sunlu on 2018/6/9.\n */\nexport class User {\n    username: string;\n    password: string;\n    type: string;\n    status: string;\n}\n","module.exports = \".index-top{\\n    margin-top: 100px;\\n    margin-bottom: 50px;\\n}\\n\\n#title{\\n    margin-bottom: 50px;\\n    text-align: center; \\n}\\n\\n#subtitle{\\n    margin-right: 180px;\\n    text-align: right;\\n}\\n\\n.container{\\n    margin: 0 0 0 10%;\\n}\\n\\nh4{\\n    margin: 3% 0 0 0;\\n}\\n\\n.row{\\n    margin: 5% 0% 0 32%;\\n}\\n\\n.form-control{\\n    width: 300px;\\n}\\n\\n#bt1{\\n    padding: 8px 24px;\\n    margin:  0% 0px 2% 100px;\\n}\\n\\n#bt2{\\n    padding: 8px 24px;\\n    margin:  0% 0px 2% 100px;\\n}\\n\\n.identity{\\n    margin:  4% 0px 0% 3%;\\n}\"","module.exports = \"<head>\\n    <meta charset=\\\"utf-8\\\">\\n    <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">\\n</head>\\n\\n\\n<div class=\\\"index-top\\\">\\n    <h1 id=\\\"title\\\">\\n        \\n    </h1>\\n    <h5 id=\\\"subtitle\\\">\\n        \\n    </h5>\\n</div>\\n\\n<div style=\\\"text-align:center\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-2\\\">\\n                <h4>{{con1}}</h4>\\n            </div>\\n            <div class=\\\"col-md-6\\\">\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"user.username\\\" name=\\\"username\\\" class=\\\"form-control\\\">\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-2\\\">\\n                <h4>{{con2}}</h4>\\n            </div>\\n            <div class=\\\"col-md-6\\\">\\n                <input type=\\\"password\\\" [(ngModel)]=\\\"user.password\\\" name=\\\"password\\\" class=\\\"form-control\\\">\\n            </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-2\\\">\\n                <h4>{{con3}}</h4>\\n            </div>\\n            <div class=\\\"col-md-6\\\">\\n                <input type=\\\"password\\\" [(ngModel)]=\\\"cpassword\\\" name=\\\"cpassword\\\" class=\\\"form-control\\\">\\n            </div>\\n            <h5 style=\\\"color: red\\\" *ngIf=\\\"(cpassword!=null && user.password!=cpassword)\\\"></h5>\\n        </div>\\n\\n\\n        <div class=\\\"radio\\\">\\n            <label class=\\\"identity\\\">\\n                <input type=\\\"radio\\\" name=\\\"Radios\\\" id=\\\"teacherRdio\\\" value=\\\"teacher\\\" checked (click)=\\\"getType('teacher')\\\">\\n            </label>\\n            <label class=\\\"identity\\\">\\n                <input type=\\\"radio\\\" name=\\\"Radios\\\" id=\\\"studentRadio\\\" value=\\\"student\\\" (click)=\\\"getType('student')\\\"> \\n            </label>\\n        </div>\\n\\n\\n        <div class=\\\"row\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" id=\\\"bt1\\\" (click)=\\\"createUser()\\\"></button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" id=\\\"bt2\\\" routerLink=\\\"/index\\\"></button>\\n        </div>\\n    </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { User } from '../person';\nimport { Response } from '../response';\nimport { UserService } from '../user.service';\nimport {Router} from '@angular/router';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport {routerNgProbeToken} from '@angular/router/src/router_module';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css'],\n  providers: [UserService]\n})\nexport class RegisterComponent implements OnInit {\n  user: User = new User();\n  response: Response = new Response();\n  title = '';\n  con1 = '';\n  con2 = '';\n  con3 = '';\n\n  cpassword : string;\n  type : string = 'teacher';\n\n  getType(type : string) {\n    this.type = type;\n  }\n\n  constructor(private router: Router, private userService: UserService) { }\n\n  ngOnInit() {\n  }\n  createUser(): void {\n    this.user.type = this.type;\n    this.user.status = \"offline\";\n    if (this.cpassword !== this.user.password) {\n      alert('');\n    } else if (this.user.username == null ) {\n      alert('');\n    } else {\n      this.userService.createUser(this.user).subscribe(data => {\n        console.log(data);\n        this.response = data ;\n        console.log(this.response);\n        if ( this.response.status === 'yes') {\n          console.log(1);\n          alert('User created successfully.');\n          this.router.navigateByUrl('login');\n        } else {\n          alert('User created failure, please input again !');\n        }\n      });\n    }\n  }\n}\n","/**\n * Created by sunlu on 2018/6/11.\n */\nexport class Response {\n    status: string;\n    type: string;\n    username: string;\n}","/**\n * Created by sunlu on 2018/6/20.\n */\nexport class SelectQ {\n    lid: string;\n    node_id: string;\n    mapid: string;\n    title: string;\n    a1: string;\n    a2: string;\n    a3: string;\n    a4: string;\n    trueA: any[];\n    rate: string;\n}\n","module.exports = \".btn{\\n    margin: 5% 0 0 3%;\\n}\\n\\n.card{\\n    width: 24%;\\n    float: left;\\n    margin: 1% 1% 0 0;\\n    \\n}\\n\\n.lesson-enter{\\n    float: right;\\n}\\n\\n/* #myModal{\\n    width: 300px;\\n} */\\n\\n.form-control{\\n    width: 100%;\\n    margin-top: 5%;\\n\\n    /* margin: 5% 0 0 20%; */\\n}\"","module.exports = \"<head>\\n    <meta charset=\\\"utf-8\\\">\\n    <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">\\n</head>\\n\\n\\n<div class=\\\"container\\\">\\n    <div>\\n        <button class=\\\"btn btn-default\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal1\\\"></button>\\n        <div class=\\\"modal fade\\\" id=\\\"myModal1\\\">\\n            <div class=\\\"modal-dialog\\\">\\n                <div class=\\\"modal-content\\\">\\n\\n                    <!--  -->\\n                    <div class=\\\"modal-header\\\">\\n                        <h4 class=\\\"modal-title\\\"></h4>\\n                        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n                    </div>\\n\\n                    <!--  -->\\n                    <div class=\\\"modal-body\\\" *ngFor=\\\"let item of lessons\\\">\\n                        <div>No.{{item.id}} <br> {{item.name}}<br>{{item.teacher}}<a class=\\\"lesson-enter\\\" data-dismiss=\\\"modal\\\" (click)=\\\"chooseLesson(item)\\\" routerLink=\\\"/student/{{user.username}}\\\" ></a></div>\\n                    </div>\\n\\n                </div>\\n            </div>\\n        </div>\\n        <button class=\\\"btn btn-default\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal2\\\"></button>\\n            \\n        <div class=\\\"modal fade\\\" id=\\\"myModal2\\\">\\n            <div class=\\\"modal-dialog\\\">\\n                <div class=\\\"modal-content\\\">\\n\\n                    <!--  -->\\n                    <div class=\\\"modal-header\\\">\\n                        <h4 class=\\\"modal-title\\\"></h4>\\n                        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n                    </div>\\n\\n                    <!--  -->\\n                    <div class=\\\"modal-body\\\">\\n\\n                        <input type=\\\"password\\\" [(ngModel)]=\\\"password1\\\" placeholder=\\\"\\\" name=\\\"password1\\\" class=\\\"form-control\\\">\\n                        <input type=\\\"password\\\" [(ngModel)]=\\\"password2\\\" placeholder=\\\"\\\" name=\\\"password2\\\" class=\\\"form-control\\\">\\n\\n                    </div>\\n\\n                    <!--  -->\\n                    <div class=\\\"modal-footer\\\">\\n                        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\"></button>\\n                        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\" (click)=\\\"changePassword()\\\"></button>\\n                    </div>\\n\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"card\\\" *ngFor=\\\"let item of chooses\\\">\\n        <div class=\\\"card-header\\\">No.{{item.cid}} <a class=\\\"lesson-enter\\\" routerLink=\\\"/studentmap/{{this.user.username}}/{{item.lid}}\\\"> <span class=\\\"glyphicon glyphicon-chevron-right\\\"></span></a></div>\\n        <div class=\\\"card-body\\\">{{item.name}}<br>: {{item.people_num}}</div>\\n    </div>\\n</div>\\n\\n\"","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {UserService} from '../../user.service';\nimport {User} from '../../person';\nimport {Lessons} from '../../lessons';\nimport {Courses} from '../../courses';\nimport {Lesson} from '../../lesson';\nimport {Course} from '../../course';\nimport {Response} from '../../response';\n\n@Component({\n    selector: 'app-courses',\n    templateUrl: './courses.component.html',\n    styleUrls: ['./courses.component.css']\n})\nexport class CoursesComponent implements OnInit {\n    chooses: Course[];    // \n    lessons: Lesson[]; // \n    user: User = new User();\n    lesson: Lessons = new Lessons();\n    course: Courses = new Courses();\n    ls: Course = new Course();\n    response: Response = new Response();\n\n    password1: string;\n    password2: string;\n\n    constructor(private route: ActivatedRoute, private userService: UserService, private router: Router) {}\n    ngOnInit() {\n        this.getCourses();\n        this.getAll();\n    }\n\n    chooseLesson(choose: Lesson) {\n        this.ls.cid = choose.id;\n        this.ls.name = choose.name;\n        this.ls.people_num = choose.people_num;\n        this.ls.student = this.user.username;\n        this.ls.lid = choose.id;\n        console.log(this.ls);\n        this.userService.addCourses(this.ls)\n            .subscribe(data => {\n                console.log(data);\n                this.response = data;\n                if (this.response.status === 'yes') {\n                    alert('');\n                    this.updateAll();\n                } else {\n                    alert('');\n                }\n\n            });\n        this.lessons.splice(this.lessons.indexOf(choose, 0), 1);\n    }\n\n    getAll(): void {\n        this.userService.addAll(this.user)\n            .subscribe(data => {\n                this.lesson.list = data;\n                this.updateLesson(this.lesson);\n            });\n    }\n    getCourses(): void {\n        const username = this.route.snapshot.paramMap.get('username');\n        console.log(username);\n        this.user.username = username;\n        this.userService.examineLogin(this.user.username)\n            .subscribe(data =>{\n                let re=new Response();\n                re=data;\n                console.log(re.status);\n                if(re.status == \"online\"){\n                    this.userService.getCourses(this.user)\n                        .subscribe(data => {\n                            console.log(data);\n                            this.course.list = data;\n                            this.updateChoose(this.course);\n                        });\n                }else {\n                    alert(\"\");\n                    this.router.navigateByUrl('login');\n                }\n            });\n    }\n\n    updateLesson(lesson: Lessons) {\n        let tmp = new Lesson();\n        this.lessons = [];\n        for (let i = 0; i < lesson.list.length; i ++) {\n            tmp.id = lesson.list[i].id;\n            tmp.name = lesson.list[i].name;\n            tmp.people_num = lesson.list[i].people_num;\n            tmp.teacher = lesson.list[i].teacher;\n            this.lessons.push(tmp);\n            tmp = new Lesson();\n        }\n    }\n    updateChoose(lesson: Courses) {\n        let tmp = new Course();\n        this.chooses = [];\n        for (let i = 0; i < lesson.list.length; i ++) {\n            tmp.cid = lesson.list[i].cid;\n            tmp.name = lesson.list[i].name;\n            tmp.people_num = lesson.list[i].people_num;\n            tmp.student = lesson.list[i].student;\n            tmp.lid = lesson.list[i].lid;\n            this.chooses.push(tmp);\n            tmp = new Course();\n        }\n    }\n\n    updateAll() {\n        this.userService.getCourses(this.user)\n            .subscribe(data => {\n                console.log(data);\n                this.course.list = data;\n                console.log(this.lesson.list);\n                this.updateChoose(this.course);\n            });\n    }\n\n    changePassword() {\n        if (this.password1 != this.password2) {\n          alert(\"\");\n          return;\n        }\n        alert(\"\");\n    }\n\n}\n","module.exports = \"#jsmind_container {\\r\\n    float: left;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n\\r\\n*{ margin:0; padding: 0; }\\r\\n\\r\\n\\r\\n#left-nav{\\r\\n    position:fixed;\\r\\n    top:0;\\r\\n    left:0;\\r\\n    width:7cm;\\r\\n    height:100%;\\r\\n    background-color:#373737;z-index:9999;\\r\\n}\\r\\n\\r\\n\\r\\n#right-part{\\r\\n    top:0;\\r\\n    left: 2cm;\\r\\n    min-height: 600px;\\r\\n}\\r\\n\\r\\n\\r\\na:hover ,a:focus{text-decoration:none}\\r\\n\\r\\n\\r\\n.nav-total{\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n\\r\\n.nav-tabs {\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n\\r\\n.nav-tabs li a {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.nav-collapse li{\\r\\n    /* float: left; */\\r\\n    padding:5% 0;  \\r\\n    position: relative;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n\\r\\n.nav-collapse li a {\\r\\n    color:gray;\\r\\n    display:block;\\r\\n    padding:5% 5%;    \\r\\n    /* border-top:1px solid #4f4f4f;\\r\\n    border-bottom:1px solid #292929; */\\r\\n    transition:all 0.2s ease-out;\\r\\n    cursor:pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.nav-collapse li a:hover {\\r\\n    background-color: #4f4f4f;\\r\\n    color: #ffffff;\\r\\n}\\r\\n\\r\\n\\r\\n.nav-collapse li a:focus {\\r\\n    background-color: #4f4f4f;\\r\\n    color: #ffffff;\\r\\n}\\r\\n\\r\\n\\r\\n#left-bottom {\\r\\n    position: absolute;\\r\\n    bottom: 0px;\\r\\n}\\r\\n\\r\\n\\r\\n.btn{\\r\\n    margin: 2% 0 0 5%;\\r\\n}\\r\\n\\r\\n\\r\\n.btn-group{\\r\\n    margin: 2% 0 0 5%;\\r\\n}\\r\\n\\r\\n\\r\\n.childList{\\r\\n    padding-left: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.dropdown-menu li a {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.card{\\r\\n    width: 80%;\\r\\n    float: left;\\r\\n    margin: 2% 0 0 5%;\\r\\n}\\r\\n\\r\\n\\r\\n.card-header{\\r\\n    padding: 3% 2% 0% 2%;\\r\\n}\\r\\n\\r\\n\\r\\n.card-body{\\r\\n    padding: 1% 2% 1% 2%;\\r\\n}\\r\\n\\r\\n\\r\\n.delete{\\r\\n    float: right;\\r\\n    margin: 0 0 2% 0;\\r\\n}\\r\\n\\r\\n\\r\\n.panel-default{\\r\\n  margin-top: 20px;\\r\\n  padding: 10px;\\r\\n}\\r\\n\"","module.exports = \"<head>\\r\\n  <meta charset=\\\"utf-8\\\">\\r\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">\\r\\n</head>\\r\\n\\r\\n<body>\\r\\n  <div class=\\\"container\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div id=\\\"left-nav\\\" class=\\\"col-xs-2 col-sm-2\\\">\\r\\n        <ul class=\\\"nav-collapse\\\">\\r\\n          <li><a></a></li>\\r\\n          <!-- <ul class=\\\"childList\\\" *ngIf=\\\"show_hide_val1\\\">\\r\\n              <li style=\\\"color: gray\\\"></li>\\r\\n              <li><a (click)=\\\"mapShoot()\\\"></a></li>\\r\\n              <li><a (click)=\\\"creatMap()\\\"></a></li>\\r\\n          </ul> -->\\r\\n          <ul id=\\\"left-bottom\\\">\\r\\n            <li><a></a></li>\\r\\n            <li><a (click)=\\\"this.exitLogin8()\\\"></a></li>\\r\\n          </ul>\\r\\n      </ul>\\r\\n      \\r\\n      </div>\\r\\n\\r\\n      <div id=\\\"right-part\\\" class=\\\"col-xs-6 col-sm-10\\\">\\r\\n        <ul class=\\\"nav nav-tabs\\\">\\r\\n          <li><a routerLink=\\\"/studentmap/{{this.username}}/{{this.lid}}\\\"></a></li>\\r\\n          <li><a routerLink=\\\"/shomework/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\r\\n          <li><a routerLink=\\\"/sresource/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\r\\n          <li class=\\\"active\\\"><a routerLink=\\\"/scourseware/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\r\\n        </ul>\\r\\n\\r\\n        <div id=\\\"node-edit\\\" >\\r\\n          <div class=\\\"panel panel-default\\\">\\r\\n            <h3></h3>\\r\\n            <table class=\\\"table table-bordered table-striped\\\">\\r\\n              <thead>\\r\\n              <tr>\\r\\n                <th width=\\\"25%\\\"></th>\\r\\n                <th width=\\\"50%\\\"></th>\\r\\n                <th width=\\\"25%\\\"></th>\\r\\n              </tr>\\r\\n              </thead>\\r\\n              <tbody>\\r\\n              <tr *ngFor=\\\"let item of filenames\\\">\\r\\n                <td width=\\\"25%\\\"><strong>{{ item.filename }}</strong></td>\\r\\n                <td width=\\\"50%\\\">{{item.fd}}</td>\\r\\n                <td width=\\\"25%\\\">\\r\\n                  <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"downloadfile(item.filename)\\\">\\r\\n                    download\\r\\n                  </button>\\r\\n                </td>\\r\\n              </tr>\\r\\n              </tbody>\\r\\n            </table>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <script type=\\\"text/javascript\\\" src=\\\"../../jsmind/js/jsmind.screenshot.js\\\"></script>\\r\\n</body>\\r\\n\"","import { Component, OnInit} from '@angular/core';\r\nimport {FileUploader, FileSelectDirective, FileItem, ParsedResponseHeaders} from 'ng2-file-upload';\r\nimport {RestService} from '../../download.service';\r\nimport { UpFiles} from '../../upfiles';\r\nimport {Upfile} from '../../upfile';\r\nimport {UserService} from '../../user.service';\r\nimport {MPNode} from '../../MPNode';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {Response} from '../../response';\r\n\r\n@Component({\r\n  selector: 'app-scourseware',\r\n  templateUrl: './scourseware.component.html',\r\n  styleUrls: ['./scourseware.component.css']\r\n})\r\nexport class ScoursewareComponent implements OnInit {\r\n  show_hide_val1: boolean = false;\r\n  upfiles: UpFiles = new UpFiles();\r\n  filenames: Upfile[];\r\n  lid: string;\r\n  node_id: string;\r\n  mapid:string;\r\n  username: string;\r\n  constructor(private router: Router,private route: ActivatedRoute, private restService: RestService, private userService: UserService ) { }\r\n  public url: string = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/upload/';\r\n\r\n  showFile() {\r\n    let mpnode = new MPNode();\r\n    mpnode.lid=this.lid;\r\n    mpnode.node_id=this.node_id;\r\n    mpnode.mapid=this.mapid\r\n    console.log(mpnode);\r\n    this.userService.showWare(mpnode).subscribe(data => {\r\n      console.log(data);\r\n      if(data ===null){\r\n      }else{\r\n        this.upfiles.list = data;\r\n        this.update(this.upfiles);\r\n      }\r\n    });\r\n  }\r\n\r\n  getID1() {\r\n    const mapid = this.route.snapshot.paramMap.get('mapid');\r\n    this.mapid=mapid;\r\n    const lid = this.route.snapshot.paramMap.get('lid');\r\n    console.log(lid);\r\n    this.lid = lid;\r\n    console.log(this.lid);\r\n    const node_id = this.route.snapshot.paramMap.get('node_id');\r\n    this.node_id = node_id;\r\n    this.url='http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/upload_ware/'+this.lid+\"/\"+this.node_id;\r\n    console.log(this.url);\r\n    const username = this.route.snapshot.paramMap.get('username');\r\n    this.username = username;\r\n    this.userService.examineLogin(this.username)\r\n        .subscribe(data => {\r\n          let re = new Response();\r\n          re = data;\r\n          console.log(re.status);\r\n          if (re.status == \"online\") {\r\n          }else {\r\n            alert(\"\");\r\n            this.router.navigateByUrl('login');\r\n          }\r\n        });\r\n  }\r\n\r\n  update(upfiles: UpFiles) {\r\n    let tmp = new Upfile();\r\n    this.filenames = [];\r\n    console.log(upfiles.list.length);\r\n    for (let i = 0; i < upfiles.list.length; i ++) {\r\n      tmp.lid = upfiles.list[i].lid;\r\n      tmp.filename = upfiles.list[i].filename;\r\n      tmp.fd=upfiles.list[i].fd;\r\n      this.filenames.push(tmp);\r\n      tmp = new Upfile();\r\n    }\r\n  }\r\n  downloadfile(filename) {\r\n    console.log('downloadfile start');\r\n    console.log(filename);\r\n    console.log(this.lid);\r\n    console.log(this.mapid);\r\n    this.restService.download1(filename, this.lid,this.mapid);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getID1();\r\n    this.showFile();\r\n  }\r\n\r\n  afterAddingFile(fileitem: FileItem): any {\r\n    fileitem.withCredentials = false;\r\n    console.log(fileitem);\r\n  }\r\n\r\n\r\n  showList1() {\r\n    this.show_hide_val1 = !this.show_hide_val1;\r\n  }\r\n  exitLogin8\r\n  () {\r\n    this.userService.exitLogin(this.username)\r\n        .subscribe(data => {\r\n          alert(\"\");\r\n          this.router.navigateByUrl('login');\r\n        });\r\n  }\r\n\r\n}\r\n","module.exports = \"#jsmind_container {\\n    float: left;\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n\\n*{ margin:0; padding: 0; }\\n\\n\\n#left-nav{\\n    position:fixed;\\n    top:0;\\n    left:0;\\n    width:7cm;\\n    height:100%;\\n    background-color:#373737;z-index:9999;\\n}\\n\\n\\n#right-part{\\n    top:0;\\n    left: 2cm;\\n    min-height: 600px;\\n}\\n\\n\\na:hover ,a:focus{text-decoration:none}\\n\\n\\n.nav-total{\\n    float: left;\\n}\\n\\n\\n.nav-tabs {\\n    font-size: 15px;\\n}\\n\\n\\n.nav-tabs li a {\\n    cursor: pointer;\\n}\\n\\n\\n.nav-collapse li{\\n    /* float: left; */\\n    padding:5% 0;  \\n    position: relative;\\n    display: block;\\n}\\n\\n\\n.nav-collapse li a {\\n    color:gray;\\n    display:block;\\n    padding:5% 5%;    \\n    /* border-top:1px solid #4f4f4f;\\n    border-bottom:1px solid #292929; */\\n    transition:all 0.2s ease-out;\\n    cursor:pointer;\\n}\\n\\n\\n.nav-collapse li a:hover {\\n    background-color: #4f4f4f;\\n    color: #ffffff;\\n}\\n\\n\\n.nav-collapse li a:focus {\\n    background-color: #4f4f4f;\\n    color: #ffffff;\\n}\\n\\n\\n#left-bottom {\\n    position: absolute;\\n    bottom: 0px;\\n}\\n\\n\\n.btn{\\n    float: right;\\n    margin: 5% 0% 0 0%;\\n}\\n\\n\\n.childList{\\n    padding-left: 10px;\\n}\\n\\n\\n.dropdown-menu li a {\\n    cursor: pointer;\\n}\\n\\n\\n.card{\\n    width: 100%;\\n    float: left;\\n    margin: 2% 0% 0 3%;   \\n}\\n\\n\\n.card-header{\\n    padding: 2% 2% 2% 2%;\\n}\\n\\n\\n.card-body{\\n    padding: 1% 2% 1% 2%;\\n}\\n\\n\\n.delete{\\n    float: right;\\n    margin: 0 0 2% 0;\\n}\\n\\n\\n.checkbox label{\\n    float: left;\\n    margin: 0 0 0 3%;\\n}\\n\\n\\n.checkbox input[type=\\\"checkbox\\\"] {\\n    cursor: pointer;\\n}\\n\"","module.exports = \"<head> \\n  <meta charset=\\\"utf-8\\\"> \\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">  \\n</head>\\n\\n<body>\\n  <div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n      <div id=\\\"left-nav\\\" class=\\\"col-xs-2 col-sm-2\\\">\\n        <ul class=\\\"nav-collapse\\\">\\n          <li><a>  <span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></li>\\n          <!-- <ul class=\\\"childList\\\" *ngIf=\\\"show_hide_val1\\\">\\n              <li style=\\\"color: gray\\\"></li>\\n              <li><a (click)=\\\"mapShoot()\\\"></a></li>\\n              <li><a (click)=\\\"creatMap()\\\"></a></li>\\n            </ul> -->\\n            <ul id=\\\"left-bottom\\\">\\n              <li><a></a></li>\\n              <li><a (click)=\\\"this.exitLogin7()\\\"></a></li>\\n            </ul>\\n      </ul>\\n      \\n      </div>\\n\\n      <div id=\\\"right-part\\\" class=\\\"col-xs-6 col-sm-10\\\">\\n        <ul class=\\\"nav nav-tabs\\\">\\n          <li><a routerLink=\\\"/studentmap/{{this.username}}/{{this.lid}}\\\"></a></li>\\n            <li class=\\\"active\\\"><a routerLink=\\\"/shomework/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\n          <li><a routerLink=\\\"/sresource/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\n          <li><a routerLink=\\\"/scourseware/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\n        </ul>\\n   \\n        <div class=\\\"card\\\" *ngFor=\\\"let item of homeworks; let i = index\\\">\\n            <div class=\\\"card-header\\\">{{item[1]}}</div>\\n            <div class=\\\"card-body\\\" *ngIf=\\\"item[0]==0\\\">\\n                <div class=\\\"checkbox\\\" *ngFor=\\\"let question of item[2]; let j = index\\\">\\n                    <label>\\n                      <input type=\\\"checkbox\\\" [(ngModel)]=\\\"answers[i][1][j]\\\">{{question}}\\n                    </label>\\n                </div>\\n\\n            </div>\\n            <div class=\\\"card-body\\\" *ngIf=\\\"item[0]==1\\\">\\n                <textarea class=\\\"form-control\\\" rows=\\\"5\\\" [(ngModel)]=\\\"answers[i][1]\\\"></textarea>\\n            </div>\\n        </div>\\n\\n        \\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"submit()\\\" ></button>\\n      </div>\\n    </div>\\n  </div>\\n  <script type=\\\"text/javascript\\\" src=\\\"../../jsmind/js/jsmind.screenshot.js\\\"></script>\\n</body>\\n\"","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {UserService} from '../../user.service';\nimport {MPNode} from '../../MPNode';\nimport {SelectQ} from '../../selectQ';\nimport {DescripQ1} from '../../descripQ';\nimport {Submit} from '../../Submit';\nimport {Response} from '../../response';\n\n@Component({\n  selector: 'app-shomework',\n  templateUrl: './shomework.component.html',\n  styleUrls: ['./shomework.component.css']\n})\nexport class ShomeworkComponent implements OnInit {\n\n  homeworks : any[];\n  answers : any[];\n  submits : Submit[];\n  lid: string;\n  node_id: string;\n  Q0sum: SelectQ[];\n  Q1sum: DescripQ1[];\n  tm: any[];\n  mapid:string;\n  username: string;\n  constructor(private router: Router,private route: ActivatedRoute,private userService: UserService) { }\n\n  ngOnInit() {\n    this.getID1();\n  }\n\n  getID1() {\n    const mapid = this.route.snapshot.paramMap.get('mapid');\n    this.mapid=mapid;\n    const username = this.route.snapshot.paramMap.get('username');\n    this.username = username;\n    this.userService.examineLogin(this.username)\n        .subscribe(data => {\n          let re = new Response();\n          re = data;\n          console.log(re.status);\n          if (re.status == \"online\") {\n          }else {\n            alert(\"\");\n            this.router.navigateByUrl('login');\n          }\n        });\n    this.homeworks=[];\n    const lid = this.route.snapshot.paramMap.get('lid');\n    console.log(lid);\n    this.lid = lid;\n    console.log(this.lid);\n    const node_id = this.route.snapshot.paramMap.get('node_id');\n    this.node_id = node_id;\n    console.log(this.node_id);\n    let mpNode = new MPNode();\n    mpNode.lid = this.lid;\n    mpNode.node_id= this.node_id;\n    mpNode.mapid=this.mapid;\n    this.userService.getQ0(mpNode)\n        .subscribe(data => {\n          console.log(\"enter q0\");\n          console.log(data);\n          if(data == null){\n          } else {\n            this.Q0sum = data;\n            console.log(this.Q0sum);\n            for(let i = 0;i<this.Q0sum.length;i++){\n              let tmp = [];\n              let choice = [];\n              choice.push(this.Q0sum[i].a1, this.Q0sum[i].a2, this.Q0sum[i].a3, this.Q0sum[i].a4);\n              tmp.push('0');\n              tmp.push(this.Q0sum[i].title);\n              tmp.push(choice);\n              tmp.push(this.Q0sum[i].trueA);\n              this.homeworks.push(tmp);\n            }\n          }\n          console.log(\"enter q1\");\n          this.userService.getQ1(mpNode)\n              .subscribe(data => {\n                console.log(1);\n                console.log(data);\n                if(data == null){\n                } else {\n                  this.Q1sum = data;\n                  console.log(this.Q1sum);\n                  for(let i = 0;i<this.Q1sum.length;i++){\n                    let tmp = [];\n                    tmp.push('1');\n                    tmp.push(this.Q1sum[i].title);\n                    tmp.push([]);\n                    tmp.push([]);\n                    this.homeworks.push(tmp);\n                  }\n                }\n                this.answers = [];\n                this.submits = [];\n                this.initAnswer();\n              });\n        });\n  }\n\n  initAnswer() {\n    console.log(this.homeworks.length);\n    for (let i = 0; i < this.homeworks.length; i++) {\n      if (this.homeworks[i][0] == \"0\") {\n        this.answers.push([\"0\",[false, false, false, false]]);\n      }\n      else if (this.homeworks[i][0] == \"1\") {\n        this.answers.push([\"1\", []])\n      }\n    }\n  }\n\n  checkAnswer() {\n      this.tm=[];\n    for (let i = 0; i < this.answers.length; i++) {\n      let sub=new Submit();\n      sub.username=this.username;\n      sub.mapid=this.mapid;\n      sub.lid=this.lid;\n      sub.node_id=this.node_id;\n      if (this.answers[i][0] == \"0\") {\n        let tmp = [];\n        if (this.answers[i][1][0]) {\n          tmp.push('A');\n        }\n        if (this.answers[i][1][1]) {\n          tmp.push('B');\n        }\n        if (this.answers[i][1][2]) {\n          tmp.push('C');\n        }\n        if (this.answers[i][1][3]) {\n          tmp.push('D');\n        }\n        if(tmp.toString()==\"\"){\n        }else {\n            if (tmp.toString() == this.homeworks[i][3].toString()) {\n                //titleididid\n                sub.title=this.homeworks[i][1];\n                sub.answer=\"yes\";\n                this.tm.push(sub);\n            } else {\n                sub.title=this.homeworks[i][1];\n                sub.answer=\"false\";\n                this.tm.push(sub);\n            }\n        }\n      }\n    }\n\n  }\n\n  submit() {\n    this.checkAnswer();\n    console.log(this.tm);\n    this.userService.submit(this.tm)\n        .subscribe(data =>{\n           console.log(data);\n           let re=new Response();\n           re=data;\n           if(re.status==\"\"){\n               alert(\"\");\n           }else {\n               alert(re.status);\n           }\n        });\n  }\n  exitLogin7() {\n    this.userService.exitLogin(this.username)\n        .subscribe(data => {\n          alert(\"\");\n          this.router.navigateByUrl('login');\n        });\n  }\n}\n","module.exports = \"*{ margin:0; padding: 0; }\\r\\n\\r\\n#left-nav{\\r\\n  position:fixed;\\r\\n  top:0;\\r\\n  left:0;\\r\\n  width:7cm;\\r\\n  height:100%;\\r\\n  background-color:#373737;z-index:9999;\\r\\n}\\r\\n\\r\\n#right-part{\\r\\n  top:0;\\r\\n  left: 2cm;\\r\\n  min-height: 600px;\\r\\n}\\r\\n\\r\\na:hover ,a:focus{text-decoration:none}\\r\\n\\r\\n.nav-total{\\r\\n  float: left;\\r\\n}\\r\\n\\r\\n.nav-tabs {\\r\\n  font-size: 15px;\\r\\n}\\r\\n\\r\\n.nav-tabs li a {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.nav-collapse li{\\r\\n  /* float: left; */\\r\\n  padding:5% 0;  \\r\\n  position: relative;\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.nav-collapse li a {\\r\\n  color:gray;\\r\\n  display:block;\\r\\n  padding:5% 5%;    \\r\\n  /* border-top:1px solid #4f4f4f;\\r\\n  border-bottom:1px solid #292929; */\\r\\n  transition:all 0.2s ease-out;\\r\\n  cursor:pointer;\\r\\n}\\r\\n\\r\\n.nav-collapse li a:hover {\\r\\n  background-color: #4f4f4f;\\r\\n  color: #ffffff;\\r\\n}\\r\\n\\r\\n.nav-collapse li a:focus {\\r\\n  background-color: #4f4f4f;\\r\\n  color: #ffffff;\\r\\n}\\r\\n\\r\\n#left-bottom {\\r\\n  position: absolute;\\r\\n  bottom: 0px;\\r\\n}\\r\\n\\r\\n.btn{\\r\\n  margin: 2% 0 0 5%;\\r\\n}\\r\\n\\r\\n.btn-group{\\r\\n  margin: 2% 0 0 5%;\\r\\n}\\r\\n\\r\\n.childList{\\r\\n  padding-left: 10px;\\r\\n}\\r\\n\\r\\n.dropdown-menu li a {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.panel-default{\\r\\n  margin-top: 20px;\\r\\n  padding: 10px;\\r\\n}\\r\\n\"","module.exports = \"<head>\\r\\n  <meta charset=\\\"utf-8\\\">\\r\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">\\r\\n</head>\\r\\n\\r\\n<body>\\r\\n  <div class=\\\"container\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div id=\\\"left-nav\\\" class=\\\"col-xs-2 col-sm-2\\\">\\r\\n        <ul class=\\\"nav-collapse\\\">\\r\\n          <li><a></a></li>\\r\\n          <!-- <ul class=\\\"childList\\\" *ngIf=\\\"show_hide_val1\\\">\\r\\n              <li style=\\\"color: gray\\\"></li>\\r\\n              <li><a (click)=\\\"mapShoot()\\\"></a></li>\\r\\n              <li><a (click)=\\\"creatMap()\\\"></a></li>\\r\\n            </ul> -->\\r\\n            <ul id=\\\"left-bottom\\\">\\r\\n              <li><a></a></li>\\r\\n              <li><a (click)=\\\"this.exitLogin6()\\\"></a></li>\\r\\n            </ul>\\r\\n      </ul>\\r\\n      \\r\\n      </div>\\r\\n\\r\\n      <div id=\\\"right-part\\\" class=\\\"col-xs-6 col-sm-10\\\">\\r\\n        <ul class=\\\"nav nav-tabs\\\">\\r\\n          <li><a routerLink=\\\"/studentmap/{{this.username}}/{{this.lid}}\\\"></a></li>\\r\\n          <li><a routerLink=\\\"/shomework/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\r\\n          <li class=\\\"active\\\"><a routerLink=\\\"/sresource/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\r\\n          <li><a a routerLink=\\\"/scourseware/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\r\\n        </ul>\\r\\n\\r\\n        <div id=\\\"node-edit\\\" >\\r\\n          <div class=\\\"panel panel-default\\\">\\r\\n            <h3></h3>\\r\\n            <div class=\\\"panel panel-default\\\">\\r\\n              <h4></h4>\\r\\n              <table class=\\\"table table-bordered table-striped\\\">\\r\\n                <thead>\\r\\n                <tr>\\r\\n                  <th width=\\\"25%\\\"></th>\\r\\n                  <th width=\\\"50%\\\"></th>\\r\\n                  <th width=\\\"25%\\\"></th>\\r\\n                </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                <tr *ngFor=\\\"let item of filenames\\\">\\r\\n                  <td width=\\\"25%\\\"><strong>{{ item.filename }}</strong></td>\\r\\n                  <td width=\\\"50%\\\">{{ item.fd }}</td>\\r\\n                  <td width=\\\"25%\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"downloadfile(item.filename)\\\">\\r\\n                      download\\r\\n                    </button>\\r\\n                  </td>\\r\\n                </tr>\\r\\n                </tbody>\\r\\n              </table>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"panel panel-default\\\">\\r\\n              <h4></h4>\\r\\n              <table class=\\\"table table-bordered table-striped\\\">\\r\\n                <thead>\\r\\n                <tr>\\r\\n                  <th width=\\\"50%\\\"></th>\\r\\n                  <th width=\\\"50%\\\"></th>\\r\\n                </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                <tr *ngFor=\\\"let item of links\\\">\\r\\n                  <td width=\\\"50%\\\"><a target=\\\"_blank\\\" href=\\\"http://{{item.linkname}}\\\">{{ item.linkname }}</a></td>\\r\\n                  <td width=\\\"50%\\\">\\r\\n                    {{ item.linkcontent }}\\r\\n                  </td>\\r\\n                </tr>\\r\\n                </tbody>\\r\\n              </table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <script type=\\\"text/javascript\\\" src=\\\"../../jsmind/js/jsmind.screenshot.js\\\"></script>\\r\\n</body>\\r\\n\"","import { Component, OnInit} from '@angular/core';\r\nimport {FileUploader, FileSelectDirective, FileItem, ParsedResponseHeaders} from 'ng2-file-upload';\r\nimport {RestService} from '../../download.service';\r\nimport { UpFiles} from '../../upfiles';\r\nimport {Upfile} from '../../upfile';\r\nimport {UserService} from '../../user.service';\r\nimport {MPNode} from '../../MPNode';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {Link} from '../../Link';\r\nimport {Response} from '../../response';\r\n\r\n@Component({\r\n  selector: 'app-sresource',\r\n  templateUrl: './sresource.component.html',\r\n  styleUrls: ['./sresource.component.css']\r\n})\r\n\r\nexport class SresourceComponent implements OnInit {\r\n\r\n  show_hide_val1: boolean = false;\r\n  upfiles: UpFiles = new UpFiles();\r\n  filenames: Upfile[];\r\n  lid: string;\r\n  node_id: string;\r\n  public url: string = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/upload/';\r\n  username: string;\r\n  mapid:string;\r\n  links: Link[];\r\n  constructor(private router: Router,private route: ActivatedRoute,private restService: RestService, private userService: UserService ) { }\r\n\r\n  showLink() {\r\n    this.restService.showLink(this.lid,this.node_id,this.mapid).subscribe(data => {\r\n      // \r\n      console.log(\"get link success\");\r\n      this.links = data;\r\n    });\r\n  }\r\n\r\n\r\n\r\n\r\n  showFile() {\r\n    let mpnode = new MPNode();\r\n    mpnode.lid=this.lid;\r\n    mpnode.node_id=this.node_id;\r\n    mpnode.mapid=this.mapid;\r\n    console.log(mpnode);\r\n    this.userService.showResource(mpnode).subscribe(data => {\r\n      console.log(data);\r\n      if(data ===null){\r\n      }else{\r\n        this.upfiles.list = data;\r\n        this.update(this.upfiles);\r\n      }\r\n    });\r\n  }\r\n\r\n  update(upfiles: UpFiles) {\r\n    let tmp = new Upfile();\r\n    this.filenames = [];\r\n    console.log(upfiles.list.length);\r\n    for (let i = 0; i < upfiles.list.length; i ++) {\r\n      tmp.lid = upfiles.list[i].lid;\r\n      tmp.filename = upfiles.list[i].filename;\r\n      tmp.fd=upfiles.list[i].fd;\r\n      this.filenames.push(tmp);\r\n      tmp = new Upfile();\r\n    }\r\n  }\r\n  downloadfile(filename) {\r\n    console.log('downloadfile start');\r\n    this.restService.download(filename, '1',this.mapid);\r\n  }\r\n  getID1() {\r\n    const mapid = this.route.snapshot.paramMap.get('mapid');\r\n    this.mapid=mapid;\r\n    const lid = this.route.snapshot.paramMap.get('lid');\r\n    console.log(lid);\r\n    this.lid = lid;\r\n    console.log(this.lid);\r\n    const node_id = this.route.snapshot.paramMap.get('node_id');\r\n    this.node_id = node_id;\r\n    this.url='http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/upload_resource/'+this.lid+\"/\"+this.node_id;\r\n    console.log(this.url);\r\n    const username = this.route.snapshot.paramMap.get('username');\r\n    this.username = username;\r\n    this.userService.examineLogin(this.username)\r\n        .subscribe(data => {\r\n          let re = new Response();\r\n          re = data;\r\n          console.log(re.status);\r\n          if (re.status == \"online\") {\r\n          }else {\r\n            alert(\"\");\r\n            this.router.navigateByUrl('login');\r\n          }\r\n        });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getID1();\r\n    this.showFile();\r\n    this.showLink();\r\n  }\r\n\r\n  afterAddingFile(fileitem: FileItem): any {\r\n    fileitem.withCredentials = false;\r\n    console.log(fileitem);\r\n  }\r\n\r\n\r\n  showList1() {\r\n    this.show_hide_val1 = !this.show_hide_val1;\r\n  }\r\n  exitLogin6() {\r\n    this.userService.exitLogin(this.username)\r\n        .subscribe(data => {\r\n          alert(\"\");\r\n          this.router.navigateByUrl('login');\r\n        });\r\n  }\r\n  jump(data: any){\r\n    console.log(data);\r\n    window.open(data);\r\n  }\r\n\r\n}\r\n","module.exports = \"#jsmind_container {\\n    float: left;\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n\\n*{ margin:0; padding: 0; }\\n\\n\\n#left-nav{\\n    position:fixed;\\n    top:0;\\n    left:0;\\n    width:7cm;\\n    height:100%;\\n    background-color:#373737;z-index:9999;\\n}\\n\\n\\n#right-part{\\n    top:0;\\n    left: 2cm;\\n    min-height: 600px;\\n}\\n\\n\\na:hover ,a:focus{text-decoration:none}\\n\\n\\n.nav-total{\\n    float: left;\\n}\\n\\n\\n.nav-tabs {\\n    font-size: 15px;\\n}\\n\\n\\n.nav-tabs li a {\\n    cursor: pointer;\\n}\\n\\n\\n.nav-collapse li{\\n    /* float: left; */\\n    padding:5% 0;  \\n    position: relative;\\n    display: block;\\n}\\n\\n\\n.nav-collapse li a {\\n    color:gray;\\n    display:block;\\n    padding:5% 5%;    \\n    /* border-top:1px solid #4f4f4f;\\n    border-bottom:1px solid #292929; */\\n    transition:all 0.2s ease-out;\\n    cursor:pointer;\\n}\\n\\n\\n.nav-collapse li a:hover {\\n    background-color: #4f4f4f;\\n    color: #ffffff;\\n}\\n\\n\\n.nav-collapse li a:focus {\\n    background-color: #4f4f4f;\\n    color: #ffffff;\\n}\\n\\n\\n#left-bottom {\\n    position: absolute;\\n    bottom: 0px;\\n}\\n\\n\\n/* .btn{\\n    margin: 2% 0 0 5%;\\n} */\\n\\n\\n/* .btn-group{\\n    margin: 2% 0 0 5%;\\n} */\\n\\n\\n.childList{\\n    padding-left: 10px;\\n}\\n\\n\\n/* .dropdown-menu li a {\\n    cursor: pointer;\\n} */\\n\"","module.exports = \"<head> \\n    <meta charset=\\\"utf-8\\\"> \\n    <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">  \\n  </head>\\n  \\n  <body>\\n    <div class=\\\"container\\\">\\n      <div class=\\\"row\\\">\\n        <div id=\\\"left-nav\\\" class=\\\"col-xs-2 col-sm-2\\\">\\n          <ul class=\\\"nav-collapse\\\">\\n            <li><a (click)=\\\"showList1()\\\">  <span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></li>\\n            <ul class=\\\"childList\\\" *ngIf=\\\"show_hide_val1\\\">\\n              <li><a (click)=\\\"showList2()\\\">  <span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a>\\n              </li>\\n              <ul class=\\\"childList\\\" *ngIf=\\\"show_hide_val2\\\">\\n                <li><a (click)=\\\"showList3()\\\">  <span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></li>\\n                <ul class=\\\"childList\\\" *ngIf=\\\"show_hide_val3\\\">\\n                  <li *ngFor=\\\"let id of ids; let i = index\\\"><a (click)=\\\"changeMap(i)\\\">{{id}}</a></li>\\n                </ul>\\n                <li><a (click)=\\\"mapShoot()\\\"></a></li>\\n              </ul>\\n            </ul>\\n            <ul id=\\\"left-bottom\\\">\\n              <li><a></a></li>\\n              <li><a (click)=\\\"this.exitLogin5()\\\"></a></li>\\n            </ul>\\n        </ul>\\n        </div>\\n  \\n        <div id=\\\"right-part\\\" class=\\\"col-xs-6 col-sm-10\\\">\\n          <ul class=\\\"nav nav-tabs\\\">\\n            <li class=\\\"active\\\"><a href=\\\"#tab1\\\" data-toggle=\\\"tab\\\">{{currentMap + 1}}</a></li>\\n            <li *ngIf=\\\"mindMap.get_selected_node()\\\"><a routerLink=\\\"/shomework/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{mindMap.get_selected_node().id}}\\\"></a></li>\\n            <li *ngIf=\\\"mindMap.get_selected_node()\\\"><a routerLink=\\\"/sresource/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{mindMap.get_selected_node().id}}\\\"></a></li>\\n            <li *ngIf=\\\"mindMap.get_selected_node()\\\"><a routerLink=\\\"/scourseware/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{mindMap.get_selected_node().id}}\\\"></a></li>\\n          </ul>\\n        \\n        <div id=\\\"jsmind_container\\\"></div> \\n        </div>\\n      </div>\\n    </div>\\n    <script type=\\\"text/javascript\\\" src=\\\"../../jsmind/js/jsmind.screenshot.js\\\"></script>\\n  </body>\\n  \"","import { Component, OnInit } from '@angular/core';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n// import { UserService } from '../../services/user.service';\n\nimport * as jsMind from '../../jsmind/js/jsmind.js';\nimport '../../jsmind/js/jsmind.screenshot.js'\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Lesson} from '../../lesson';\nimport {MindMap} from '../../mindmap';\nimport {UserService} from '../../user.service';\nimport {Number} from '../../number';\nimport {Response} from '../../response';\n\nconst options = {\n  container:'jsmind_container',\n  theme:'orange',\n  editable: false,\n  mode :'side',\n}\n\n@Component({\n  selector: 'app-studentmap',\n  templateUrl: './studentmap.component.html',\n  styleUrls: ['./studentmap.component.css']\n})\n\nexport class StudentmapComponent implements OnInit {\n  title = '';\n  lid: string;\n  mindMap = null;\n\n  currentMap : number = 0;\n\n  user : any;\n  userId : any;\n  userType : any;\n    mapid:string;\n  show_hide_val1 : boolean =false;\n  show_hide_val2 : boolean =false;\n  show_hide_val3 : boolean =false;\n  items : any[] = [];\n  ids : string[] = [];\n  username: string;\n  constructor(private router: Router,private route: ActivatedRoute,private userService: UserService) { }\n\n  getID1() {\n    const lid = this.route.snapshot.paramMap.get('id');\n    console.log(lid);\n    this.lid = lid;\n    console.log(this.lid);\n    const username = this.route.snapshot.paramMap.get('username');\n    this.username = username;\n    this.userService.examineLogin(this.username)\n        .subscribe(data => {\n          let re = new Response();\n          re = data;\n          console.log(re.status);\n          if (re.status == \"online\") {\n          }else {\n            alert(\"\");\n            this.router.navigateByUrl('login');\n          }\n        });\n  }\n\n  getMindMap(){\n    let lesson = new Lesson();\n    lesson.id = this.lid;\n    this.userService.getMindMap(lesson)\n        .subscribe(data => {\n          console.log(data);\n          if(data == null){\n          }else {\n            let mindmap = new MindMap();\n            mindmap = data;\n            this.items = mindmap.items;\n          }\n        });\n    this.userService.getNum(lesson)\n        .subscribe(data => {\n          console.log(data);\n          if(data == null){\n          }else {\n            let number = new Number();\n            number = data;\n            this.ids = number.ids;\n          }\n        });\n  }\n  ngOnInit() {\n    this.getID1();\n    this.mindMap = new jsMind(options);\n    this.getMindMap();\n    // const mind1 = {\n    //       \"meta\":{\n    //         \"name\":\"jsMind mindMap\",\n    //         \"author\":\"zhang junjie\",\n    //         \"version\":\"0.2\"\n    //       },\n    //       \"format\":\"node_tree\",\n    //       \"data\":{\"id\":\"root\",\"topic\":\"\",\"children\":[\n    //             {\"id\":\"part\",\"topic\":\"\",\"direction\":\"right\",\"children\":[\n    //             ]},\n    //             {\"id\":\"part2\",\"topic\":\"\",\"direction\":\"right\",\"children\":[\n    //             ]},\n    //       ]}\n    // }\n    // this.items.push(mind1);\n    // this.changeMap(this.items.length - 1);\n  }\n\n  // creatMap() {\n  //   const mind1 = {\n  //     \"meta\":{\n  //       \"name\":\"jsMind mindMap\",\n  //       \"author\":\"zhang junjie\",\n  //       \"version\":\"0.2\"\n  //     },\n  //     \"format\":\"node_tree\",\n  //     \"data\":{\"id\":\"root\",\"topic\":\"\",\"children\":[\n  //           {\"id\":\"part\",\"topic\":\"\",\"direction\":\"right\",\"children\":[\n  //           ]},\n  //           {\"id\":\"part2\",\"topic\":\"\",\"direction\":\"right\",\"children\":[\n  //           ]},\n  //     ]}\n  //   }\n  //   this.items.push(mind1);\n  //   this.changeMap(this.items.length - 1);\n  // }\n\n  changeMap(e) {\n      this.mapid=this.ids[e];\n    this.currentMap = e;\n    this.mindMap.show(this.items[e]);\n  }\n\n  mapShoot() {\n    // this.mindMap.show(this.currentMap);\n    this.mindMap.screenshot.shootDownload();\n  }\n\n  // removeNode() {\n  //   const selected_id = this.mindMap.get_selected_node();\n  //   if(!selected_id){\n  //   alert('');\n  //   return;\n  //   }\n  //   if(!selected_id.parent) {\n  //     window.alert('');\n  //     return;\n  //   }\n  //   this.mindMap.remove_node(selected_id);\n  //   this.items[this.currentMap] = this.mindMap.get_data(\"node_tree\");\n  // }\n    \n  // addChildNode() {\n  //   const selected_node = this.mindMap.get_selected_node(); \n  //   if(!selected_node){\n  //   alert('');\n  //   return;\n  //   }\n  //   const nodeid = jsMind.util.uuid.newid();\n  //   const topic = '';\n  //   const node = this.mindMap.add_node(selected_node, nodeid, topic);\n  //   this.items[this.currentMap] = this.mindMap.get_data(\"node_tree\");\n  // }\n\n  // addBrotherNode(e) {\n  //   console.log(e)\n  //   const selected_node = this.mindMap.get_selected_node(); \n  //   if(!selected_node){\n  //   alert('');\n  //   return;\n  //   }\n   \n  //   if(!selected_node.parent){\n  //     alert('');\n  //     return;\n  //   }\n  //   const nodeid = jsMind.util.uuid.newid();\n  //   const topic = '';\n  //   const node = this.mindMap.add_node(selected_node.parent, nodeid, topic);\n  //   this.items[this.currentMap] = this.mindMap.get_data(\"node_tree\");\n  // }\n\n  // changeNodeColor(e) {\n  //   const selected_node = this.mindMap.get_selected_node();\n  //   if(!selected_node){\n  //   alert('');\n  //   return;\n  //   }\n  //   this.mindMap.set_node_color(selected_node.id, e.toElement.id, \"#fff\");\n  //   this.items[this.currentMap] = this.mindMap.get_data(\"node_tree\");\n  // }\n  \n  showList1() {\n    this.show_hide_val1 = !this.show_hide_val1;\n  }\n\n  showList2() {\n    this.show_hide_val2 = !this.show_hide_val2;\n  }\n\n  showList3() {\n    this.show_hide_val3 = !this.show_hide_val3;\n  }\n  exitLogin5() {\n    this.userService.exitLogin(this.username)\n        .subscribe(data => {\n          alert(\"\");\n          this.router.navigateByUrl('login');\n        });\n  }\n\n}\n","module.exports = \".btn{\\n    margin: 5% 0 0 3%;\\n}\\n\\n.card{\\n    width: 24%;\\n    float: left;\\n    margin: 1% 1% 0 0;\\n    \\n}\\n\\n.lesson-enter{\\n    float: right;\\n}\\n\\n/* #myModal{\\n    width: 300px;\\n} */\\n\\n.form-control{\\n    width: 100%;\\n    margin-top: 5%;\\n}\"","module.exports = \"<head>\\n    <meta charset=\\\"utf-8\\\">\\n    <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">\\n</head>\\n\\n\\n<div class=\\\"container\\\">\\n    <div>\\n        <button class=\\\"btn btn-default\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal1\\\"></button>\\n        <div class=\\\"modal fade\\\" id=\\\"myModal1\\\">\\n            <div class=\\\"modal-dialog\\\">\\n                <div class=\\\"modal-content\\\">\\n\\n                    <!--  -->\\n                    <div class=\\\"modal-header\\\">\\n                        <h4 class=\\\"modal-title\\\"></h4>\\n                        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n                    </div>\\n\\n                    <!--  -->\\n                    <div class=\\\"modal-body\\\">\\n\\n                        <input type=\\\"text\\\" [(ngModel)]=\\\"addLessonId\\\" placeholder=\\\"id\\\" name=\\\"lessonid\\\" class=\\\"form-control\\\">\\n                        <input type=\\\"text\\\" [(ngModel)]=\\\"addLessonName\\\" placeholder=\\\"\\\" name=\\\"lessonname\\\" class=\\\"form-control\\\">\\n\\n                    </div>\\n\\n                    <!--  -->\\n                    <div class=\\\"modal-footer\\\">\\n                        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\"></button>\\n                        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\" (click)=\\\"addLesson()\\\"></button>\\n                    </div>\\n\\n                </div>\\n            </div>\\n        </div>\\n\\n        <button class=\\\"btn btn-default\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal2\\\"></button>\\n            \\n        <div class=\\\"modal fade\\\" id=\\\"myModal2\\\">\\n            <div class=\\\"modal-dialog\\\">\\n                <div class=\\\"modal-content\\\">\\n\\n                    <!--  -->\\n                    <div class=\\\"modal-header\\\">\\n                        <h4 class=\\\"modal-title\\\"></h4>\\n                        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n                    </div>\\n\\n                    <!--  -->\\n                    <div class=\\\"modal-body\\\">\\n\\n                        <input type=\\\"password\\\" [(ngModel)]=\\\"password1\\\" placeholder=\\\"\\\" name=\\\"password1\\\" class=\\\"form-control\\\">\\n                        <input type=\\\"password\\\" [(ngModel)]=\\\"password2\\\" placeholder=\\\"\\\" name=\\\"password2\\\" class=\\\"form-control\\\">\\n\\n                    </div>\\n\\n                    <!--  -->\\n                    <div class=\\\"modal-footer\\\">\\n                        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\"></button>\\n                        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\" (click)=\\\"changePassword()\\\"></button>\\n                    </div>\\n\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"card\\\" *ngFor=\\\"let item of lessons\\\">\\n        <div class=\\\"card-header\\\">No.{{item[0]}}<a class=\\\"lesson-enter\\\" routerLink=\\\"/mindmap/{{this.user.username}}/{{item[0]}}\\\"> <span class=\\\"glyphicon glyphicon-chevron-right\\\"></span></a></div>\\n        <div class=\\\"card-body\\\">: {{item[1]}}<br>: {{item[2]}}</div>\\n    </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport { UserService } from '../../user.service';\nimport {User} from '../../person';\nimport {Lessons} from '../../lessons';\nimport { Lesson } from '../../lesson';\nimport {Response} from '../../response';\nimport {Account} from '../../account';\n\n@Component({\n  selector: 'app-lessons',\n  templateUrl: './lessons.component.html',\n  styleUrls: ['./lessons.component.css']\n})\nexport class LessonsComponent implements OnInit {\n  lessons: any[];\n  lesson: Lessons = new Lessons();\n  user: User = new User();\n  addLessonId: string;\n  addLessonName: string;\n  ls: Lesson = new Lesson();\n  response: Response = new Response();\n\n  password1: string;\n  password2: string;\n\n\n  constructor(private route: ActivatedRoute, private userService: UserService, private router: Router) {}\n  ngOnInit() {\n    this.getLessons();\n    this.lessons = [];\n    this.addLessonName = '';\n    this.addLessonId = '';\n  }\n\n  getLessons(): void {\n    const username = this.route.snapshot.paramMap.get('username');\n    console.log(username);\n    this.user.username = username;\n    this.userService.examineLogin(this.user.username)\n        .subscribe(data =>{\n            let re=new Response();\n            re=data;\n            console.log(re.status);\n            if(re.status == \"online\"){\n                this.userService.getLessons(this.user)\n                    .subscribe(data => {\n                        console.log(data);\n                        this.lesson.list = data;\n                        console.log(this.lesson.list);\n                        this.updateLesson(this.lesson);\n                    });\n            }else {\n                alert(\"\");\n                this.router.navigateByUrl('login');\n            }\n        });\n  }\n\n  addLesson() {\n    console.log(this.addLessonName);\n    if (this.addLessonId === '') {\n      alert('ID');\n    } else if (this.addLessonName === '') {\n      alert('');\n    } else {\n      this.ls.id = this.addLessonId;\n      this.ls.name = this.addLessonName;\n      this.ls.teacher = this.user.username;\n      this.userService.addLessons(this.ls).subscribe(\n          data => {\n            console.log(data);\n            this.response = data;\n            console.log(this.response);\n            if (this.response.status === 'yes') {\n              this.updateAll();\n            } else {\n              alert('id');\n            }\n          }\n      );\n    }\n  }\n\n  updateLesson(lesson: Lessons) {\n    let tmp = [];\n    this.lessons = [];\n    for (let i = 0; i < lesson.list.length; i ++) {\n      tmp.push(lesson.list[i].id);\n      tmp.push(lesson.list[i].name);\n      tmp.push(lesson.list[i].people_num);\n      this.lessons.push(tmp);\n      tmp = [];\n    }\n  }\n\n  updateAll() {\n    this.userService.getLessons(this.user)\n        .subscribe(data => {\n          console.log(data);\n          this.lesson.list = data;\n          console.log(this.lesson.list);\n          this.updateLesson(this.lesson);\n        });\n  }\n\n  changePassword() {\n    if (this.password1 != this.password2) {\n      alert(\"\");\n      return;\n    }\n    let account=new Account();\n    account.username=this.user.username;\n    account.password=this.password1;\n    this.userService.changePass(account).subscribe(data => {\n        let re=new Response();\n        re=data;\n        if(re.status == \"same\"){\n            alert(\"\");\n        }else if(re.status ==\"yes\"){\n            alert(\"\");\n        }else {\n            alert(\"\");\n        }\n    });\n  }\n}\n\n","module.exports = \"#jsmind_container {\\n    /* float: left; */\\n    width: 80%;\\n    height: 80%;\\n}\\n\\n\\n*{ margin:0; padding: 0; }\\n\\n\\n#left-nav{\\n    position:fixed;\\n    top:0;\\n    left:0;\\n    width: 7cm;\\n    height:100%;\\n    background-color:#373737;z-index:9999;\\n}\\n\\n\\n#right-part{\\n    top:0;\\n    left: 2cm;\\n    min-height: 600px;\\n}\\n\\n\\na:hover ,a:focus{text-decoration:none}\\n\\n\\n.nav-total{\\n    float: left;\\n}\\n\\n\\n.nav-tabs {\\n    font-size: 15px;\\n}\\n\\n\\n.nav-tabs li a {\\n    cursor: pointer;\\n}\\n\\n\\n.nav-collapse li{\\n    /* float: left; */\\n    padding:5% 0;  \\n    position: relative;\\n    display: block;\\n}\\n\\n\\n.nav-collapse li a {\\n    color:gray;\\n    display:block;\\n    padding:5% 5%;    \\n    /* border-top:1px solid #4f4f4f;\\n    border-bottom:1px solid #292929; */\\n    transition:all 0.2s ease-out;\\n    cursor:pointer;\\n}\\n\\n\\n.nav-collapse li a:hover {\\n    background-color: #4f4f4f;\\n    color: #ffffff;\\n}\\n\\n\\n.nav-collapse li a:focus {\\n    background-color: #4f4f4f;\\n    color: #ffffff;\\n}\\n\\n\\n#left-bottom {\\n    position: absolute;\\n    bottom: 0px;\\n}\\n\\n\\n.btn{\\n    margin: 2% 0 0 5%;\\n}\\n\\n\\n.btn-group{\\n    margin: 2% 0 0 5%;\\n}\\n\\n\\n.childList{\\n    padding-left: 10px;\\n}\\n\\n\\n.dropdown-menu li a {\\n    cursor: pointer;\\n}\\n\"","module.exports = \"<head>\\n  <meta charset=\\\"utf-8\\\">\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">\\n</head>\\n\\n<body>\\n  <div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n      <div id=\\\"left-nav\\\" class=\\\"col-xs-6 col-sm-2\\\">\\n        <ul class=\\\"nav-collapse\\\">\\n          <li>\\n            <a (click)=\\\"showList1()\\\">\\n              <span class=\\\"glyphicon glyphicon-chevron-down\\\"></span>\\n            </a>\\n          </li>\\n          <ul class=\\\"childList\\\" *ngIf=\\\"show_hide_val1\\\">\\n            <li>\\n              <a (click)=\\\"showList2()\\\">\\n                <span class=\\\"glyphicon glyphicon-chevron-down\\\"></span>\\n              </a>\\n            </li>\\n            <ul class=\\\"childList\\\" *ngIf=\\\"show_hide_val2\\\">\\n              <li>\\n                <a (click)=\\\"showList3()\\\">\\n                  <span class=\\\"glyphicon glyphicon-chevron-down\\\"></span>\\n                </a>\\n              </li>\\n              <ul class=\\\"childList\\\" *ngIf=\\\"show_hide_val3\\\">\\n                <li *ngFor=\\\"let id of ids; let i = index\\\">\\n                  <a (click)=\\\"changeMap(i)\\\">{{id}}</a>\\n                </li>\\n              </ul>\\n              <li>\\n                <a (click)=\\\"mapShoot()\\\"></a>\\n              </li>\\n              <li>\\n                <a data-toggle=\\\"modal\\\" data-target=\\\"#myModal1\\\"></a>\\n              </li>\\n              <div class=\\\"modal fade\\\" id=\\\"myModal1\\\">\\n                <div class=\\\"modal-dialog\\\">\\n                  <div class=\\\"modal-content\\\">\\n                    <div class=\\\"modal-header\\\">\\n                      <h4 class=\\\"modal-title\\\"></h4>\\n                      <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n                    </div>\\n                    <div class=\\\"modal-body\\\">\\n                      <input type=\\\"text\\\" placeholder=\\\"id\\\" [(ngModel)]=\\\"createId\\\" name=\\\"mapid\\\" class=\\\"form-control\\\">\\n                    </div>\\n                    <div class=\\\"modal-footer\\\">\\n                      <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\"></button>\\n                      <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\" (click)=\\\"creatMap()\\\"></button>\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n            </ul>\\n            <li>\\n              <a></a>\\n            </li>\\n          </ul>\\n          <ul id=\\\"left-bottom\\\">\\n            <li><a routerLink=\\\"/teacher/{{this.username}}\\\"></a></li>\\n            <li><a (click)=\\\"this.exitLogin4()\\\"></a></li>\\n          </ul>\\n        </ul>\\n      </div>\\n\\n      <div id=\\\"right-part\\\" class=\\\"col-xs-6 col-sm-10\\\">\\n        <ul class=\\\"nav nav-tabs\\\">\\n          <li class=\\\"active\\\"><a routerLink=\\\"/mindmap\\\"></a></li>\\n          <li *ngIf=\\\"mindMap.get_selected_node()\\\"><a routerLink=\\\"/thomework/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.get_selected_nodeid()}}\\\"></a></li>\\n          <li *ngIf=\\\"mindMap.get_selected_node()\\\"><a routerLink=\\\"/tresource/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.get_selected_nodeid()}}\\\"></a></li>\\n          <li *ngIf=\\\"mindMap.get_selected_node()\\\"><a routerLink=\\\"/tcourseware/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{mindMap.get_selected_node().id}}\\\"></a></li>\\n          <!-- <li class=\\\"active\\\">\\n            <a routerLink=\\\"/mindmap\\\"></a>\\n          </li>\\n          <li *ngIf=\\\"mindMap.get_selected_node()\\\">\\n            <a routerLink=\\\"/thomework/{{this.lid}}/{{mindMap.get_selected_node().id}}\\\"></a>\\n          </li>\\n          <li *ngIf=\\\"mindMap.get_selected_node()\\\">\\n            <a routerLink=\\\"/tresource/{{this.lid}}/{{mindMap.get_selected_node().id}}\\\"></a>\\n          </li>\\n          <li *ngIf=\\\"mindMap.get_selected_node()\\\">\\n            <a routerLink=\\\"/tcourseware/{{this.lid}}/{{mindMap.get_selected_node().id}}\\\"></a>\\n          </li> -->\\n        </ul>\\n\\n        <div id=\\\"node-edit\\\" *ngIf=\\\"mindMap.get_selected_node()\\\">\\n          <div class=\\\"btn-group\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default dropdown-toggle\\\" data-toggle=\\\"dropdown\\\">\\n              \\n            </button>\\n            <ul class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n              <li>\\n                <a (click)=\\\"addBrotherNode()\\\"></a>\\n              </li>\\n\\n              <li>\\n                <a (click)=\\\"addChildNode()\\\"></a>\\n              </li>\\n            </ul>\\n          </div>\\n\\n          <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"removeNode()\\\"></button>\\n\\n          <div class=\\\"btn-group\\\">\\n             <input type=\\\"color\\\" value=\\\"value\\\" [(ngModel)]=\\\"nodeColor\\\" (ngModelChange)=\\\"changeNodeColor()\\\">\\n             <input type=\\\"color\\\" value=\\\"value\\\" [(ngModel)]=\\\"fontColor\\\" (ngModelChange)=\\\"changeFontColor()\\\">\\n            <!-- <button type=\\\"button\\\" class=\\\"btn btn-default dropdown-toggle\\\" data-toggle=\\\"dropdown\\\">\\n              \\n            </button>\\n            <ul class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n              <li>\\n                <a id=\\\"red\\\" (click)=\\\"changeNodeColor($event)\\\"></a>\\n              </li>\\n              <li>\\n                <a id=\\\"orange\\\" (click)=\\\"changeNodeColor($event)\\\"></a>\\n              </li>\\n              <li>\\n                <a id=\\\"green\\\" (click)=\\\"changeNodeColor($event)\\\"></a>\\n              </li>\\n              <li>\\n                <a id=\\\"gray\\\" (click)=\\\"changeNodeColor($event)\\\"></a>\\n              </li>\\n              <li>\\n                <a id=\\\"black\\\" (click)=\\\"changeNodeColor($event)\\\"></a>\\n              </li>\\n            </ul> -->\\n          </div>\\n          \\n        </div>\\n        <div id=\\\"jsmind_container\\\"></div> \\n      </div>\\n    </div>\\n  </div>\\n\\n  <script type=\\\"text/javascript\\\" src=\\\"../../jsmind/js/jsmind.screenshot.js\\\"></script>\\n</body>\"","import { Component, OnInit } from '@angular/core';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n// import { UserService } from '../../services/user.service';\n\nimport * as jsMind from '../../jsmind/js/jsmind.js';\nimport '../../jsmind/js/jsmind.screenshot.js'\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {MindMap} from '../../mindmap';\nimport {UserService} from '../../user.service';\nimport {Lesson} from '../../lesson';\nimport {Number} from '../../number';\nimport {Response} from '../../response';\n\nconst options = {\n  container:'jsmind_container',\n  theme:'orange',\n  editable:true,\n  mode :'side',\n}\n\n@Component({\n  selector: 'app-mindmap',\n  templateUrl: './mindmap.component.html',\n  styleUrls: ['./mindmap.component.css'],\n  // providers: [UserService]\n})\n\nexport class MindmapComponent implements OnInit {\n  title = '';\n  lid: string;\n  mmp: MindMap = new MindMap();\n  mindMap = null;\n\n  currentMap : number = 0;\n  createId : string;\n\n  user : any;\n  userId : any;\n  userType : any;\n  username: string;\n\n  show_hide_val1 : boolean =false;\n  show_hide_val2 : boolean =false;\n  show_hide_val3 : boolean =false;\n  items : any[] = [];\n  ids : string[] = [];\n  mapid: string;\n  nodeColor : string=\"#000000\";\n  fontColor : string=\"#ffffff\";\n\n  constructor(private route: ActivatedRoute, private userService: UserService, private router: Router) {\n    // this.user = this.userService.getUser();\n    // this.userId = this.user.userId;\n    // this.userType = this.user.userType;\n  }\n\n  ngOnInit() {\n    this.mindMap = new jsMind(options);\n    this.getID1();\n    this.getMindMap();\n  }\n\n  getID1() {\n    const lid = this.route.snapshot.paramMap.get('id');\n    console.log(lid);\n    this.lid = lid;\n    console.log(this.lid);\n    const username = this.route.snapshot.paramMap.get('username');\n    this.username = username;\n    this.userService.examineLogin(this.username)\n        .subscribe(data => {\n          let re = new Response();\n          re = data;\n          console.log(re.status);\n          if (re.status == \"online\") {\n          }else {\n            alert(\"\");\n            this.router.navigateByUrl('login');\n          }\n        });\n  }\n  creatMap() {\n    const mind1 = {\n      \"meta\":{\n        \"name\":\"jsMind mindMap\",\n        \"author\":\"zhang junjie\",\n        \"version\":\"0.2\"\n      },\n      \"format\":\"node_tree\",\n      \"data\":{\"id\":\"root\",\"topic\":\"\",\"children\":[\n        {\"id\":\"part\",\"topic\":\"\",\"direction\":\"right\",\"children\":[\n        ]},\n        {\"id\":\"part2\",\"topic\":\"\",\"direction\":\"right\",\"children\":[\n        ]},\n      ]}\n    }\n    if (this.ids.includes(this.createId)) {\n      alert(\"id\");\n      this.createId = null;\n      return;\n    }\n    this.ids.push(this.createId);\n    this.items.push(mind1);\n    this.changeMap(this.items.length - 1);\n    this.createId = null;\n    this.saveMindMap();\n    this.getMindMap();\n  }\n\n  changeMap(e) {\n    this.mapid=this.ids[e];\n    console.log(this.mapid);\n    this.currentMap = e;\n    this.mindMap.show(this.items[e]);\n  }\n\n  mapShoot() {\n    // this.mindMap.show(this.currentMap);\n    this.mindMap.screenshot.shootDownload();\n  }\n\n  removeNode() {\n    const selected_id = this.mindMap.get_selected_node();\n    if(!selected_id){\n      alert('');\n      return;\n    }\n    if(!selected_id.parent) {\n      window.alert('');\n      return;\n    }\n    this.mindMap.remove_node(selected_id);\n    this.items[this.currentMap] = this.mindMap.get_data(\"node_tree\");\n    this.saveMindMap();\n  }\n\n  get_selected_nodeid() {\n    const selected_node = this.mindMap.get_selected_node();\n    if (!!selected_node) {\n      console.log(selected_node.id);\n      return selected_node.id;\n    }\n  }\n\n  addChildNode() {\n    const selected_node = this.mindMap.get_selected_node();\n    if(!selected_node){\n      alert('');\n      return;\n    }\n    const nodeid = jsMind.util.uuid.newid();\n    const topic = '';\n    const node = this.mindMap.add_node(selected_node, nodeid, topic);\n    this.items[this.currentMap] = this.mindMap.get_data(\"node_tree\");\n    this.saveMindMap();\n  }\n\n  addBrotherNode(e) {\n    console.log(e)\n    const selected_node = this.mindMap.get_selected_node();\n    if(!selected_node){\n      alert('');\n      return;\n    }\n\n    if(!selected_node.parent){\n      alert('');\n      return;\n    }\n    const nodeid = jsMind.util.uuid.newid();\n    const topic = '';\n    const node = this.mindMap.add_node(selected_node.parent, nodeid, topic);\n    this.items[this.currentMap] = this.mindMap.get_data(\"node_tree\");\n    this.saveMindMap();\n  }\n\n  changeNodeColor() {\n    const selected_node = this.mindMap.get_selected_node();\n    console.log(selected_node);\n    console.log(this.nodeColor)\n    if(!selected_node){\n      alert('');\n      return;\n    }\n    this.mindMap.set_node_color(selected_node.id, this.nodeColor, null);\n    this.items[this.currentMap] = this.mindMap.get_data(\"node_tree\");\n    this.saveMindMap();\n  }\n\n  changeFontColor() {\n    const selected_node = this.mindMap.get_selected_node();\n    console.log(selected_node);\n    console.log(this.fontColor)\n    if(!selected_node){\n      alert('');\n      return;\n    }\n    this.mindMap.set_node_color(selected_node.id, null, this.fontColor);\n    this.items[this.currentMap] = this.mindMap.get_data(\"node_tree\");\n    this.saveMindMap();\n  }\n\n  showList1() {\n    this.show_hide_val1 = !this.show_hide_val1;\n  }\n\n  showList2() {\n    this.show_hide_val2 = !this.show_hide_val2;\n  }\n\n  showList3() {\n    this.show_hide_val3 = !this.show_hide_val3;\n  }\n\n  saveMindMap() {\n    this.mmp.lid = this.lid;\n    this.mmp.items = this.items;\n    this.userService.saveMindMap(this.mmp)\n        .subscribe(data => {\n          console.log(data);\n        });\n    let num = new Number();\n    num.lid = this.lid;\n    num.ids = this.ids;\n    this.userService.saveNum(num)\n        .subscribe(data => {\n          console.log(data);\n        });\n\n  }\n\n  getMindMap(){\n    let lesson = new Lesson();\n    lesson.id = this.lid;\n    this.userService.getMindMap(lesson)\n        .subscribe(data => {\n          console.log(data);\n          if(data == null){\n          }else {\n            let mindmap = new MindMap();\n            mindmap = data;\n            this.items = mindmap.items;\n          }\n        });\n    this.userService.getNum(lesson)\n        .subscribe(data => {\n          console.log(data);\n          if(data == null){\n          }else {\n            let number = new Number();\n            number = data;\n            this.ids = number.ids;\n          }\n        });\n  }\n  exitLogin4() {\n    this.userService.exitLogin(this.username)\n        .subscribe(data => {\n          alert(\"\");\n          this.router.navigateByUrl('login');\n        });\n  }\n}","module.exports = \"#jsmind_container {\\r\\n    float: left;\\r\\n    width: 80%;\\r\\n    height: 80%;\\r\\n}\\r\\n\\r\\n\\r\\n*{ margin:0; padding: 0; }\\r\\n\\r\\n\\r\\n#left-nav{\\r\\n    position:fixed;\\r\\n    top:0;\\r\\n    left:0;\\r\\n    width:7cm;\\r\\n    height:100%;\\r\\n    background-color:#373737;z-index:9999;\\r\\n}\\r\\n\\r\\n\\r\\n#right-part{\\r\\n    top:0;\\r\\n    left: 2cm;\\r\\n    min-height: 600px;\\r\\n}\\r\\n\\r\\n\\r\\na:hover ,a:focus{text-decoration:none}\\r\\n\\r\\n\\r\\n.nav-total{\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n\\r\\n.nav-tabs {\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n\\r\\n.nav-tabs li a {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.nav-collapse li{\\r\\n    /* float: left; */\\r\\n    padding:5% 0;  \\r\\n    position: relative;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n\\r\\n.nav-collapse li a {\\r\\n    color:gray;\\r\\n    display:block;\\r\\n    padding:5% 5%;    \\r\\n    /* border-top:1px solid #4f4f4f;\\r\\n    border-bottom:1px solid #292929; */\\r\\n    transition:all 0.2s ease-out;\\r\\n    cursor:pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.nav-collapse li a:hover {\\r\\n    background-color: #4f4f4f;\\r\\n    color: #ffffff;\\r\\n}\\r\\n\\r\\n\\r\\n.nav-collapse li a:focus {\\r\\n    background-color: #4f4f4f;\\r\\n    color: #ffffff;\\r\\n}\\r\\n\\r\\n\\r\\n#left-bottom {\\r\\n    position: absolute;\\r\\n    bottom: 0px;\\r\\n}\\r\\n\\r\\n\\r\\n.btn{\\r\\n    margin: 2% 0 0 5%;\\r\\n}\\r\\n\\r\\n\\r\\n.btn-group{\\r\\n    margin: 2% 0 0 5%;\\r\\n}\\r\\n\\r\\n\\r\\n.childList{\\r\\n    padding-left: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.dropdown-menu li a {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.card{\\r\\n    width: 80%;\\r\\n    float: left;\\r\\n    margin: 2% 0 0 5%;\\r\\n}\\r\\n\\r\\n\\r\\n.card-header{\\r\\n    padding: 3% 2% 0% 2%;\\r\\n}\\r\\n\\r\\n\\r\\n.card-body{\\r\\n    padding: 1% 2% 1% 2%;\\r\\n}\\r\\n\\r\\n\\r\\n.delete{\\r\\n    float: right;\\r\\n    margin: 0 0 2% 0;\\r\\n}\\r\\n\\r\\n\\r\\n.panel-default{\\r\\n  margin-top: 20px;\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\n\\r\\ndiv.queue-operation button{\\r\\n  margin-left:2px;\\r\\n}\\r\\n\\r\\n\\r\\ntbody.upload-queue button{\\r\\n  margin: 2px;\\r\\n}\\r\\n\\r\\n\\r\\ntable td{word-break: keep-all;white-space:nowrap;}\\r\\n\"","module.exports = \"\\r\\n<head>\\r\\n  <meta charset=\\\"utf-8\\\">\\r\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">\\r\\n</head>\\r\\n\\r\\n<body>\\r\\n<div class=\\\"container\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div id=\\\"left-nav\\\" class=\\\"col-xs-6 col-sm-2\\\">\\r\\n      <ul class=\\\"nav-collapse\\\">\\r\\n        <li><a (click)=\\\"showList1()\\\">  <span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></li>\\r\\n        <ul class=\\\"childList\\\" *ngIf=\\\"show_hide_val1\\\">\\r\\n          <li style=\\\"color: gray\\\"></li>\\r\\n          <li><a data-toggle=\\\"modal\\\" data-target=\\\"#myModal2\\\"></a></li>\\r\\n\\r\\n          <div class=\\\"modal fade\\\" id=\\\"myModal2\\\">\\r\\n            <div class=\\\"modal-dialog\\\">\\r\\n              <div class=\\\"modal-content\\\">\\r\\n\\r\\n                <!--  -->\\r\\n                <div class=\\\"modal-header\\\">\\r\\n                  <h4 class=\\\"modal-title\\\"></h4>\\r\\n                  <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n                </div>\\r\\n\\r\\n                <!--  -->\\r\\n                <div class=\\\"modal-body\\\">\\r\\n                  <li><input type=\\\"file\\\" id = \\\"selectfile\\\" (change)=\\\"selectFile($event)\\\"></li>\\r\\n                  <li><input type=\\\"text\\\" id = \\\"fd\\\" placeholder=\\\"\\\" [(ngModel)]=\\\"linkcontent\\\" name=\\\"linkcontent\\\" class=\\\"form-control\\\"></li>\\r\\n                </div>\\r\\n\\r\\n                <!--  -->\\r\\n                <div class=\\\"modal-footer\\\">\\r\\n                  <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\"></button>\\r\\n                  <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\" (click)=\\\"addFile()\\\"></button>\\r\\n                </div>\\r\\n\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n        </ul>\\r\\n        <ul id=\\\"left-bottom\\\">\\r\\n          <li><a routerLink=\\\"/teacher/{{this.username}}\\\"></a></li>\\r\\n          <li><a (click)=\\\"this.exitLogin3()\\\"></a></li>\\r\\n        </ul>\\r\\n      </ul>\\r\\n      \\r\\n    </div>\\r\\n\\r\\n    <div id=\\\"right-part\\\" class=\\\"col-xs-6 col-sm-10\\\">\\r\\n      <ul class=\\\"nav nav-tabs\\\">\\r\\n        <li><a routerLink=\\\"/mindmap/{{this.username}}/{{this.lid}}\\\"></a></li>\\r\\n        <li><a routerLink=\\\"/thomework/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\r\\n        <li><a routerLink=\\\"/tresource/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\r\\n        <li class=\\\"active\\\"><a></a></li>\\r\\n      </ul>\\r\\n\\r\\n      <div id=\\\"node-edit\\\" >\\r\\n          <span>\\r\\n            <div>\\r\\n              <div class=\\\"panel panel-default\\\">\\r\\n                <h3></h3>\\r\\n                   <table class=\\\"table table-bordered table-striped\\\" >\\r\\n                    <thead>\\r\\n                    <tr>\\r\\n                      <th width=\\\"10%\\\"></th>\\r\\n                      <th width=\\\"5%\\\"></th>\\r\\n                      <th width=\\\"20%\\\"></th>\\r\\n                      <th width=\\\"20%\\\"></th>\\r\\n                      <th width=\\\"25%\\\"></th>\\r\\n                      <th width=\\\"20%\\\"></th>\\r\\n                    </tr>\\r\\n                    </thead>\\r\\n\\r\\n                    <tbody class = \\\"upload-queue\\\">\\r\\n                      <tr *ngFor=\\\"let item of uploader.queue\\\">\\r\\n                        <td width=\\\"10%\\\"><strong>{{ item?.file?.name }}</strong></td>\\r\\n                        <td width=\\\"5%\\\" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>\\r\\n                        <td width=\\\"20%\\\">\\r\\n                          <div [ngStyle]=\\\"{ 'width': item.progress + '%' }\\\"></div>\\r\\n                        </td>\\r\\n                        <td width=\\\"20%\\\">\\r\\n                          <span *ngIf=\\\"item.isSuccess\\\">OK</span>\\r\\n                          <span *ngIf=\\\"item.isCancel\\\">Cancel</span>\\r\\n                          <span *ngIf=\\\"item.isError\\\">Error</span>\\r\\n                        </td>\\r\\n                        <td width=\\\"25%\\\">\\r\\n                          <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"item.upload()\\\" [disabled]=\\\"item.isReady || item.isUploading || item.isSuccess\\\">\\r\\n                            \\r\\n                          </button>\\r\\n                          <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"item.cancel()\\\" [disabled]=\\\"!item.isUploading\\\">\\r\\n                            \\r\\n                          </button>\\r\\n                          <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"removeFile(item)\\\">\\r\\n                            \\r\\n                          </button>\\r\\n                        </td>\\r\\n                        <td width=\\\"20%\\\">\\r\\n                          {{filedescription.get(uploader.queue.indexOf(item))}}\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                 <div>\\r\\n                  <p>: {{ uploader?.queue?.length }}</p>\\r\\n                  :\\r\\n                  <div class=\\\"progress\\\" style=\\\"\\\">\\r\\n                          <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" [ngStyle]=\\\"{ 'width': uploader.progress + '%' }\\\"></div>\\r\\n                  </div>\\r\\n                  <div class=\\\"panel panel-default queue-operation\\\">\\r\\n                    \\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"uploader.uploadAll()\\\" [disabled]=\\\"!uploader.getNotUploadedItems().length\\\">\\r\\n                      \\r\\n                    </button>\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"uploader.cancelAll()\\\" [disabled]=\\\"!uploader.isUploading\\\">\\r\\n                      \\r\\n                    </button>\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"removeAll()\\\" [disabled]=\\\"!uploader.queue.length\\\">\\r\\n                      \\r\\n                    </button>\\r\\n                  </div>\\r\\n                 </div>\\r\\n              </div>\\r\\n              <div class=\\\"panel panel-default\\\">\\r\\n                <h3></h3>\\r\\n                <table class=\\\"table table-bordered table-striped\\\">\\r\\n                  <thead>\\r\\n                    <tr>\\r\\n                      <th width=\\\"25%\\\"></th>\\r\\n                      <th width=\\\"50%\\\"></th>\\r\\n                      <th width=\\\"25%\\\"></th>\\r\\n                    </tr>\\r\\n                  </thead>\\r\\n                  <tbody>\\r\\n                    <tr *ngFor=\\\"let item of filenames\\\">\\r\\n                      <td width=\\\"25%\\\"><strong>{{ item.filename }}</strong></td>\\r\\n                      <td width=\\\"50%\\\">{{ item.fd }}</td>\\r\\n                      <td width=\\\"25%\\\">\\r\\n                        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"this.downloadfile(item.filename)\\\">\\r\\n                          download\\r\\n                        </button>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </tbody>\\r\\n                </table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </span>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<script type=\\\"text/javascript\\\" src=\\\"../../jsmind/js/jsmind.screenshot.js\\\"></script>\\r\\n</body>\\r\\n\"","import { Component, OnInit, ElementRef} from '@angular/core';\r\nimport {FileUploader, FileSelectDirective, FileItem, ParsedResponseHeaders} from 'ng2-file-upload';\r\nimport {RestService} from '../../download.service';\r\nimport { UpFiles} from '../../upfiles';\r\nimport {Upfile} from '../../upfile';\r\nimport {UserService} from '../../user.service';\r\nimport {LinkedList} from 'ngx-bootstrap';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {MPNode} from '../../MPNode';\r\nimport {el} from '@angular/platform-browser/testing/src/browser_util';\r\nimport {Response} from '../../response';\r\n@Component({\r\n  selector: 'app-tcourseware',\r\n  templateUrl: './tcourseware.component.html',\r\n  styleUrls: ['./tcourseware.component.css']\r\n})\r\nexport class TcoursewareComponent implements OnInit {\r\n  show_hide_val1: boolean = false;\r\n  upfiles: UpFiles = new UpFiles();\r\n  filenames: Upfile[];\r\n  lid: string;\r\n  node_id: string;\r\n  mapid: string;\r\n  username: string;\r\n  constructor(private router: Router,private route: ActivatedRoute, private restService: RestService, private userService: UserService , private elementRef: ElementRef) { }\r\n\r\n\r\n  public url: string = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/upload/';\r\n  public uploader: FileUploader = new FileUploader({url: this.url});\r\n  selectedFiles: FileList;\r\n  public filedescription: LinkedList<string> = new LinkedList();\r\n\r\n  showFile() {\r\n    let mpnode = new MPNode();\r\n    mpnode.lid=this.lid;\r\n    mpnode.node_id=this.node_id;\r\n    console.log(mpnode);\r\n    mpnode.mapid=this.mapid;\r\n    this.userService.showWare(mpnode).subscribe(data => {\r\n      console.log(data);\r\n      if(data ===null){\r\n      }else{\r\n        this.upfiles.list = data;\r\n        this.update(this.upfiles);\r\n      }\r\n    });\r\n  }\r\n  getID1() {\r\n    const lid = this.route.snapshot.paramMap.get('lid');\r\n    const mapid = this.route.snapshot.paramMap.get('mapid');\r\n    this.mapid=mapid;\r\n    console.log(lid);\r\n    this.lid = lid;\r\n    console.log(this.lid);\r\n    const node_id = this.route.snapshot.paramMap.get('node_id');\r\n    this.node_id = node_id;\r\n    this.url='http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/upload_ware/'+this.lid+\"/\"+this.node_id+\"/\"+this.mapid;\r\n    console.log(this.url);\r\n    this.uploader=new FileUploader({url: this.url});\r\n    const username = this.route.snapshot.paramMap.get('username');\r\n    this.username = username;\r\n    this.userService.examineLogin(this.username)\r\n        .subscribe(data => {\r\n          let re = new Response();\r\n          re = data;\r\n          console.log(re.status);\r\n          if (re.status == \"online\") {\r\n          }else {\r\n            alert(\"\");\r\n            this.router.navigateByUrl('login');\r\n          }\r\n        });\r\n  }\r\n\r\n  update(upfiles: UpFiles) {\r\n    let tmp = new Upfile();\r\n    this.filenames = [];\r\n    console.log(upfiles.list.length);\r\n    for (let i = 0; i < upfiles.list.length; i ++) {\r\n      tmp.lid = upfiles.list[i].lid;\r\n      tmp.filename = upfiles.list[i].filename;\r\n      tmp.fd = upfiles.list[i].fd;\r\n      this.filenames.push(tmp);\r\n      tmp = new Upfile();\r\n    }\r\n  }\r\n\r\n  selectFile(event) {\r\n    console.log('select file');\r\n    this.selectedFiles = event.target.files;\r\n  }\r\n\r\n  addFile() {\r\n    const file = [];\r\n    file.push(this.selectedFiles.item(0));\r\n    const filedescribe = this.elementRef.nativeElement.querySelector('#fd').value;\r\n    console.log('filedescribe: ' + filedescribe);\r\n    this.filedescription.push(filedescribe);\r\n    console.log('filedescription: ');\r\n    console.log(this.filedescription);\r\n    this.uploader.addToQueue(file);\r\n  }\r\n\r\n  removeFile(item: FileItem) {\r\n    const index = this.uploader.queue.indexOf(item);\r\n    this.filedescription.remove(index);\r\n    item.remove();\r\n  }\r\n\r\n  removeAll() {\r\n    const length = this.filedescription.length;\r\n    for (let i = 0; i < length; i++) {\r\n      this.filedescription.remove(0);\r\n    }\r\n    this.uploader.clearQueue();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getID1();\r\n    this.showFile();\r\n    this.uploader.onAfterAddingFile = this.afterAddingFile;\r\n    this.uploader.onSuccessItem = this.afterSuccess.bind(this);\r\n  }\r\n\r\n  afterAddingFile(fileitem: FileItem): any {\r\n    fileitem.withCredentials = false;\r\n    console.log(fileitem);\r\n  }\r\n  afterSuccess(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n    const index = this.uploader.queue.indexOf(item);\r\n    const fd = this.filedescription.get(index);\r\n    alert(\"\");\r\n    console.log(\"upload fd\");\r\n    this.restService.uploadFileDescription1(item.file.name, fd, this.lid, this.node_id,this.mapid)\r\n        .subscribe(data => {\r\n          console.log(data);\r\n          this.showFile();\r\n        });\r\n  }\r\n  showList1() {\r\n    this.show_hide_val1 = !this.show_hide_val1;\r\n  }\r\n  downloadfile(filename) {\r\n    console.log('downloadfile start');\r\n    this.restService.download1(filename, this.lid,this.mapid);\r\n  }\r\n  exitLogin3() {\r\n    this.userService.exitLogin(this.username)\r\n        .subscribe(data => {\r\n          alert(\"\");\r\n          this.router.navigateByUrl('login');\r\n        });\r\n  }\r\n}\r\n","module.exports = \"#jsmind_container {\\n    float: left;\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n\\n*{ margin:0; padding: 0; }\\n\\n\\n#left-nav{\\n    position:fixed;\\n    top:0;\\n    left:0;\\n    width: 7cm;\\n    height:100%;\\n    background-color:#373737;z-index:9999;\\n}\\n\\n\\n#right-part{\\n    top:0;\\n    left: 2cm;\\n    min-height: 600px;\\n}\\n\\n\\na:hover ,a:focus{text-decoration:none}\\n\\n\\n.nav-total{\\n    float: left;\\n}\\n\\n\\n.nav-tabs {\\n    font-size: 15px;\\n}\\n\\n\\n.nav-tabs li a {\\n    cursor: pointer;\\n}\\n\\n\\n.nav-collapse li{\\n    /* float: left; */\\n    padding:5% 0;  \\n    position: relative;\\n    display: block;\\n}\\n\\n\\n.nav-collapse li a {\\n    color:gray;\\n    display:block;\\n    padding:5% 5%;    \\n    /* border-top:1px solid #4f4f4f;\\n    border-bottom:1px solid #292929; */\\n    transition:all 0.2s ease-out;\\n    cursor:pointer;\\n}\\n\\n\\n.nav-collapse li a:hover {\\n    background-color: #4f4f4f;\\n    color: #ffffff;\\n}\\n\\n\\n.nav-collapse li a:focus {\\n    background-color: #4f4f4f;\\n    color: #ffffff;\\n}\\n\\n\\n#left-bottom {\\n    position: absolute;\\n    bottom: 0px;\\n}\\n\\n\\n.btn{\\n    float: right;\\n    margin: 2% 0 0 5%;\\n}\\n\\n\\n.childList{\\n    padding-left: 10px;\\n}\\n\\n\\n.dropdown-menu li a {\\n    cursor: pointer;\\n}\\n\\n\\n.card{\\n    width: 100%;\\n    float: left;\\n    margin: 2% 0 0 3%;   \\n}\\n\\n\\n.card-header{\\n    padding: 3% 2% 0 2%;\\n}\\n\\n\\n.card-body{\\n    padding: 1% 2% 1% 2%;\\n}\\n\\n\\n.card-body label {\\n    float: right;\\n    margin: 5% 0 0 0;\\n}\\n\\n\\n.delete{\\n    float: right;\\n    margin: 0 0 2% 0;\\n}\\n\\n\\n.modal-body {\\n    text-align: right;\\n}\\n\\n\\n.modal-body div{\\n    margin-bottom: 3%;\\n}\\n\\n\\n.checkbox label{\\n    float: left;\\n    margin: 0 0 0 3%;\\n}\\n\\n\\n.checkbox input[type=\\\"checkbox\\\"] {\\n    cursor: pointer;\\n}\\n\\n\\n/* .row label{\\n    margin-left: 5%;\\n} */\\n\\n\\n/* \\n.modal-body label{\\n    margin: 2% 0 0 2%;\\n} */\\n\\n\\n/* .form-control{\\n    width: 100%;\\n    margin-top: 2%;\\n} */\"","module.exports = \"<head> \\n  <meta charset=\\\"utf-8\\\"> \\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">\\n</head>\\n\\n<body>\\n  <div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n      <div id=\\\"left-nav\\\" class=\\\"col-xs-2 col-sm-2\\\">\\n        <ul class=\\\"nav-collapse\\\">\\n          <li><a (click)=\\\"showList1()\\\">  <span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></a></li>\\n          <ul class=\\\"childList\\\" *ngIf=\\\"show_hide_val1\\\">\\n              <li style=\\\"color: gray\\\"></li>\\n              <li><a data-toggle=\\\"modal\\\" data-target=\\\"#myModal1\\\"></a></li>\\n              <div class=\\\"modal fade\\\" id=\\\"myModal1\\\">\\n                <div class=\\\"modal-dialog\\\">\\n                  <div class=\\\"modal-content\\\">\\n               \\n                    <!--  -->\\n                    <div class=\\\"modal-header\\\">\\n                      <h4 class=\\\"modal-title\\\"></h4>\\n                      <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n                    </div>\\n               \\n                    <!--  -->\\n                    <div class=\\\"modal-body\\\">\\n                        <div class=\\\"row\\\">\\n                            <div class=\\\"col-md-3\\\">\\n                                <label></label>\\n                            </div>\\n                            <div class=\\\"col-md-9\\\">\\n                                <input type=\\\"text\\\" [(ngModel)]=\\\"this.selectQ.title\\\" name=\\\"lessonid\\\" class=\\\"form-control\\\">\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"row\\\">\\n                            <div class=\\\"col-md-3\\\">\\n                                <label>A</label>\\n                            </div>\\n                            <div class=\\\"col-md-9\\\">\\n                                <input type=\\\"text\\\" [(ngModel)]=\\\"this.selectQ.a1\\\" name=\\\"lessonid\\\" class=\\\"form-control\\\">\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"row\\\">\\n                            <div class=\\\"col-md-3\\\">\\n                                <label>B</label>\\n                            </div>\\n                            <div class=\\\"col-md-9\\\">\\n                                <input type=\\\"text\\\" [(ngModel)]=\\\"this.selectQ.a2\\\" name=\\\"lessonid\\\" class=\\\"form-control\\\">\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"row\\\">\\n                            <div class=\\\"col-md-3\\\">\\n                                <label>C</label>\\n                            </div>\\n                            <div class=\\\"col-md-9\\\">\\n                                <input type=\\\"text\\\" [(ngModel)]=\\\"this.selectQ.a3\\\" name=\\\"lessonid\\\" class=\\\"form-control\\\">\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"row\\\">\\n                            <div class=\\\"col-md-3\\\">\\n                                <label>D</label>\\n                            </div>\\n                            <div class=\\\"col-md-9\\\">\\n                                <input type=\\\"text\\\" [(ngModel)]=\\\"this.selectQ.a4\\\" name=\\\"lessonid\\\" class=\\\"form-control\\\">\\n                            </div>\\n                        </div>\\n                        \\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-md-3\\\">\\n                              <label></label>\\n                          </div>\\n                          <div class=\\\"col-md-9\\\">\\n                              <div class=\\\"checkbox\\\">\\n                                  <label class=\\\"answer\\\">\\n                                      <input type=\\\"checkbox\\\" [(ngModel)]=\\\"answer1\\\">A \\n                                  </label>\\n                                  <label class=\\\"answer\\\">\\n                                      <input type=\\\"checkbox\\\" [(ngModel)]=\\\"answer2\\\">B \\n                                  </label>\\n                                  <label class=\\\"answer\\\">\\n                                      <input type=\\\"checkbox\\\" [(ngModel)]=\\\"answer3\\\">C \\n                                  </label>\\n                                  <label class=\\\"answer\\\">\\n                                      <input type=\\\"checkbox\\\" [(ngModel)]=\\\"answer4\\\">D \\n                                  </label> \\n                              </div>\\n                          </div>\\n\\n                        </div>\\n                        \\n                    </div>\\n               \\n                    <!--  -->\\n                    <div class=\\\"modal-footer\\\">\\n                      <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\"></button>\\n                      <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\" (click)=\\\"addQuestion0()\\\" ng-disabled=\\\"\\\"></button>\\n                    </div>\\n               \\n                  </div>\\n                </div>\\n               </div>\\n\\n              <li><a data-toggle=\\\"modal\\\" data-target=\\\"#myModal2\\\"></a></li>\\n              <div class=\\\"modal fade\\\" id=\\\"myModal2\\\">\\n                <div class=\\\"modal-dialog\\\">\\n                  <div class=\\\"modal-content\\\">\\n               \\n                    <!--  -->\\n                    <div class=\\\"modal-header\\\">\\n                      <h4 class=\\\"modal-title\\\"></h4>\\n                      <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\n                    </div>\\n               \\n                    <!--  -->\\n                    <div class=\\\"modal-body\\\">\\n                        <div class=\\\"row\\\">\\n                            <div class=\\\"col-md-3\\\">\\n                                <label></label>\\n                            </div>\\n                            <div class=\\\"col-md-9\\\">\\n                                <input type=\\\"text\\\" [(ngModel)]=\\\"this.descripQ.title\\\" name=\\\"lessonid\\\" class=\\\"form-control\\\">\\n                            </div>\\n                        </div>\\n                    </div>\\n               \\n                    <!--  -->\\n                    <div class=\\\"modal-footer\\\">\\n                      <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\"></button>\\n                      <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\" (click)=\\\"addQuestion1()\\\"></button>\\n                    </div>\\n               \\n                  </div>\\n                </div>\\n               </div>\\n\\n            </ul>\\n            <ul id=\\\"left-bottom\\\">\\n                <li><a routerLink=\\\"/teacher/{{this.username}}\\\"></a></li>\\n                <li><a (click)=\\\"this.exitLogin2()\\\"></a></li>\\n              </ul>\\n      </ul>\\n      \\n      </div>\\n\\n      <div id=\\\"right-part\\\" class=\\\"col-xs-6 col-sm-10\\\">\\n        <ul class=\\\"nav nav-tabs\\\">\\n          <li><a routerLink=\\\"/mindmap/{{this.username}}/{{this.lid}}\\\"></a></li>\\n          <li class=\\\"active\\\"><a routerLink=\\\"/thomework/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\n          <li><a routerLink=\\\"/tresource/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\n          <li><a routerLink=\\\"/tcourseware/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\n        </ul>\\n   \\n        <div class=\\\"card\\\" *ngFor=\\\"let item of homeworks\\\">\\n            <div class=\\\"card-header\\\">{{item[1]}}<button type=\\\"button\\\" class=\\\"delete btn btn-default\\\" (click)=\\\"removeHomework(item)\\\"></button></div>\\n            <div class=\\\"card-body\\\" *ngIf=\\\"item[0]==0\\\">\\n                <div class=\\\"checkbox\\\" *ngFor=\\\"let question of item[2]\\\">\\n                    <label>\\n                      <input type=\\\"checkbox\\\" >{{question}}\\n                    </label>\\n                </div>\\n                <label>\\n                    {{item[3]}} {{item[4]}}\\n                </label>\\n            </div>\\n            <div class=\\\"card-body\\\" *ngIf=\\\"item[0]==1\\\">\\n                <textarea class=\\\"form-control\\\" rows=\\\"5\\\"></textarea>\\n            </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <script type=\\\"text/javascript\\\" src=\\\"../../jsmind/js/jsmind.screenshot.js\\\"></script>\\n</body>\\n\"","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {SelectQ} from '../../selectQ';\nimport {UserService} from '../../user.service';\nimport {MPNode} from '../../MPNode';\nimport {el} from '@angular/platform-browser/testing/src/browser_util';\nimport {DescripQ1} from '../../descripQ';\nimport {Response} from '../../response';\n\n@Component({\n  selector: 'app-thomework',\n  templateUrl: './thomework.component.html',\n  styleUrls: ['./thomework.component.css']\n})\nexport class ThomeworkComponent implements OnInit {\n\n  homeworks : any[];\n  show_hide_val1 : boolean = false;\n\n  question0 : string; //\n  choice1 : string;\n  choice2 : string;\n  choice3 : string;\n  choice4 : string;\n  answer1 : boolean = false;\n  answer2 : boolean = false;\n  answer3 : boolean = false;\n  answer4 : boolean = false;\n\n  question1 : string; //\n\n  lid: string;\n  node_id: string;\n  selectQ: SelectQ = new SelectQ();\n  Q0sum: SelectQ[];\n  descripQ: DescripQ1 = new DescripQ1();\n  Q1sum: DescripQ1[];\n  username: string;\n  mapid: string;\n  constructor(private router: Router,private route: ActivatedRoute, private userService: UserService) { }\n\n  ngOnInit() {\n     this.homeworks = [];\n    this.getID1();\n  }\n\n  getID1() {\n    const mapid = this.route.snapshot.paramMap.get('mapid');\n    this.mapid=mapid;\n    const lid = this.route.snapshot.paramMap.get('lid');\n    console.log(lid);\n    this.lid = lid;\n    console.log(this.lid);\n    const node_id = this.route.snapshot.paramMap.get('node_id');\n    this.node_id = node_id;\n    console.log(this.node_id);\n    let mpNode = new MPNode();\n    mpNode.lid = this.lid;\n    mpNode.node_id= this.node_id;\n    mpNode.mapid=this.mapid\n    const username = this.route.snapshot.paramMap.get('username');\n    this.username = username;\n    this.userService.examineLogin(this.username)\n        .subscribe(data => {\n          let re = new Response();\n          re = data;\n          console.log(re.status);\n          if (re.status == \"online\") {\n          }else {\n            alert(\"\");\n            this.router.navigateByUrl('login');\n          }\n          this.userService.getQ0(mpNode)\n              .subscribe(data => {\n                console.log(data);\n                if(data == null){\n                } else {\n                  this.Q0sum = data;\n                  console.log(this.Q0sum);\n                  for(let i = 0;i<this.Q0sum.length;i++){\n                    let tmp = [];\n                    let choice = [];\n                    choice.push(this.Q0sum[i].a1, this.Q0sum[i].a2, this.Q0sum[i].a3, this.Q0sum[i].a4);\n                    tmp.push('0');\n                    tmp.push(this.Q0sum[i].title);\n                    tmp.push(choice);\n                    tmp.push(this.Q0sum[i].trueA);\n                    console.log(this.Q0sum[i].rate);\n                    tmp.push(this.Q0sum[i].rate);\n                    this.homeworks.push(tmp);\n                  }\n                }\n                this.userService.getQ1(mpNode)\n                    .subscribe(data => {\n                      console.log(data);\n                      if(data == null){\n                      } else {\n                        this.Q1sum = data;\n                        console.log(this.Q1sum);\n                        for(let i = 0;i<this.Q1sum.length;i++){\n                          let tmp = [];\n                          tmp.push('1');\n                          tmp.push(this.Q1sum[i].title);\n                          tmp.push([]);\n                          tmp.push([]);\n                          this.homeworks.push(tmp);\n                        }\n                      }\n                    });\n              });\n        });\n  }\n\n\n\n  showList1() {\n    this.show_hide_val1 = !this.show_hide_val1;\n  }\n\n  removeHomework(homework : any[]) {\n    if(homework[0] === \"0\"){\n      let sq=new SelectQ();\n      sq.lid=this.lid;\n      sq.node_id=this.node_id;\n      sq.mapid=this.mapid;\n      sq.title=homework[1];\n      console.log(sq);\n      this.userService.removeQ0(sq)\n          .subscribe(data => {\n            alert(\"\");\n          });\n    }else{\n      let sq=new DescripQ1();\n      sq.lid=this.lid;\n      sq.node_id=this.node_id;\n      sq.mapid=this.mapid;\n      sq.title=homework[1];\n      console.log(sq);\n      this.userService.removeQ1(sq)\n          .subscribe(data => {\n            alert(\"\");\n          });\n    }\n    this.homeworks.splice(this.homeworks.indexOf(homework, 0), 1);\n  }\n\n  addQuestion0() {\n    for (let i = 0; i < this.homeworks.length; i++) {\n      if (this.homeworks[i][1] == this.selectQ.title) {\n        alert(\"\");\n        return;\n      }\n    }\n    let tmp = [];\n    let choice = [];\n    choice.push(this.selectQ.a1, this.selectQ.a2, this.selectQ.a3, this.selectQ.a4);\n    let answer = [];\n    if (this.answer1) {\n      answer.push('A');\n    }\n    if (this.answer2) {\n      answer.push('B');\n    }\n    if (this.answer3) {\n      answer.push('C');\n    }\n    if (this.answer4) {\n      answer.push('D');\n    }\n    this.selectQ.trueA = answer;\n    tmp.push('0');\n    tmp.push(this.selectQ.title);\n    tmp.push(choice);\n    tmp.push(answer);\n    this.homeworks.push(tmp);\n    this.answer1 = false;\n    this.answer2 = false;\n    this.answer3 = false;\n    this.answer4 = false;\n    this.selectQ.lid=this.lid;\n    this.selectQ.node_id=this.node_id;\n    this.selectQ.mapid=this.mapid;\n    console.log(this.selectQ);\n    this.userService.addQ0(this.selectQ)\n        .subscribe(data => {\n          alert(\"\");\n          this.selectQ=new SelectQ();\n        });\n  }\n\n  addQuestion1() {\n    for (let i = 0; i < this.homeworks.length; i++) {\n      if (this.homeworks[i][1] == this.descripQ.title) {\n        alert(\"\");\n        return;\n      }\n    }\n    let tmp = [];\n    tmp.push('1');\n    tmp.push(this.descripQ.title);\n    tmp.push([]);\n    tmp.push([]);\n    this.homeworks.push(tmp);\n    this.descripQ.lid =this.lid;\n    this.descripQ.node_id=this.node_id;\n    this.descripQ.mapid=this.mapid;\n    this.userService.addQ1(this.descripQ)\n        .subscribe(data => {\n          alert(\"\");\n          this.descripQ=new DescripQ1();\n        });\n  }\n  exitLogin2() {\n    this.userService.exitLogin(this.username)\n        .subscribe(data => {\n          alert(\"\");\n          this.router.navigateByUrl('login');\n        });\n  }\n\n}\n","module.exports = \"*{ margin:0; padding: 0; }\\r\\n\\r\\n#left-nav{\\r\\n  position:fixed;\\r\\n  top:0;\\r\\n  left:0;\\r\\n  width: 7cm;\\r\\n  height:100%;\\r\\n  background-color:#373737;z-index:9999;\\r\\n}\\r\\n\\r\\n#right-part{\\r\\n  top:0;\\r\\n  left: 2cm;\\r\\n  min-height: 600px;\\r\\n}\\r\\n\\r\\na:hover ,a:focus{text-decoration:none}\\r\\n\\r\\n.nav-total{\\r\\n  float: left;\\r\\n}\\r\\n\\r\\n.nav-tabs {\\r\\n  font-size: 15px;\\r\\n}\\r\\n\\r\\n.nav-tabs li a {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.nav-collapse li{\\r\\n  /* float: left; */\\r\\n  padding:5% 0;  \\r\\n  position: relative;\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.nav-collapse li a {\\r\\n  color:gray;\\r\\n  display:block;\\r\\n  padding:5% 5%;    \\r\\n  /* border-top:1px solid #4f4f4f;\\r\\n  border-bottom:1px solid #292929; */\\r\\n  transition:all 0.2s ease-out;\\r\\n  cursor:pointer;\\r\\n}\\r\\n\\r\\n.nav-collapse li a:hover {\\r\\n  background-color: #4f4f4f;\\r\\n  color: #ffffff;\\r\\n}\\r\\n\\r\\n.nav-collapse li a:focus {\\r\\n  background-color: #4f4f4f;\\r\\n  color: #ffffff;\\r\\n}\\r\\n\\r\\n#left-bottom {\\r\\n  position: absolute;\\r\\n  bottom: 0px;\\r\\n}\\r\\n\\r\\n.modal-body li{\\r\\n  margin-bottom: 3%;\\r\\n}\\r\\n\\r\\n.btn{\\r\\n  margin: 2% 0 0 5%;\\r\\n}\\r\\n\\r\\n.btn-group{\\r\\n  margin: 2% 0 0 5%;\\r\\n}\\r\\n\\r\\n.childList{\\r\\n  padding-left: 10px;\\r\\n}\\r\\n\\r\\n.dropdown-menu li a {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.panel-default{\\r\\n  margin-top: 20px;\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\ndiv.queue-operation button{\\r\\n  margin-left:2px;\\r\\n}\\r\\n\\r\\ntbody.upload-queue button{\\r\\n  margin: 2px;\\r\\n}\\r\\n\\r\\ntable td{word-break: keep-all;white-space:nowrap;}\\r\\n\"","module.exports = \"\\r\\n<head>\\r\\n    <meta charset=\\\"utf-8\\\">\\r\\n    <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\\\">\\r\\n  </head>\\r\\n\\r\\n  <body>\\r\\n  <div class=\\\"container\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div id=\\\"left-nav\\\" class=\\\"col-xs-2 col-sm-2\\\">\\r\\n        <ul class=\\\"nav-collapse\\\">\\r\\n          <li>\\r\\n            <a (click)=\\\"showList1()\\\">\\r\\n            <span class=\\\"glyphicon glyphicon-chevron-down\\\">\\r\\n            </span>\\r\\n            </a>\\r\\n          </li>\\r\\n          <ul class=\\\"childList\\\" *ngIf=\\\"show_hide_val1\\\">\\r\\n            <li style=\\\"color: gray\\\"></li>\\r\\n            <li><a data-toggle=\\\"modal\\\" data-target=\\\"#myModal1\\\"></a></li>\\r\\n\\r\\n            <div class=\\\"modal fade\\\" id=\\\"myModal1\\\">\\r\\n                <div class=\\\"modal-dialog\\\">\\r\\n                  <div class=\\\"modal-content\\\">\\r\\n\\r\\n                    <!--  -->\\r\\n                    <div class=\\\"modal-header\\\">\\r\\n                      <h4 class=\\\"modal-title\\\"></h4>\\r\\n                      <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n                    </div>\\r\\n\\r\\n                    <!--  -->\\r\\n                    <div class=\\\"modal-body\\\">\\r\\n                        <li><input type=\\\"text\\\" placeholder=\\\"\\\" [(ngModel)]=\\\"linkname\\\" name=\\\"linkname\\\" class=\\\"form-control\\\"></li>\\r\\n                        <li><input type=\\\"text\\\" placeholder=\\\"\\\" [(ngModel)]=\\\"linkcontent\\\" name=\\\"linkcontent\\\" class=\\\"form-control\\\"></li>\\r\\n                    </div>\\r\\n\\r\\n                    <!--  -->\\r\\n                    <div class=\\\"modal-footer\\\">\\r\\n                      <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\"></button>\\r\\n                      <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\" (click)=\\\"uploadLink()\\\"></button>\\r\\n                    </div>\\r\\n\\r\\n                  </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n            <li><a data-toggle=\\\"modal\\\" data-target=\\\"#myModal2\\\"></a></li>\\r\\n\\r\\n            <div class=\\\"modal fade\\\" id=\\\"myModal2\\\">\\r\\n                <div class=\\\"modal-dialog\\\">\\r\\n                  <div class=\\\"modal-content\\\">\\r\\n\\r\\n                    <!--  -->\\r\\n                    <div class=\\\"modal-header\\\">\\r\\n                      <h4 class=\\\"modal-title\\\"></h4>\\r\\n                      <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n                    </div>\\r\\n\\r\\n                    <!--  -->\\r\\n                    <div class=\\\"modal-body\\\">\\r\\n                        <li><input type=\\\"file\\\" id = \\\"selectfile\\\" (change)=\\\"selectFile($event)\\\"></li>\\r\\n                        <li><input type=\\\"text\\\" id = \\\"fd\\\" placeholder=\\\"\\\" [(ngModel)]=\\\"linkcontent\\\" name=\\\"linkcontent\\\" class=\\\"form-control\\\"></li>\\r\\n                    </div>\\r\\n\\r\\n                    <!--  -->\\r\\n                    <div class=\\\"modal-footer\\\">\\r\\n                      <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\"></button>\\r\\n                      <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\" (click)=\\\"addFile()\\\"></button>\\r\\n                    </div>\\r\\n\\r\\n                  </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n          </ul>\\r\\n          <ul id=\\\"left-bottom\\\">\\r\\n            <li><a routerLink=\\\"/teacher/{{this.username}}\\\"></a></li>\\r\\n            <li><a (click)=\\\"this.exitLogin1()\\\"></a></li>\\r\\n          </ul>\\r\\n        </ul>\\r\\n        \\r\\n      </div>\\r\\n\\r\\n      <div id=\\\"right-part\\\" class=\\\"col-xs-6 col-sm-10\\\">\\r\\n        <ul class=\\\"nav nav-tabs\\\">\\r\\n          <li><a routerLink=\\\"/mindmap/{{this.username}}/{{this.lid}}\\\"></a></li>\\r\\n          <li><a routerLink=\\\"/thomework/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\r\\n          <li class=\\\"active\\\"><a></a></li>\\r\\n          <li><a routerLink=\\\"/tcourseware/{{this.username}}/{{this.mapid}}/{{this.lid}}/{{this.node_id}}\\\"></a></li>\\r\\n        </ul>\\r\\n\\r\\n        <div id=\\\"node-edit\\\" >\\r\\n          <span>\\r\\n            <div>\\r\\n              <div class=\\\"panel panel-default\\\">\\r\\n                <h3></h3>\\r\\n                   <table class=\\\"table table-bordered table-striped\\\" >\\r\\n                    <thead>\\r\\n                    <tr>\\r\\n                      <th width=\\\"10%\\\"></th>\\r\\n                      <th width=\\\"5%\\\"></th>\\r\\n                      <th width=\\\"20%\\\"></th>\\r\\n                      <th width=\\\"20%\\\"></th>\\r\\n                      <th width=\\\"25%\\\"></th>\\r\\n                      <th width=\\\"20%\\\"></th>\\r\\n                    </tr>\\r\\n                    </thead>\\r\\n\\r\\n                    <tbody class = \\\"upload-queue\\\">\\r\\n                      <tr *ngFor=\\\"let item of uploader.queue\\\">\\r\\n                        <td width=\\\"10%\\\"><strong>{{ item?.file?.name }}</strong></td>\\r\\n                        <td width=\\\"5%\\\" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>\\r\\n                        <td width=\\\"20%\\\">\\r\\n                          <div [ngStyle]=\\\"{ 'width': item.progress + '%' }\\\"></div>\\r\\n                        </td>\\r\\n                        <td width=\\\"20%\\\">\\r\\n                          <span *ngIf=\\\"item.isSuccess\\\">OK</span>\\r\\n                          <span *ngIf=\\\"item.isCancel\\\">Cancel</span>\\r\\n                          <span *ngIf=\\\"item.isError\\\">Error</span>\\r\\n                        </td>\\r\\n                        <td width=\\\"25%\\\">\\r\\n                          <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"this.uploadFile(item)\\\" [disabled]=\\\"item.isReady || item.isUploading || item.isSuccess\\\">\\r\\n                            \\r\\n                          </button>\\r\\n                          <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"item.cancel()\\\" [disabled]=\\\"!item.isUploading\\\">\\r\\n                            \\r\\n                          </button>\\r\\n                          <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"removeFile(item)\\\">\\r\\n                            \\r\\n                          </button>\\r\\n                        </td>\\r\\n                        <td width=\\\"20%\\\">\\r\\n                          {{filedescription.get(uploader.queue.indexOf(item))}}\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                 <div>\\r\\n                  <p>: {{ uploader?.queue?.length }}</p>\\r\\n                  :\\r\\n                  <div class=\\\"progress\\\" style=\\\"\\\">\\r\\n                          <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" [ngStyle]=\\\"{ 'width': uploader.progress + '%' }\\\"></div>\\r\\n                  </div>\\r\\n                  <div class=\\\"panel panel-default queue-operation\\\">\\r\\n                    \\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"uploader.uploadAll()\\\" [disabled]=\\\"!uploader.getNotUploadedItems().length\\\">\\r\\n                      \\r\\n                    </button>\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"uploader.cancelAll()\\\" [disabled]=\\\"!uploader.isUploading\\\">\\r\\n                      \\r\\n                    </button>\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"removeAll()\\\" [disabled]=\\\"!uploader.queue.length\\\">\\r\\n                      \\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"panel panel-default\\\">\\r\\n                <h3></h3>\\r\\n                <div class=\\\"panel panel-default\\\">\\r\\n                  <h4></h4>\\r\\n                  <table class=\\\"table table-bordered table-striped\\\">\\r\\n                    <thead>\\r\\n                      <tr>\\r\\n                        <th width=\\\"25%\\\"></th>\\r\\n                        <th width=\\\"50%\\\"></th>\\r\\n                        <th width=\\\"25%\\\"></th>\\r\\n                      </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                      <tr *ngFor=\\\"let item of filenames\\\">\\r\\n                        <td width=\\\"25%\\\"><strong>{{ item.filename }}</strong></td>\\r\\n                        <td width=\\\"50%\\\">{{item.fd}}</td>\\r\\n                        <td width=\\\"25%\\\">\\r\\n                          <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"downloadfile(item.filename)\\\">\\r\\n                            download\\r\\n                          </button>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n                <div class=\\\"panel panel-default\\\">\\r\\n                  <h4></h4>\\r\\n                  <table class=\\\"table table-bordered table-striped\\\">\\r\\n                    <thead>\\r\\n                      <tr>\\r\\n                        <th width=\\\"50%\\\"></th>\\r\\n                        <th width=\\\"50%\\\"></th>\\r\\n                      </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                      <tr *ngFor=\\\"let item of links\\\">\\r\\n                        <td width=\\\"50%\\\"><a target=\\\"_blank\\\" href=\\\"{{ item.linkname }}\\\">{{ item.linkname }}</a></td>\\r\\n                        <td width=\\\"50%\\\">\\r\\n                          {{ item.linkcontent }}\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </span>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <script type=\\\"text/javascript\\\" src=\\\"../../jsmind/js/jsmind.screenshot.js\\\"></script>\\r\\n  </body>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\"","import { Component, OnInit, ElementRef} from '@angular/core';\r\nimport {FileUploader, FileSelectDirective, FileItem, ParsedResponseHeaders} from 'ng2-file-upload';\r\nimport {RestService} from '../../download.service';\r\nimport { UpFiles} from '../../upfiles';\r\nimport {Upfile} from '../../upfile';\r\nimport {UserService} from '../../user.service';\r\nimport {LinkedList} from \"ngx-bootstrap\";\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {MPNode} from '../../MPNode';\r\nimport {Link} from '../../Link';\r\nimport {Response} from '../../response';\r\n\r\n@Component({\r\n  selector: 'app-tresource',\r\n  templateUrl: './tresource.component.html',\r\n  styleUrls: ['./tresource.component.css']\r\n})\r\nexport class TresourceComponent implements OnInit {\r\n\r\n  show_hide_val1: boolean = false;\r\n  upfiles: UpFiles = new UpFiles();\r\n  filenames: Upfile[];\r\n  lid: string;\r\n  node_id: string;\r\n  linkname: string;\r\n  linkcontent: string;\r\n  links: Link[];\r\n  username: string;\r\n  mapid: string;\r\n  constructor(private router: Router,private route: ActivatedRoute, private restService: RestService, private userService: UserService , private elementRef: ElementRef) { }\r\n\r\n\r\n  public url: string = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/upload/1';\r\n  public uploader: FileUploader = new FileUploader({url: this.url});\r\n  selectedFiles: FileList;\r\n  public filedescription: LinkedList<string> = new LinkedList();\r\n\r\n  showFile() {\r\n    let mpnode = new MPNode();\r\n    mpnode.lid=this.lid;\r\n    mpnode.node_id=this.node_id;\r\n    mpnode.mapid=this.mapid;\r\n    console.log(mpnode);\r\n    this.userService.showResource(mpnode).subscribe(data => {\r\n      console.log(data);\r\n      if(data ===null){\r\n      }else{\r\n        this.upfiles.list = data;\r\n        this.update(this.upfiles);\r\n      }\r\n    });\r\n  }\r\n\r\n  update(upfiles: UpFiles) {\r\n    let tmp = new Upfile();\r\n    this.filenames = [];\r\n    console.log(upfiles.list.length);\r\n    for (let i = 0; i < upfiles.list.length; i ++) {\r\n      tmp.lid = upfiles.list[i].lid;\r\n      tmp.filename = upfiles.list[i].filename;\r\n      tmp.fd= upfiles.list[i].fd;\r\n      this.filenames.push(tmp);\r\n      tmp = new Upfile();\r\n    }\r\n  }\r\n\r\n  selectFile(event) {\r\n    console.log('select file');\r\n    this.selectedFiles = event.target.files;\r\n  }\r\n\r\n  getID1() {\r\n    const mapid = this.route.snapshot.paramMap.get('mapid');\r\n    this.mapid=mapid;\r\n    const lid = this.route.snapshot.paramMap.get('lid');\r\n    const username = this.route.snapshot.paramMap.get('username');\r\n    this.username = username;\r\n    this.userService.examineLogin(this.username)\r\n        .subscribe(data => {\r\n          let re = new Response();\r\n          re = data;\r\n          console.log(re.status);\r\n          if (re.status === \"online\") {\r\n          }else {\r\n            alert(\"\");\r\n            this.router.navigateByUrl('login');\r\n          }\r\n        });\r\n    console.log(lid);\r\n    this.lid = lid;\r\n    console.log(this.lid);\r\n    const node_id = this.route.snapshot.paramMap.get('node_id');\r\n    this.node_id = node_id;\r\n    this.url='http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/upload_resource/'+this.lid+\"/\"+this.node_id+\"/\"+this.mapid;\r\n    console.log(this.url);\r\n    this.uploader=new FileUploader({url: this.url});\r\n  }\r\n\r\n  addFile() {\r\n    const file = [];\r\n    file.push(this.selectedFiles.item(0));\r\n    const filedescribe = this.elementRef.nativeElement.querySelector('#fd').value;\r\n    console.log('filedescribe: ' + filedescribe);\r\n    this.filedescription.push(filedescribe);\r\n    console.log('filedescription: ');\r\n    console.log(this.filedescription);\r\n    this.uploader.addToQueue(file);\r\n  }\r\n\r\n  removeFile(item: FileItem) {\r\n    const index = this.uploader.queue.indexOf(item);\r\n    this.filedescription.remove(index);\r\n    item.remove();\r\n  }\r\n\r\n  removeAll() {\r\n    const length = this.filedescription.length;\r\n    for (let i = 0; i < length; i++) {\r\n      this.filedescription.remove(0);\r\n    }\r\n    this.uploader.clearQueue();\r\n  }\r\n\r\n\r\n  uploadFile(item: FileItem) { // idlid uploadAllFIle\r\n    item.upload();\r\n    // \r\n  }\r\n\r\n  uploadLink() {\r\n    this.restService.uploadLink(this.linkname, this.linkcontent,this.lid,this.node_id,this.mapid).subscribe(result => {\r\n      // result \r\n      console.log(\"upload link success\");\r\n      this.showLink();\r\n    });\r\n\r\n  }\r\n  showLink() {\r\n    this.restService.showLink(this.lid,this.node_id,this.mapid).subscribe(data => {\r\n      // \r\n      console.log(\"get link success\");\r\n      this.links = data;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getID1();\r\n    this.showFile();\r\n    this.showLink();\r\n    this.uploader.onAfterAddingFile = this.afterAddingFile;\r\n    this.uploader.onSuccessItem = this.afterSuccess.bind(this);\r\n  }\r\n\r\n  afterAddingFile(fileitem: FileItem): any {\r\n    fileitem.withCredentials = false;\r\n    console.log(fileitem);\r\n  }\r\n  afterSuccess(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n    const index = this.uploader.queue.indexOf(item);\r\n    const fd = this.filedescription.get(index);\r\n    alert(\"\");\r\n    console.log(\"upload fd\");\r\n    this.restService.uploadFileDescription(item.file.name, fd, this.lid, this.node_id,this.mapid)\r\n        .subscribe(data => {\r\n          console.log(data);\r\n          this.showFile();\r\n        });\r\n  }\r\n  showList1() {\r\n    this.show_hide_val1 = !this.show_hide_val1;\r\n  }\r\n  downloadfile(filename) {\r\n    console.log('downloadfile start');\r\n    this.restService.download(filename, this.lid,this.mapid);\r\n  }\r\n  exitLogin1() {\r\n    this.userService.exitLogin(this.username)\r\n        .subscribe(data => {\r\n          alert(\"\");\r\n          this.router.navigateByUrl('login');\r\n        });\r\n  }\r\n}\r\n","/**\n * Created by sunlu on 2018/6/18.\n */\nexport class Upfile {\n    node_id: string;\n    lid: string;\n    filename: string;\n    fd: string;\n    mapid:string;\n}\n","import { Upfile } from './upfile';\n\nexport class UpFiles {\n    list: Array<Upfile>;\n}\n\n","import { Injectable } from '@angular/core';\nimport { User } from './person';\nimport { Response } from './response';\nimport { HttpHeaders, HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {Lessons} from './lessons';\nimport {Lesson} from './lesson';\nimport {Course} from './course';\nimport {UpFiles} from './upfiles';\nimport {Upfile} from './upfile';\nimport {MindMap} from './mindmap';\nimport {Number} from './number';\nimport {SelectQ} from './selectQ';\nimport {MPNode} from './MPNode';\nimport {DescripQ1} from './descripQ';\n\nimport {Account} from './account';\n\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n};\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class UserService {\n  private registerUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/register';\n  private loginUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/login';\n  private lessonUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/teacher_lessons/';\n  private addUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/teacher_add_lessons/';\n  private add2Url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/student_add_lessons/'\n  private courseUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/student_lessons/';\n  private addAllUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/addAll';\n  private saveMindMapUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/saveMindMap';\n  private getMindMapUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/getMindMap';\n  private saveNumUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/saveNum';\n  private getNumUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/getNum';\n  private addQ0Url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/addQ0';\n  private getQ0Url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/getQ0';\n  private addQ1Url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/addQ1';\n  private getQ1Url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/getQ1';\n  private removeQ0Url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/removeQ0';\n  private removeQ1Url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/removeQ1';\n  private submitUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/submit';\n\n  constructor(private http: HttpClient) { }\n\n  public createUser(user: User ): Observable<Response> {\n    return this.http.post<Response>(this.registerUrl, user);\n  }\n\n  public login(user: User ): Observable<Response> {\n    return this.http.post<Response>(this.loginUrl, user);\n  }\n  public changePass(password: Account): Observable<Response> {\n    let examineloginUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/changePass';\n    return this.http.post<Response>(examineloginUrl, password);\n  }\n\n  public examineLogin(username: string): Observable<Response> {\n    let examineloginUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/examinelogin/' + username;\n    return this.http.post<Response>(examineloginUrl, []);\n  }\n\n  public exitLogin(username: string):Observable<Response> {\n    let examineloginUrl = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/exitlogin/' + username;\n    return this.http.post<Response>(examineloginUrl, []);\n  }\n\n  public getLessons(user: User): Observable<Array<any>> {\n    return this.http.post<Array<any>>(this.lessonUrl, user);\n  }\n\n  public addLessons(lesson: Lesson): Observable<Response> {\n    return this.http.post<Response>(this.addUrl, lesson);\n  }\n\n  public getCourses(user: User): Observable<Array<any>> {\n    return this.http.post<Array<any>>(this.courseUrl, user);\n  }\n\n  public addAll(user: User): Observable<Array<any>> {\n    return this.http.post<Array<any>>(this.addAllUrl, user);\n  }\n\n  public addCourses(lesson: Course): Observable<Response> {\n    return this.http.post<Response>(this.add2Url, lesson);\n  }\n\n  public showWare(mpnode: MPNode): Observable<Array<any>> {\n    const url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/showWare';\n    return this.http.post<Array<any>>(url, mpnode );\n  }\n\n  public showResource(mpnode: MPNode): Observable<Array<any>> {\n    const url = 'http://13.67.110.158:8004/pj-0.0.1-SNAPSHOT/showResource';\n    return this.http.post<Array<any>>(url, mpnode );\n  }\n\n  public saveMindMap(mmp: MindMap): Observable<any> {\n    return this.http.post<any>(this.saveMindMapUrl, mmp);\n  }\n\n  public getMindMap(lesson: Lesson): Observable<any> {\n    return this.http.post<any>(this.getMindMapUrl, lesson);\n  }\n\n  public saveNum(num: Number): Observable<any> {\n    return this.http.post<any>(this.saveNumUrl, num);\n  }\n\n  public getNum(lesson: Lesson): Observable<any> {\n    return this.http.post<any>(this.getNumUrl, lesson);\n  }\n\n  public addQ0(selectQ: SelectQ): Observable<any> {\n    return this.http.post<any>(this.addQ0Url, selectQ);\n  }\n\n  public getQ0(mpNode: MPNode): Observable<Array<any>> {\n    return this.http.post<Array<any>>(this.getQ0Url, mpNode);\n  }\n\n  public addQ1(descripQ: DescripQ1): Observable<any> {\n    return this.http.post<any>(this.addQ1Url, descripQ);\n  }\n\n  public getQ1(mpNode: MPNode): Observable<Array<any>> {\n    return this.http.post<Array<any>>(this.getQ1Url, mpNode);\n  }\n\n  public removeQ0(selectQ: SelectQ): Observable<any> {\n    return this.http.post<any>(this.removeQ0Url, selectQ);\n  }\n\n  public removeQ1(selectQ: DescripQ1): Observable<any> {\n    return this.http.post<any>(this.removeQ1Url, selectQ);\n  }\n\n  public submit(data: any): Observable <Response> {\n    return this.http.post<Response>(this.submitUrl, data);\n  }\n}\n\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}